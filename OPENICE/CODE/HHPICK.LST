TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    1

       1                            .MLIB   "HHMACS.LIB"
       2                            .FILE   "HHPICK.ASM"
       3                            .WIDTH  132
       4                            .OPTION B,D,L,T
       5                            .MNOLIST
       6                    
       7                    *
       8                    *GET THE SYSTEM STUFF
       9                    *
      10                            .INCLUDE        "HH.INC"
      11                            .INCLUDE        "HHPICK.H"
      12                            .INCLUDE        "HHSTRING.H"
      13                            .INCLUDE        "IMGTBL.GLO"
      14                            .INCLUDE        "HHPICK.TBL"
      15                            .INCLUDE        "nonext.tbl"
      16                            .include        "hhpick.e"
      17                    ;       .include        "hhsnd.g"
      18                             .ref   set_select_tune
      19                             .ref   do_sound
      20                             .ref   do_sound_at_volume
      21                            .include        "hhram.g"
      22                            .include        "hhd.g"
      23                            .include        "hhproc.g"
      24                            .include        "hhmisc.g"
      25                            .include        "hhfade.g"
      26                            .include        "hhtext.g"
      27                            .include        "hhgame.g"
      28                            .include        "hhafunc.g"
      29                            .include        "hhselect.g"
      30                    ;       .include        "hhcmos.g"
      31                             .ref   GET_ADJ
      32                             .ref   AUD1
      33                            .include        "hhc.g"
      34                            .include        "hhpall.g"
      35                    ;       .include        "hhplayer.g"
      36                             .ref   PLAYER_1_BLOCK
      37                             .ref   PLAYER_2_BLOCK
      38                             .ref   PLAYER_5_BLOCK
      39                             .ref   PLAYER_6_BLOCK
      40                             .ref   arrow1t
      41                             .ref   arrow2t
      42                             .ref   arrow3t
      43                             .ref   arrow4t
      44                            .include        "hhutil.g"
      45                            .include        "hhcoin.g"
      46                            .include        "hhstable.g"
      47                            .include        "hhcx.g"
      48                    ;       .include        "hhcontrl.g"
      49                             .ref   shadow3
      50                            .include        "hhstabl2.g"
      51                    ;       .include        "hhcontr2.g"
      52                             .ref   update_drone_msgs
      53                            .include        "hhgscr.g"
      54                    ;       .include        "hhstabl3.g"
      55                            .include        "hhpick2.g"
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    2

      56                            .include        "hh.g"
      57                    ;       .include        "hhspeech.g"
      58                             .ref   spx_gordie_picked
      59                    
      60                    ; end of include files
      61                    
      62                            .REF    WARMSK2
      63                    
      64 00000000                   .BSS    PLAYER_INITIAL_BITS,16
      65 00000010                   .BSS    TEAM_SELECT_BITS,8
      66 00000018                   .BSS    TEAM_SELECTED_BITS,8
      67                    
      68 00000020                   .BSS    DEFEAT_LIST_STRING,8*44 ;=8*(13*3+1+1)+8*3
      69                    
      70 00000180                   .BSS    BLUE_SELECT_OBJ,32
      71 000001a0                   .BSS    BLUE_MUG_BGND_OBJ,32
      72 000001c0                   .BSS    RED_SELECT_OBJ,32
      73 000001e0                   .BSS    RED_MUG_BGND_OBJ,32
      74                    
      75 00000200                   .BSS    TIMER_DIGIT_OBJ,32
      76 00000220                   .BSS    TIMES_UP,16
      77                    
      78 00000230                   .BSS    RANDOM_ENABLE_BITS,8
      79 00000238                   .BSS    LOCKED_CHAR_BITS,8
      80                    
      81 00000240                   .BSS    TEAM_SELECT_STARTIRQ,32
      82                    
      83 00000000                   .text
      84 00000000                   .even
      85                    
      86                    **************************************************************************
      87                    *                                                                        *
      88                    * INITIAL_ENTRY - ENTER INITIALS AND SELECT TEAM AND PLAYERS             *
      89                    *                                                                        *
      90                    * PASS:                                                                  *
      91                    * NUTIN'                                                                 *
      92                    *                                                                        *
      93                    * RETURN:                                                                *
      94                    * NUTIN'                                                                 *
      95                    *                                                                        *
      96                    **************************************************************************
      97                    
      98              0026  TEAMBOX_X       EQU     38
      99              0015  TEAMBOX_Y       EQU     21 ;17
     100                    
     101              0008  Y_EDGE          EQU     8
     102          00530063  YES_XYPOS       EQU     [91-Y_EDGE,99]
     103          0053012b  NO_XYPOS        EQU     [91-Y_EDGE,299]
     104                    
     105 00000000           INITIAL_ENTRY
     106 00000000     09ce          MOVI    ININTRO_INITQ,A14               
         00000010     0019  
     107 00000020     058e          MOVE    A14,@GAME_STATE,W
         00000030 00000000! 
     108                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    3

     109 00000050     57ce          CLR     A14
     110 00000060     05ee          MOVB    A14,@LOCKED_CHAR_BITS
         00000070 00000238- 
     111                    
     112 00000090                   BLACKON                                 ;USE BLACKPAL
     113                    
     114 000000d0     09e0          MOVI    FONTGRYP,A0
         000000e0 00000000! 
     115 00000100     0d5f          CALLA   GETFPAL
         00000110 00000000! 
     116 00000130     09e0          MOVI    REDTXT3P,A0
         00000140 00000000! 
     117 00000160     0d5f          CALLA   GETFPAL
         00000170 00000000! 
     118 00000190     09e0          MOVI    ORGTXT1P,A0
         000001a0 00000000! 
     119 000001c0     0d5f          CALLA   GETFPAL
         000001d0 00000000! 
     120                    
     121 000001f0     1881          MOVK    4,A1
     122 00000200     09e2          MOVI    PLAYER_PAL_TABLE,A2
         00000210 00007290' 
     123 00000230           IE_PAL_LUPE
     124 00000230     9640          MOVE    *A2+,A0,L
     125 00000240     0d5f          CALLA   GETFPAL
         00000250 00000000! 
     126 00000270     3ca1          DSJS    A1,IE_PAL_LUPE
     127                    
     128 00000280     57ce          CLR     A14
     129 00000290     078e          MOVE    A14,@BLUE_SELECT_OBJ,L          ;RESET TEAM SELECT OBJECTS
         000002a0 00000180- 
     130 000002c0     078e          MOVE    A14,@RED_SELECT_OBJ,L
         000002d0 000001c0- 
     131                    
     132 000002f0     0d5f          calla   set_select_tune
         00000300 00000000! 
     133                    
     134 00000320     09f0          MOVI    BOTTOM_METAL_ICE_INIT,B0
         00000330 000060f0' 
     135 00000350     0d5f          CALLA   MULTIMAKE
         00000360 00000000! 
     136                    
     137                    ;       CREATE  PID_LAMP,INITIAL_LAMP_PROC
     138                    
     139 00000380     09e9          MOVI    [241,201],A9
         00000390 00f100c9  
     140 000003b0     574a          CLR     A10
     141 000003c0                   CREATE  PID_CREDIT,DISPLAY_CREDIT_PROC
     142                    
     143 00000440     0d3f          CALLR   INITIAL_GRAPHICS_1
         00000450     0499  
     144                    
     145 00000460     09f0          MOVI    PAIDBOX_INIT,B0
         00000470 000081e0' 
     146 00000490     0d5f          CALLA   EASYMAKE
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    4

         000004a0 00000000! 
     147 000004c0     09e1          MOVI    [INFOBOX_Y+117,INFOBOX_XL+24],A1
         000004d0 00e40025  
     148 000004f0     09e2          MOVI    TEXTZVAL-3,A2
         00000500 83fffffd  
     149 00000520     0d5f          CALLA   SET_SCRNOBJ
         00000530 00000000! 
     150 00000550     0d5f          CALLA   INSERT_OBJ
         00000560 00000000! 
     151 00000580     09e0          MOVI    BLUFRMP,A0
         00000590 0000a1c0' 
     152 000005b0     0d5f          CALLA   CHANGE_PAL
         000005c0 00000000! 
     153                    
     154 000005e0     09f0          MOVI    PAIDBOX_INIT,B0
         000005f0 000081e0' 
     155 00000610     0d5f          CALLA   EASYMAKE
         00000620 00000000! 
     156 00000640     09e1          MOVI    [INFOBOX_Y+117,INFOBOX_XR+104],A1
         00000650 00e40138  
     157 00000670     09e2          MOVI    TEXTZVAL-3,A2
         00000680 83fffffd  
     158 000006a0     0d5f          CALLA   SET_SCRNOBJ
         000006b0 00000000! 
     159 000006d0     0d5f          CALLA   INSERT_OBJ
         000006e0 00000000! 
     160 00000700     09e0          MOVI    REDFRMP,A0
         00000710 0000a520' 
     161 00000730     0d5f          CALLA   CHANGE_PAL
         00000740 00000000! 
     162                    
     163 00000760                   KITN    2
     164 000007a0     ca30          JREQ    IE_MESSES                               ;BR=2 PLAYER KIT
     165                    
     166 000007b0     09f0          MOVI    PAIDBOX_INIT,B0
         000007c0 000081e0' 
     167 000007e0     0d5f          CALLA   EASYMAKE
         000007f0 00000000! 
     168 00000810     09e1          MOVI    [INFOBOX_Y+117,INFOBOX_XL+104],A1
         00000820 00e40075  
     169 00000840     09e2          MOVI    TEXTZVAL-3,A2
         00000850 83fffffd  
     170 00000870     0d5f          CALLA   SET_SCRNOBJ
         00000880 00000000! 
     171 000008a0     0d5f          CALLA   INSERT_OBJ
         000008b0 00000000! 
     172 000008d0     09e0          MOVI    BLUFRMP,A0
         000008e0 0000a1c0' 
     173 00000900     0d5f          CALLA   CHANGE_PAL
         00000910 00000000! 
     174                    
     175 00000930     09f0          MOVI    PAIDBOX_INIT,B0
         00000940 000081e0' 
     176 00000960     0d5f          CALLA   EASYMAKE
         00000970 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    5

     177 00000990     09e1          MOVI    [INFOBOX_Y+117,INFOBOX_XR+24],A1
         000009a0 00e400e8  
     178 000009c0     09e2          MOVI    TEXTZVAL-3,A2
         000009d0 83fffffd  
     179 000009f0     0d5f          CALLA   SET_SCRNOBJ
         00000a00 00000000! 
     180 00000a20     0d5f          CALLA   INSERT_OBJ
         00000a30 00000000! 
     181 00000a50     09e0          MOVI    REDFRMP,A0
         00000a60 0000a520' 
     182 00000a80     0d5f          CALLA   CHANGE_PAL
         00000a90 00000000! 
     183 00000ab0           IE_MESSES
     184 00000ab0     09e8          MOVI    ENTER_INITIALS_MESS,A8
         00000ac0 00007350' 
     185 00000ae0                   JSRP    LM_PRINTF
     186                    
     187 00000b50     09e8          MOVI    YES_MESS,A8
         00000b60 00007530' 
     188 00000b80                   JSRP    LM_PRINTF
     189                    
     190 00000bf0     09e8          MOVI    NO_MESS,A8
         00000c00 00007610' 
     191 00000c20                   JSRP    LM_PRINTF
     192                    
     193 00000c90                   KITN    2
     194 00000cd0     ca19          JREQ    IE_ANSBOX                       ;BR=2 PLAYER KIT
     195                    
     196 00000ce0     19e0          MOVK    ADJCHALMODE,A0
     197 00000cf0     0d5f          CALLA   GET_ADJ                         ;CHECK FOR CHALLENGE MODE
         00000d00 00000000! 
     198 00000d20     ca14          JRZ     IE_ANSBOX                       ;BR=NO
     199 00000d30     09e8          MOVI    WINNING_MESS,A8
         00000d40 000076f0' 
     200 00000d60     1420          SUBK    1,A0
     201 00000d70     ca08          JRZ     IE_CHALMESS                     ;BR=4 PLAYER MESSAGE
     202 00000d80     09e8          MOVI    WINNING2_MESS,A8                ;ANY PLAYER MESSAGE
         00000d90 000079b0' 
     203 00000db0     1420          subk    1,a0
     204 00000dc0     ca03          jrz     IE_CHALMESS
     205 00000dd0     09e8          movi    WINNING3_MESS,a8
         00000de0 00007cb0' 
     206 00000e00           IE_CHALMESS
     207 00000e00                   JSRP    LM_PRINTF
     208 00000e70           IE_ANSBOX
     209 00000e70     09f0          MOVI    ANSBOX_INIT,B0
         00000e80 00007ef0' 
     210 00000ea0     0d5f          CALLA   EASYMAKE
         00000eb0 00000000! 
     211 00000ed0     09ce          MOVI    52 << 8 + 52,A14
         00000ee0     3434  
     212 00000ef0     b1c8          MOVE    A14,*A8(OCONST),W
         00000f00     0290  
     213 00000f10     09e0          MOVI    GRNFRMP,A0
         00000f20 0000a880' 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    6

     214 00000f40     0d5f          CALLA   CHANGE_PAL
         00000f50 00000000! 
     215                    
     216 00000f70                   BLACKOFF
     217                    
     218 00000fb0                   SLEEP   1
     219                    
     220 00000ff0     5600          CLR     A0
     221 00001000     0d5f          CALLA   FADEINF                         ;FADE DOWN ALL PALETTES
         00001010 00000000! 
     222 00001030                   JSRP    FADE_WAIT
     223                    
     224 000010a0                   PUSH    A8
     225                    
     226 000010b0     5729          CLR     A9                              ;PLAYER NUMBER - 1
     227 000010c0     05aa          MOVE    @PLAYER_BITS,A10,W              ;GET CURRENT PLAYERS
         000010d0 00000000! 
     228                    
     229 000010f0     576b          CLR     A11
     230 00001100     1a80          MOVK    ADJFREPL,A0
     231 00001110     0d5f          CALLA   GET_ADJ                         ;CHECK FOR FREE PLAY
         00001120 00000000! 
     232 00001140     cb05          JRNZ    IE_INFOBOX_MESS_LUPE            ;BR=FREE PLAY
     233                    
     234 00001150     1960          MOVK    ADJCSTRT,A0
     235 00001160     0d5f          CALLA   GET_ADJ                         ;GET NUMBER OF CREDITS TO START
         00001170 00000000! 
     236 00001190     4c0b          MOVE    A0,A11
     237                    
     238 000011a0           IE_INFOBOX_MESS_LUPE
     239 000011a0     4b2a          BTST    A9,A10
     240 000011b0     cb2d          JRNZ    IE_IML_ACTIVE                   ;BR=PLAYER ACTIVE
     241                    
     242 000011c0     4d29          MOVE    A9,A9
     243 000011d0     ca08          JRZ     IE_GO_INFOBOX_MESS              ;BR=PLAYER 1
     244 000011e0     0b49          CMPI    3,A9
         000011f0     fffc  
     245 00001200     ca05          JREQ    IE_GO_INFOBOX_MESS              ;BR=PLAYER 4(2)         
     246                    
     247 00001210                   KITN    2
     248 00001250     ca2b          JREQ    IE_IML_NEXT                     ;BR=2 PLAYER KIT
     249 00001260           IE_GO_INFOBOX_MESS
     250                    
     251 00001260     09f0          MOVI    INFOBOX_MESSAGE_INIT,B0
         00001270 00008240' 
     252 00001290     0d5f          CALLA   EASYMAKE
         000012a0 00000000! 
     253                    
     254 000012c0     b128          MOVE    A9,*A8(ODATA),W                 ;PLAYER NUMBER - 1
         000012d0     04b0  
     255 000012e0     b168          MOVE    A11,*A8(ODATA+010H),W           ;NUMBER OF CREDITS TO START
         000012f0     04c0  
     256                    
     257 00001300     4d21          MOVE    A9,A1
     258 00001310     2481          SLL     4,A1
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    7

     259 00001320     0b21          ADDI    PLAYER_OID3_TABLE,A1
         00001330 000171b0' 
     260 00001350     b828          MOVE    *A1(0),*A8(OID),W
         00001360     0000  
         00001370     0430  
     261                    
     262 00001380     4d21          MOVE    A9,A1
     263 00001390     2481          SLL     4,A1
     264 000013a0     0b21          ADDI    INFOBOX_CENTER_XPOS_TABLE,A1
         000013b0 00007eb0' 
     265 000013d0     8421          MOVE    *A1,A1,W
     266 000013e0     09ee          MOVI    [INFOBOX_Y+92,-30],A14
         000013f0 00cbffe2  
     267 00001410     e1c1          ADDXY   A14,A1
     268 00001420     5642          CLR     A2
     269 00001430     0d5f          CALLA   SET_SCRNOBJ
         00001440 00000000! 
     270                    
     271 00001460     0d5f          CALLA   INSERT_OBJ
         00001470 00000000! 
     272                    
     273 00001490           IE_IML_ACTIVE
     274 00001490                   CREATE  PID_IND,PERIODS_PAID_PROC
     275 00001510           IE_IML_NEXT
     276 00001510     1029          INC     A9
     277 00001520     0b49          CMPI    4,A9
         00001530     fffb  
     278 00001540     cbc5          JRNE    IE_INFOBOX_MESS_LUPE            ;BR=NOT DONE WITH PLAYERS
     279                    
     280 00001550                   PULLQ   A8
     281                    
     282 00001560     1829          MOVK    1,A9                            ;SET CURRENT STATE TO "YES"
     283 00001570     574a          CLR     A10                             ;CLEAR LAST SWITCH
     284 00001580     09cb          MOVI    60*5,A11                        ;TIMEOUT TIME
         00001590     012c  
     285 000015a0           IE_ANSWER_CHECK
     286                    
     287 000015a0     07a1          MOVE    @SWITCH,A1,L
         000015b0 01860000  
     288 000015d0     03e1          NOT     A1
     289 000015e0     0b81          ANDI    07C7C7C7CH,A1                   ;ALL BUTTONS, LEFT, AND RIGHT
         000015f0 83838383  
     290 00001610     4941          CMP     A10,A1
     291 00001620     ca50          JREQ    IE_AC_NAP
     292                    
     293 00001630     4c2a          MOVE    A1,A10                          ;NEW LAST SWITCH
     294                    
     295 00001640     05a0          MOVE    @PLAYER_BITS,A0,W               ;GET CURRENT PLAYERS
         00001650 00000000! 
     296                    
     297 00001670     5642          CLR     A2
     298 00001680     09c3          MOVI    M_SW_T|M_SW_P|M_SW_S,A3
         00001690     0070  
     299 000016a0     1844          MOVK    B_SW_L,A4                       ;LEFT SWITCH BIT
     300                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    8

     301 000016b0     1885          MOVK    4,A5
     302                    
     303 000016c0           IE_AC_CHECK_LUPE
     304 000016c0     4a40          BTST    A2,A0
     305 000016d0     ca11          JRZ     IE_AC_CHECK_NEXT                ;BR=PLAYER NOT ACTIVE
     306                    
     307 000016e0     4c2e          MOVE    A1,A14
     308 000016f0     506e          AND     A3,A14
     309 00001700     cb5f          JRNZ    IE_ANSWERED                     ;BR=ANSWER SELECTED
     310                    
     311 00001710     4a81          BTST    A4,A1
     312 00001720     ca04          JRZ     IE_AC_CHECK_RIGHT               ;BR=NOT LEFT
     313 00001730     4d29          MOVE    A9,A9
     314 00001740     cb0a          JRNZ    IE_AC_CHECK_NEXT                ;BR=ALREADY "YES"
     315 00001750     1829          MOVK    1,A9
     316 00001760     c017          JRUC    IE_AC_UPDATE
     317 00001770           IE_AC_CHECK_RIGHT
     318 00001770     4c8e          MOVE    A4,A14
     319 00001780     102e          INC     A14
     320 00001790     4bc1          BTST    A14,A1
     321 000017a0     ca04          JRZ     IE_AC_CHECK_NEXT                ;BR=NOT RIGHT
     322 000017b0     4d29          MOVE    A9,A9
     323 000017c0     ca02          JRZ     IE_AC_CHECK_NEXT                ;BR=ALREADY "NO"
     324 000017d0     5729          CLR     A9
     325 000017e0     c00f          JRUC    IE_AC_UPDATE
     326 000017f0           IE_AC_CHECK_NEXT
     327 000017f0     1022          INC     A2                              ;NEXT PLAYER BIT POSITION
     328 00001800     2503          SLL     8,A3                            ;NEXT BUTTON SWITCH MASK
     329 00001810     1104          ADDK    8,A4                            ;NEXT JOYSTICK SWITCH POSITION
     330                    
     331 00001820                   KITN    4
     332 00001860     ca04          JREQ    IE_AC_DSJ                       ;BR=4 PLAYER KIT
     333 00001870     0b42          CMPI    4,A2
         00001880     fffb  
     334 00001890     ca29          JREQ    IE_AC_NAP                       ;BR=CHECKED 2 PLAYER LAST
     335 000018a0     1862          MOVK    3,A2
     336                    
     337 000018b0           IE_AC_DSJ
     338 000018b0     0d85          DSJ     A5,IE_AC_CHECK_LUPE
         000018c0     ffdf  
     339                    
     340 000018d0     c025          JRUC    IE_AC_NAP
     341                    
     342 000018e0           IE_AC_UPDATE
     343 000018e0     0d3f          CALLR   MOVE_SOUND
         000018f0     1d2e  
     344                    
     345 00001900     09e1          MOVI    YES_XYPOS,A1
         00001910 00530063  
     346 00001930     09e3          MOVI    YESBLK1,A3
         00001940 000046e0" 
     347 00001960     09e5          MOVI    GRNFRMP,A5
         00001970 0000a880' 
     348 00001990     4d29          MOVE    A9,A9
     349 000019a0     cb09          JRNZ    IE_AC_UPDATE_GO                 ;BR=HI-LITE "YES"
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE    9

     350 000019b0     09e1          MOVI    NO_XYPOS,A1
         000019c0 0053012b  
     351 000019e0     09e3          MOVI    NOBLK1,A3
         000019f0 00004770" 
     352 00001a10     09e5          MOVI    REDFRMP,A5
         00001a20 0000a520' 
     353 00001a40           IE_AC_UPDATE_GO
     354 00001a40     1822          MOVK    1,A2
     355 00001a50     0d5f          CALLA   SET_SCRNOBJ
         00001a60 00000000! 
     356                    
     357 00001a80     4c61          MOVE    A3,A1
     358 00001a90     09e4          MOVI    DMAWNZ,A4
         00001aa0 00008002  
     359 00001ac0     0d5f          CALLA   ANI
         00001ad0 00000000! 
     360                    
     361 00001af0     4ca0          MOVE    A5,A0
     362 00001b00     0d5f          CALLA   CHANGE_PAL
         00001b10 00000000! 
     363                    
     364 00001b30           IE_AC_NAP
     365 00001b30                   SLEEP   1
     366 00001b70     0d8b          DSJ     A11,IE_ANSWER_CHECK             ;TIMEOUT CHECK
         00001b80     ffa1  
     367                    
     368 00001b90     5729          CLR     A9                              ;FORCE "NO"
     369 00001ba0     09e1          MOVI    NO_XYPOS,A1
         00001bb0 0053012b  
     370 00001bd0     1822          MOVK    1,A2
     371 00001be0     0d5f          CALLA   SET_SCRNOBJ
         00001bf0 00000000! 
     372                    
     373 00001c10     09e1          MOVI    NOBLK1,A1
         00001c20 00004770" 
     374 00001c40     09e4          MOVI    DMAWNZ,A4
         00001c50 00008002  
     375 00001c70     0d5f          CALLA   ANI
         00001c80 00000000! 
     376                    
     377 00001ca0     09e0          MOVI    REDFRMP,A0
         00001cb0 0000a520' 
     378 00001cd0     0d5f          CALLA   CHANGE_PAL
         00001ce0 00000000! 
     379                    
     380 00001d00           IE_ANSWERED
     381 00001d00     0d5f          CALLA   PULL_ANIM                       ;STOP BLINK
         00001d10 00000000! 
     382                    
     383 00001d30     0d3f          CALLR   PICK_SOUND
         00001d40     1cf5  
     384                    
     385 00001d50     18aa          MOVK    5,A10
     386 00001d60           IE_FLASH_LUPE
     387 00001d60     b50e          MOVE    *A8(OCTRL),A14,W                ;TURN ON CONSTANT NON-ZERO
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   10

         00001d70     01f0  
     388 00001d80     0bce          XORI    DMAWNZ,A14
         00001d90 00008002  
     389 00001db0     0bae          ORI     DMACNZ,A14
         00001dc0 00008008  
     390 00001de0     b1c8          MOVE    A14,*A8(OCTRL),W
         00001df0     01f0  
     391                    
     392 00001e00                   SLEEP   3
     393                    
     394 00001e40     b50e          MOVE    *A8(OCTRL),A14,W                ;TURN ON WRITE NON-ZERO
         00001e50     01f0  
     395 00001e60     0bce          XORI    DMACNZ,A14
         00001e70 00008008  
     396 00001e90     0bae          ORI     DMAWNZ,A14
         00001ea0 00008002  
     397 00001ec0     b1c8          MOVE    A14,*A8(OCTRL),W
         00001ed0     01f0  
     398                    
     399 00001ee0                   SLEEP   3
     400                    
     401 00001f20     3faa          DSJ     A10,IE_FLASH_LUPE
     402                    
     403 00001f30     09ce          MOVI    0101H,A14
         00001f40     0101  
     404 00001f50     b1c8          MOVE    A14,*A8(OCONST),W
         00001f60     0290  
     405                    
     406 00001f70                   SLEEP   20
     407                    
     408 00001fb0     0d5f          CALLA   CLRTEXT
         00001fc0 00000000! 
     409                    
     410 00001fe0     09c0          MOVI    OID_SELECT_1,A0
         00001ff0     0490  
     411 00002000     0d5f          CALLA   KILOBJ_ALL
         00002010 00000000! 
     412                    
     413 00002030     4d29          MOVE    A9,A9
     414 00002040     ca00          JRZ     IE_TEAM_SELECT                  ;BR=THE ANSWER IS "NO!"
         00002050     00ee  
     415                    
     416 00002060     0d3f          CALLR   CENTER_ICE_BGND
         00002070     0922  
     417                    
     418 00002080     09f0          MOVI    CENTER_NUMBERS_INIT,B0
         00002090 000069d0' 
     419 000020b0                   KITN    4
     420 000020f0     ca03          JREQ    IE_MAKE_CENTER_NUMBERS          ;BR=4 PLAYER KIT
     421 00002100     09f0          MOVI    CENTER_NUMBERS_2P_INIT,B0
         00002110 00006c10' 
     422 00002130           IE_MAKE_CENTER_NUMBERS
     423 00002130     0d5f          CALLA   MULTIMAKE
         00002140 00000000! 
     424                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   11

     425 00002160     09ce          MOVI    ININTRO_INITENT,A14
         00002170     001a  
     426 00002180     058e          MOVE    A14,@GAME_STATE,W
         00002190 00000000! 
     427                    
     428 000021b0     09f0          MOVI    SELECTFRAME_INIT,B0
         000021c0 000083a0' 
     429 000021e0     0d5f          CALLA   MULTIMAKE
         000021f0 00000000! 
     430 00002210     09e1          MOVI    [2,5],A1
         00002220 00020005  
     431 00002240     1822          MOVK    1,A2
     432 00002250     0d5f          CALLA   SET_SCRNOBJ
         00002260 00000000! 
     433 00002280     0d5f          CALLA   INSERT_OBJ
         00002290 00000000! 
     434 000022b0     09e0          MOVI    BLUFRMP,A0
         000022c0 0000a1c0' 
     435 000022e0     0d5f          CALLA   CHANGE_PAL_MULTI
         000022f0 00000000! 
     436                    
     437 00002310     09f0          MOVI    SELECTFRAME_INIT,B0
         00002320 000083a0' 
     438 00002340     0d5f          CALLA   MULTIMAKE
         00002350 00000000! 
     439 00002370     09e1          MOVI    [2,200],A1                      ;UNFLIPPED POSITION
         00002380 000200c8  
     440                    ;       MOVK    M_FLIPH,A0
     441                    ;       CALLA   SET_FLIP
     442                    ;       MOVI    [2,394],A1
     443 000023a0     1822          MOVK    1,A2
     444 000023b0     0d5f          CALLA   SET_SCRNOBJ
         000023c0 00000000! 
     445 000023e0     0d5f          CALLA   INSERT_OBJ
         000023f0 00000000! 
     446 00002410     09e0          MOVI    REDFRMP,A0
         00002420 0000a520' 
     447 00002440     0d5f          CALLA   CHANGE_PAL_MULTI
         00002450 00000000! 
     448                    
     449 00002470     186b          MOVK    011B,A11                        ;LEFT TEAM MASK
     450 00002480     05aa          MOVE    @PLAYER_BITS,A10,W              ;GET CURRENT PLAYERS
         00002490 00000000! 
     451 000024b0     5729          CLR     A9                              ;PLAYER NUMBER - 1
     452 000024c0           IE_JOININ_MESSAGE_LUPE
     453 000024c0     4b2a          BTST    A9,A10
     454 000024d0     cb31          JRNZ    IE_JML_NEXT                     ;BR=PLAYER ACTIVE
     455                    
     456 000024e0     4d29          MOVE    A9,A9
     457 000024f0     ca08          JRZ     IE_JOININ_MESSAGE               ;BR=PLAYER 1
     458 00002500     0b49          CMPI    3,A9
         00002510     fffc  
     459 00002520     ca05          JREQ    IE_JOININ_MESSAGE               ;BR=PLAYER 4(2)         
     460                    
     461 00002530                   KITN    2
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   12

     462 00002570     ca27          JREQ    IE_JML_NEXT                     ;BR=2 PLAYER KIT
     463                    
     464 00002580           IE_JOININ_MESSAGE
     465 00002580     09f0          MOVI    JOININ_MESSAGE_INIT,B0
         00002590 000085e0' 
     466 000025b0     0d5f          CALLA   EASYMAKE
         000025c0 00000000! 
     467                    
     468 000025e0     182e          MOVK    1,A14
     469 000025f0     632e          SLL     A9,A14
     470 00002600     b1c8          MOVE    A14,*A8(ODATA),W                ;PLAYER MASK
         00002610     04b0  
     471                    
     472 00002620     4d21          MOVE    A9,A1
     473 00002630     2481          SLL     4,A1
     474 00002640     0b21          ADDI    INITIAL_MESS_CENTER_XPOS_TABLE,A1
         00002650 00008840' 
     475 00002670     8421          MOVE    *A1,A1,W
     476 00002680     09ee          MOVI    [100,-42],A14
         00002690 0064ffd6  
     477 000026b0     e1c1          ADDXY   A14,A1
     478 000026c0     5642          CLR     A2
     479 000026d0     0d5f          CALLA   SET_SCRNOBJ
         000026e0 00000000! 
     480                    
     481 00002700     09e1          MOVI    CHALNEED_MESSAGE_ANIM,A1
         00002710 00008640' 
     482                    
     483 00002730     4d4e          MOVE    A10,A14
     484 00002740     516e          AND     A11,A14
     485 00002750     ca03          JRZ     IE_JML_ANIM                     ;BR=PUT UP CHALLENGER MESSAGE
     486                    
     487 00002760     09e1          MOVI    TEAMNEED_MESSAGE_ANIM,A1
         00002770 00008740' 
     488 00002790           IE_JML_ANIM
     489 00002790     0d5f          CALLA   STRT_ANIM
         000027a0 00000000! 
     490 000027c0     0d5f          CALLA   INSERT_OBJ
         000027d0 00000000! 
     491 000027f0           IE_JML_NEXT
     492 000027f0     1029          INC     A9
     493 00002800     0b49          CMPI    2,A9
         00002810     fffd  
     494 00002820     cb02          JRNE    IE_JML_CHECK_LAST               ;BR=DON'T CHANGE TEAM MASK
     495 00002830     244b          SLL     2,A11                           ;SHIFT TO RIGHT TEAM MASK
     496 00002840     c0c7          JRUC    IE_JOININ_MESSAGE_LUPE
     497 00002850           IE_JML_CHECK_LAST
     498 00002850     0b49          CMPI    4,A9
         00002860     fffb  
     499 00002870     cbc4          JRNE    IE_JOININ_MESSAGE_LUPE          ;BR=NOT DONE WITH PLAYERS
     500                    
     501 00002880     57ce          CLR     A14
     502 00002890     05ee          MOVB    A14,@PLAYER_INITIAL_BITS        ;RESET BITS
         000028a0 00000000- 
     503 000028c0     078e          MOVE    A14,@TIMER_DIGIT_OBJ,L          ;NO TIMER DIGIT EXISTING
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   13

         000028d0 00000200- 
     504 000028f0     058e          MOVE    A14,@TIMES_UP,W                 ;RESET TIME'S UP FLAG
         00002900 00000220- 
     505                    
     506 00002920     574a          CLR     A10                             ;PLAYER PROCESSES RUNNING
     507 00002930           IE_INITIAL_PROC_LUPE
     508 00002930     05a2          MOVE    @PLAYER_BITS,A2,W               ;GET CURRENT PLAYERS
         00002940 00000000! 
     509 00002960     5729          CLR     A9                              ;PLAYER NUMBER - 1
     510 00002970           IE_INPL_LUPE
     511 00002970     4b22          BTST    A9,A2
     512 00002980     ca22          JRZ     IE_INPL_NEXT                    ;BR=PLAYER NOT ACTIVE
     513 00002990     4b2a          BTST    A9,A10
     514 000029a0     cb20          JRNZ    IE_INPL_NEXT                    ;BR=PROCESS ALREADY EXISTS
     515                    
     516 000029b0     182e          MOVK    1,A14
     517 000029c0     632e          SLL     A9,A14
     518 000029d0     55ca          OR      A14,A10
     519                    
     520 000029e0                   CREATE  PID_INITIAL_SEL,INITIAL_SELECT_PROC
     521 00002a60     09cb          MOVI    60*10,A11
         00002a70     0258  
     522 00002a80                   C_A_K   PID_TIMER,SELECT_TIMER_PROC
     523 00002b00     07a0          MOVE    @TIMER_DIGIT_OBJ,A0,L
         00002b10 00000200- 
     524 00002b30     ca07          JRZ     IE_INPL_NEXT                    ;BR=NO TIMER DIGIT EXISTING
     525 00002b40     0d5f          CALLA   DELOBJ                          ;DELETE OLD DIGIT
         00002b50 00000000! 
     526 00002b70     57ce          CLR     A14
     527 00002b80     078e          MOVE    A14,@TIMER_DIGIT_OBJ,L          ;NO MORE TIMER OBJECT
         00002b90 00000200- 
     528                    
     529 00002bb0           IE_INPL_NEXT
     530 00002bb0     1029          INC     A9
     531 00002bc0     0b49          CMPI    4,A9
         00002bd0     fffb  
     532 00002be0     cbd8          JRNE    IE_INPL_LUPE                    ;BR=NOT DONE WITH PLAYERS
     533                    
     534 00002bf0     07ee          MOVB    @PLAYER_INITIAL_BITS,A14
         00002c00 00000000- 
     535 00002c20     574e          XOR     A10,A14
     536                    ;       JRZ     IE_INITIAL_SELECT_DONE          ;BR=EVERYBODY DONE
     537 00002c30     cb10          JRNZ    IE_INPL_CHECK_DONE              ;BR=SOMEBODY'S NOT ENTERED
     538                    
     539 00002c40     09c0          MOVI    PID_TIMER,A0
         00002c50     0909  
     540 00002c60     0d5f          CALLA   KILLPROC_ALL
         00002c70 00000000! 
     541 00002c90     07a0          MOVE    @TIMER_DIGIT_OBJ,A0,L
         00002ca0 00000200- 
     542 00002cc0     ca07          JRZ     IE_INPL_CHECK_DONE              ;BR=NO TIMER DIGIT EXISTING
     543 00002cd0     0d5f          CALLA   DELOBJ                          ;DELETE OLD DIGIT
         00002ce0 00000000! 
     544 00002d00     57ce          CLR     A14
     545 00002d10     078e          MOVE    A14,@TIMER_DIGIT_OBJ,L          ;NO MORE TIMER OBJECT
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   14

         00002d20 00000200- 
     546                    
     547 00002d40           IE_INPL_CHECK_DONE
     548 00002d40     09c0          MOVI    PID_INITIAL_SEL,A0
         00002d50     090a  
     549 00002d60     0d5f          CALLA   EXISTP_ALL
         00002d70 00000000! 
     550 00002d90     ca05          JRZ     IE_INITIAL_SELECT_DONE
     551                    
     552                    ;       MOVE    @TIMES_UP,A14,W
     553                    ;       JRNZ    IE_INITIAL_SELECT_DONE          ;BR=TIME'S UP DUMMY!
     554                    
     555 00002da0                   SLEEP   1
     556 00002de0     c0b4          JRUC    IE_INITIAL_PROC_LUPE
     557 00002df0           IE_INITIAL_SELECT_DONE
     558                    ;       MOVI    PID_INITIAL_SEL,A0
     559                    ;       CALLA   KILLPROC_ALL
     560                    ;
     561                    ;       MOVI    PID_TIMER,A0
     562                    ;       CALLA   KILLPROC_ALL
     563                    
     564 00002df0     09c0          MOVI    OID_SELECT_1,A0
         00002e00     0490  
     565 00002e10     0d5f          CALLA   KILOBJ_ALL
         00002e20 00000000! 
     566                    
     567 00002e40     09c0          MOVI    OID_PLAYER_1,A0
         00002e50     0910  
     568 00002e60     09e1          MOVI    0FF0FH,A1
         00002e70 0000ff0f  
     569 00002e90     0d5f          CALLA   KILOBJ
         00002ea0 00000000! 
     570                    
     571 00002ec0     09c0          MOVI    OID_TURBO_1,A0
         00002ed0     0301  
     572 00002ee0     09e1          MOVI    0FFF0H,A1
         00002ef0 0000fff0  
     573 00002f10     0d5f          CALLA   KILOBJ
         00002f20 00000000! 
     574                    
     575                    ;       MOVI    TOP_METAL_ICE_INIT,B0
     576                    ;       CALLA   MULTIMAKE
     577                    
     578                    ;       MOVE    @TIMER_DIGIT_OBJ,A0,L
     579                    ;       JRZ     IE_TEAM_SELECT                  ;BR=NO TIMER DIGIT EXISTING
     580                    ;       CALLA   DELOBJ                          ;DELETE OLD DIGIT
     581                    ;       CLR     A14
     582                    ;       MOVE    A14,@TIMER_DIGIT_OBJ,L          ;NO MORE TIMER OBJECT
     583                    
     584 00002f40           IE_TEAM_SELECT
     585 00002f40     09f0          MOVI    METAL_ICE_INIT,B0
         00002f50 00005a70' 
     586 00002f70     0d5f          CALLA   MULTIMAKE
         00002f80 00000000! 
     587                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   15

     588 00002fa0     09ce          MOVI    ININTRO_TEAMSEL,A14
         00002fb0     001b  
     589 00002fc0     058e          MOVE    A14,@GAME_STATE,W
         00002fd0 00000000! 
     590                    
     591 00002ff0     09c0          MOVI    OID_JUNK,A0
         00003000     07ff  
     592 00003010     0d5f          CALLA   KILOBJ_ALL
         00003020 00000000! 
     593                    
     594 00003040     09c0          MOVI    OID_SELECT_3,A0
         00003050     0492  
     595 00003060     0d5f          CALLA   KILOBJ_ALL
         00003070 00000000! 
     596                    
     597 00003090                   CREATE  PID_IND,SELECT_TEAM_MESS_PROC
     598                    
     599 00003110     09f0          MOVI    WEST_FLAG_INIT,B0
         00003120 00009730' 
     600 00003140     0d5f          CALLA   EASYMAKE
         00003150 00000000! 
     601                    
     602 00003170     09f0          MOVI    EAST_FLAG_INIT,B0
         00003180 00009bf0' 
     603 000031a0     0d5f          CALLA   EASYMAKE
         000031b0 00000000! 
     604                    
     605 000031d0     09f0          MOVI    TEAMFRAME_INIT,B0
         000031e0 00008940' 
     606 00003200     0d5f          CALLA   MULTIMAKE
         00003210 00000000! 
     607                    
     608 00003230     0d3f          CALLR   INITIAL_GRAPHICS_2
         00003240     0227  
     609                    
     610 00003250     09f0          MOVI    TEAMS_INIT,B0
         00003260 00008c90' 
     611 00003280     0d5f          CALLA   MULTIMAKE
         00003290 00000000! 
     612                    
     613 000032b0     57ce          CLR     A14                             ;SET NULL TEAMS AND CLEAR SHIT
     614 000032c0     058e          MOVE    A14,@team1,W
         000032d0 00000000! 
     615 000032f0     058e          MOVE    A14,@team2,W
         00003300 00000000! 
     616 00003320     058e          MOVE    A14,@TEAM1_SWAP,W
         00003330 00000000! 
     617 00003350     058e          MOVE    A14,@TEAM2_SWAP,W
         00003360 00000000! 
     618 00003380     05ee          MOVB    A14,@RANDOM_ENABLE_BITS
         00003390 00000230- 
     619                    
     620 000033b0     07e9          MOVB    @TEAM_SELECT_BITS,A9            ;GET TEAM SELECT PLAYERS
         000033c0 00000010- 
     621 000033e0     186a          MOVK    011B,A10
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   16

     622 000033f0     4d2e          MOVE    A9,A14
     623 00003400     514e          AND     A10,A14
     624 00003410     cb20          JRNZ    IE_CHECK_RIGHT_TEAM             ;BR=LEFT TEAM ACTIVE
     625                    
     626 00003420     09f0          MOVI    JOININ_MESSAGE_INIT,B0
         00003430 000085e0' 
     627 00003450     0d5f          CALLA   EASYMAKE
         00003460 00000000! 
     628                    
     629 00003480     b148          MOVE    A10,*A8(ODATA),W                ;TEAM MASK
         00003490     04b0  
     630                    
     631 000034a0     b50e          MOVE    *A8(OCTRL),A14,W
         000034b0     01f0  
     632 000034c0     0bae          ORI     DMAWNZ,A14
         000034d0 00008002  
     633 000034f0     b1c8          MOVE    A14,*A8(OCTRL),W
         00003500     01f0  
     634                    
     635 00003510     09e1          MOVI    [INFOBOX_Y+36,INFOBOX_XL+46],A1
         00003520 0093003b  
     636 00003540     5642          CLR     A2
     637 00003550     0d5f          CALLA   SET_SCRNOBJ
         00003560 00000000! 
     638                    
     639 00003580     09e1          MOVI    CHALNEED_MESSAGE_ANIM,A1
         00003590 00008640' 
     640 000035b0     0d5f          CALLA   STRT_ANIM
         000035c0 00000000! 
     641                    
     642 000035e0     0d5f          CALLA   INSERT_OBJ
         000035f0 00000000! 
     643 00003610     c022          JRUC    IE_TEAM_SELECT_START
     644                    
     645 00003620           IE_CHECK_RIGHT_TEAM
     646 00003620     198a          MOVK    01100B,A10
     647 00003630     5149          AND     A10,A9
     648 00003640     cb1f          JRNZ    IE_TEAM_SELECT_START            ;BR=RIGHT TEAM ACTIVE
     649                    
     650 00003650     09f0          MOVI    JOININ_MESSAGE_INIT,B0
         00003660 000085e0' 
     651 00003680     0d5f          CALLA   EASYMAKE
         00003690 00000000! 
     652                    
     653 000036b0     b148          MOVE    A10,*A8(ODATA),W                ;TEAM MASK
         000036c0     04b0  
     654                    
     655 000036d0     b50e          MOVE    *A8(OCTRL),A14,W
         000036e0     01f0  
     656 000036f0     0bae          ORI     DMAWNZ,A14
         00003700 00008002  
     657 00003720     b1c8          MOVE    A14,*A8(OCTRL),W
         00003730     01f0  
     658                    
     659 00003740     09e1          MOVI    [INFOBOX_Y+36,INFOBOX_XR+46],A1
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   17

         00003750 009300fe  
     660 00003770     5642          CLR     A2
     661 00003780     0d5f          CALLA   SET_SCRNOBJ
         00003790 00000000! 
     662                    
     663 000037b0     09e1          MOVI    CHALNEED_MESSAGE_ANIM,A1
         000037c0 00008640' 
     664 000037e0     0d5f          CALLA   STRT_ANIM
         000037f0 00000000! 
     665                    
     666 00003810     0d5f          CALLA   INSERT_OBJ
         00003820 00000000! 
     667                    
     668 00003840           IE_TEAM_SELECT_START
     669 00003840     57ce          CLR     A14
     670 00003850     05ee          MOVB    A14,@TEAM_SELECTED_BITS         ;RESET TEAM SELECTED PLAYERS
         00003860 00000018- 
     671 00003880     05ee          MOVB    A14,@PLAYER_INITIAL_BITS        ;RESET BITS
         00003890 00000000- 
     672 000038b0     078e          MOVE    A14,@TIMER_DIGIT_OBJ,L          ;NO TIMER DIGIT EXISTING
         000038c0 00000200- 
     673 000038e0     058e          MOVE    A14,@TIMES_UP,W                 ;RESET TIME'S UP FLAG
         000038f0 00000220- 
     674 00003910     078e          MOVE    A14,@TEAM_SELECT_STARTIRQ,L     ;RESET TEAM SELECTED PLAYERS
         00003920 00000240- 
     675                    
     676 00003940     574a          CLR     A10                             ;PLAYER PROCESSES RUNNING
     677 00003950           IE_TEAM_SELECT_PROC_LUPE
     678 00003950     07e2          MOVB    @TEAM_SELECT_BITS,A2            ;GET TEAM SELECT PLAYERS
         00003960 00000010- 
     679 00003980     07ee          MOVB    @TEAM_SELECTED_BITS,A14         ;GET TEAM SELECTED PLAYERS
         00003990 00000018- 
     680 000039b0     564e          XOR     A2,A14
     681 000039c0     ca2e          JRZ     IE_TEAM_SELECTED                ;BR=GOT 'EM
     682                    
     683 000039d0     5729          CLR     A9                              ;PLAYER NUMBER - 1
     684 000039e0           IE_TEAM_SELECT_LUPE
     685 000039e0     4b22          BTST    A9,A2
     686 000039f0     ca22          JRZ     IE_TSL_NEXT                     ;BR=PLAYER NOT ACTIVE
     687 00003a00     4b2a          BTST    A9,A10
     688 00003a10     cb20          JRNZ    IE_TSL_NEXT                     ;BR=PROCESS ALREADY EXISTS
     689                    
     690 00003a20     182e          MOVK    1,A14
     691 00003a30     632e          SLL     A9,A14
     692 00003a40     55ca          OR      A14,A10
     693                    
     694 00003a50                   CREATE  PID_TEAM_SEL,TEAM_SELECT_PROC
     695                    
     696 00003ad0     09cb          MOVI    60*20,A11
         00003ae0     04b0  
     697 00003af0                   C_A_K   PID_TIMER,SELECT_TIMER_PROC
     698 00003b70     07a0          MOVE    @TIMER_DIGIT_OBJ,A0,L
         00003b80 00000200- 
     699 00003ba0     ca07          JRZ     IE_TSL_NEXT                     ;BR=NO TIMER DIGIT EXISTING
     700 00003bb0     0d5f          CALLA   DELOBJ                          ;DELETE OLD DIGIT
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   18

         00003bc0 00000000! 
     701 00003be0     57ce          CLR     A14
     702 00003bf0     078e          MOVE    A14,@TIMER_DIGIT_OBJ,L          ;NO MORE TIMER OBJECT
         00003c00 00000200- 
     703                    
     704 00003c20           IE_TSL_NEXT
     705 00003c20     1029          INC     A9
     706 00003c30     0b49          CMPI    4,A9
         00003c40     fffb  
     707 00003c50     cbd8          JRNE    IE_TEAM_SELECT_LUPE             ;BR=NOT DONE WITH PLAYERS
     708                    
     709 00003c60                   SLEEP   1
     710 00003ca0     c0ca          JRUC    IE_TEAM_SELECT_PROC_LUPE
     711                    
     712 00003cb0           IE_TEAM_SELECTED
     713 00003cb0     09c0          MOVI    PID_TEAM_SEL,A0
         00003cc0     090b  
     714 00003cd0     0d5f          CALLA   KILLPROC_ALL
         00003ce0 00000000! 
     715                    
     716 00003d00     09c0          MOVI    PID_TIMER,A0
         00003d10     0909  
     717 00003d20     0d5f          CALLA   KILLPROC_ALL
         00003d30 00000000! 
     718                    
     719 00003d50     07a0          MOVE    @TIMER_DIGIT_OBJ,A0,L
         00003d60 00000200- 
     720 00003d80     ca07          JRZ     IE_FADEOUT                      ;BR=NO TIMER DIGIT EXISTING
     721 00003d90     0d5f          CALLA   DELOBJ                          ;DELETE OLD DIGIT
         00003da0 00000000! 
     722 00003dc0     57ce          CLR     A14
     723 00003dd0     078e          MOVE    A14,@TIMER_DIGIT_OBJ,L          ;NO MORE TIMER OBJECT
         00003de0 00000200- 
     724 00003e00           IE_FADEOUT
     725 00003e00                   SLEEP   10
     726                    
     727                    ;       MOVI    PID_IND,A0
     728                    ;       CALLA   KILLPROC_ALL
     729                    ;
     730                    ;       MOVI    PID_COLOR,A0                    ;KILL JOIN IN CYCLES
     731                    ;       CALLA   KILLPROC_ALL
     732 00003e40     0d5f          calla   KILL_DESTRUCTIBLES
         00003e50 00000000! 
     733                    
     734 00003e70                   SLEEP   1
     735                    
     736 00003eb0     09ce          MOVI    99,A14
         00003ec0     0063  
     737 00003ed0     058e          MOVE    A14,@MAX_PALXFERS,W
         00003ee0 00000000! 
     738 00003f00     5600          CLR     A0
     739 00003f10     0d5f          CALLA   FADEOUTF                        ;FADE DOWN ALL PALETTES
         00003f20 00000000! 
     740 00003f40                   JSRP    FADE_WAIT
     741 00003fb0     0d5f          CALLA   RESET_MAX_PALXFERS
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   19

         00003fc0 00000000! 
     742                    
     743                    ;       MOVI    PID_PLAYER_1,A0
     744                    ;       CALLA   KILLPROC_ALL
     745                    ;       MOVI    PID_PLAYER_2,A0
     746                    ;       CALLA   KILLPROC_ALL
     747                    ;       MOVI    PID_PLAYER_5,A0
     748                    ;       CALLA   KILLPROC_ALL
     749                    ;       MOVI    PID_PLAYER_6,A0
     750                    ;       CALLA   KILLPROC_ALL
     751                    
     752 00003fe0     5600          CLR     A0
     753 00003ff0     5621          CLR     A1
     754 00004000     0d5f          CALLA   KILOBJ                          ;KILL ALL OBJECTS!
         00004010 00000000! 
     755                    
     756 00004030           IE_CHECK_NEXT_TEAM
     757 00004030     09e1          MOVI    team2,A1                        ;DRONE TEAM
         00004040 00000000! 
     758 00004060     09e2          MOVI    team1,A2                        ;HUMAN TEAM
         00004070 00000000! 
     759 00004090     09e4          MOVI    TEAM2_SWAP,A4
         000040a0 00000000! 
     760 000040c0     842e          MOVE    *A1,A14,W
     761 000040d0     ca0c          JRZ     IE_GET_NEXT_TEAM                ;BR=FOUND DRONE TEAM, RIGHT
     762 000040e0     09e1          MOVI    team1,A1                        ;DRONE TEAM
         000040f0 00000000! 
     763 00004110     09e2          MOVI    team2,A2                        ;HUMAN TEAM
         00004120 00000000! 
     764 00004140     09e4          MOVI    TEAM1_SWAP,A4
         00004150 00000000! 
     765 00004170     842e          MOVE    *A1,A14,W
     766 00004180     cb00          JRNZ    IE_DONE                         ;BR=NO DRONE TEAMS
         00004190     00c2  
     767 000041a0           IE_GET_NEXT_TEAM
     768 000041a0     07ee          MOVB    @TEAM_SELECT_BITS,A14           ;GET TEAM SELECT PLAYERS
         000041b0 00000010- 
     769 000041d0     6bc9          LMO     A14,A9                          ;GET NEXT TEAM FROM CMOS
     770 000041e0     17e9          SUBK    31,A9
     771 000041f0     03a9          NEG     A9
     772 00004200     0d3f          CALLR   a9_to_a0_mod
         00004210     117b  
     773                    
     774                    ;a0 = block of player doing picking
     775 00004220     098f          mmtm    sp,a6,a7
         00004230     0300  
     776 00004240     098f          mmtm    sp,a1,a2        ;keep separate
         00004250     6000  
     777 00004260     4c06          move    a0,a6
     778 00004270     aece          movb    *a6(POF_NUMBER),a14
         00004280     0000  
     779 00004290     142e          dec     a14
     780 000042a0     0bce          xori    1,a14
         000042b0 00000001  
     781 000042d0     102e          inc     a14
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   20

     782 000042e0                   GBLOCK  a14,a7          ;our teammate
     783 00004330     5621          clr     a1              ;set initially to random p1
     784 00004340     5642          clr     a2              ;set initially to random p2
     785                    ;mdp yescmosrecord
     786                    ;       move    *a6(POF_LOCKED_CHAR),a14,W
     787                    ;       jrnz    aj2
     788                    ;mdp yescmosrecord
     789 00004350     b4ce          move    *a6(POF_CMOS),a14,W
         00004360     0060  
     790 00004370     0b4e          cmpi    -2,a14
         00004380     0001  
     791 00004390     ca04          jrz     aj2
     792 000043a0     1821          movk    1,a1
     793 000043b0     4dce          move    a14,a14
     794 000043c0     cf01          jrnn    aj2             ;player 1 is picked
     795 000043d0     1841          movk    2,a1            ;player 1 is pick new
     796 000043e0     b4ee  aj2     move    *a7(POF_FLAGS),a14,W
         000043f0     0200  
     797 00004400     1fee          btst    B_PF_HUMAN,a14
     798 00004410     ca09          jrz     aj3             ;just pick with 1st player, he is not here
     799                    ;mdp yescmosrecord
     800                    ;       move    *a7(POF_LOCKED_CHAR),a14,W
     801                    ;       jrnz    aj3
     802                    ;mdp yescmosrecord
     803 00004420     b4ee          move    *a7(POF_CMOS),a14,W
         00004430     0060  
     804 00004440     0b4e          cmpi    -2,a14
         00004450     0001  
     805 00004460     ca04          jrz     aj3
     806 00004470     1822          movk    1,a2
     807 00004480     4dce          move    a14,a14
     808 00004490     cf01          jrnn    aj3             ;player 2 is picked
     809 000044a0     1842          movk    2,a2            ;player 2 is pick new
     810 000044b0     2441  aj3     sll     2,a1
     811 000044c0     4041          add     a2,a1           ;a1 - aabb bitwise of pick team address
     812 000044d0     24a1          sll     5,a1
     813 000044e0     0b21          addi    ptr_adr,a1
         000044f0 00004550' 
     814 00004510     862e          move    *a1,a14,L
     815 00004520     09af          mmfm    sp,a1,a2
         00004530     0006  
     816 00004540     016e          jump    a14
     817 00004550 000047d0' ptr_adr .long   pck_rt          ;pick random team (both locked, or not entered)
     818 00004570 000048e0'         .long   pck_p2          ;pick team based on player 2 (a7)
     819 00004590 000049c0'         .long   pck_nw          ;pick new team
     820 000045b0 000047d0'         .long   pck_rt          ;pick random team (we don't get here)
     821                    
     822 000045d0 000048a0'         .long   pck_p1          ;pick team based on player 1 (a6) (pl1,rnd)
     823 000045f0 000048a0'         .long   pck_p12         ;pick team based on both players  (pl1,pl2)
     824 00004610 000048a0'         .long   pck_p1          ;pick team based on player 1 (a6) (pl1,new)
     825 00004630 000048a0'         .long   pck_p1          ;pick team based on player 1 (a6) (pl1,xxx)
     826                    
     827 00004650 000049c0'         .long   pck_nw          ;pick new team                    (new,rnd)
     828 00004670 000048e0'         .long   pck_p2          ;pick team based on player 2 (a7) (new,pl2)
     829 00004690 000049c0'         .long   pck_nw          ;pick new team                    (new,new)
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   21

     830 000046b0 000049c0'         .long   pck_nw          ;pick new team                    (new,xxx)
     831                    
     832 000046d0 000047d0'         .long   pck_rt          ;pick random team (both locked, or not entered)
     833 000046f0 000048e0'         .long   pck_p2          ;pick team based on player 2 (a7) (xxx,pl2)
     834 00004710 000049c0'         .long   pck_nw          ;pick new team                    (xxx,new)
     835 00004730 000047d0'         .long   pck_rt          ;pick random team (we don't get here) (xxx,xxx)
     836                    
     837 00004750     09c0  pck_rsp movi    num_special_teams,a0
         00004760     0041  
     838 00004770     0d5f          calla   RAND0
         00004780 00000000! 
     839 000047a0     0b00          addi    first_special_team,a0
         000047b0     001b  
     840 000047c0     c02c          jruc    srtma
     841                    
     842 000047d0     1b40  pck_rt  movk    26,a0
     843 000047e0     0d5f          calla   RANDU
         000047f0 00000000! 
     844 00004810     844e          move    *a2,a14,W
     845 00004820     49c0          cmp     a14,a0
     846 00004830     cb25          jrnz    srtma
     847 00004840     1020          inc     a0
     848 00004850     0b40          cmpi    26,a0
         00004860     ffe5  
     849 00004870     c221          jrls    srtma
     850 00004880     1820          movk    1,a0
     851 00004890     c01f          jruc    srtma
     852 000048a0           pck_p12                 ;here is where we should run a bunch of tests on who
     853                                            ;to pick, but we just pick p1 based
     854 000048a0     b4c0  pck_p1  move    *a6(POF_CMOS),a0,W
         000048b0     0060  
     855 000048c0     cef0          jrn     pck_rt                  ;we never get here, but just in case
     856 000048d0     c003          jruc    pc12a
     857 000048e0     b4e0  pck_p2  move    *a7(POF_CMOS),a0,W
         000048f0     0060  
     858 00004900     ceec          jrn     pck_rt                  ;we never get here, but just in case
     859 00004910     0d5f  pc12a   calla   get_cmos_record_a
         00004920 00000000! 
     860 00004940     05a0          move    @b_nextteam,a0,W
         00004950 00000000! 
     861 00004970     cadd          jrz     pck_rsp                 ;some sort of error, pick random
     862 00004980     0b40          cmpi    31,a0
         00004990     ffe0  
     863 000049a0     cada          jrz     pck_rsp                 ;pick random special team
     864 000049b0     c00d          jruc    srtma
     865 000049c0     098f  pck_nw  mmtm    sp,a1,a2,a5
         000049d0     6400  
     866 000049e0     0d5f          calla   pick_beginning_nextteam
         000049f0 00000000! 
     867 00004a10     844e          move    *a2,a14,W
     868 00004a20     49c0          cmp     a14,a0
     869 00004a30     cb03          jrnz    srtma1
     870 00004a40     0d5f          calla   pick_alt_nextteam
         00004a50 00000000! 
     871 00004a70     09af  srtma1  mmfm    sp,a1,a2,a5
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   22

         00004a80     0026  
     872 00004a90     09af  srtma   mmfm    sp,a6,a7
         00004aa0     00c0  
     873                    
     874 00004ab0           IE_SET_TEAM
     875 00004ab0     8001          MOVE    A0,*A1,W
     876                    
     877 00004ac0     2540          SLL     10,A0
     878 00004ad0     0b20          ADDI    team_data,A0
         00004ae0 00000000! 
     879 00004b00     b600          MOVE    *A0(TD_MEMBER1_LIST),A0,L
         00004b10     0040  
     880                    
     881 00004b20     5663          CLR     A3
     882 00004b30           IE_PLAYER_COUNT
     883 00004b30     940e          MOVE    *A0+,A14,W
     884 00004b40     ca02          JRZ     IE_CHECK_SWAP
     885 00004b50     1023          INC     A3
     886 00004b60     c0fc          JRUC    IE_PLAYER_COUNT
     887 00004b70           IE_CHECK_SWAP
     888 00004b70     1443          SUBK    2,A3
     889                            .if     DEBUG
     890                            LOCKON  N
     891                            .endif
     892 00004b80     24a3          SLL     5,A3
     893 00004b90     0b23          ADDI    SWAP_TABLES_TABLE,A3
         00004ba0 000221d0' 
     894 00004bc0     8663          MOVE    *A3,A3,L
     895 00004bd0     9460          MOVE    *A3+,A0,W
     896 00004be0     0d5f          CALLA   RAND0
         00004bf0 00000000! 
     897 00004c10     8004          MOVE    A0,*A4,W                        ;DRONE PLAYERS PICKED
     898                    
     899 00004c20     05a0          MOVE    @team1_home,A0,W
         00004c30 00000000! 
     900 00004c50     05a1          MOVE    @team2_home,A1,W
         00004c60 00000000! 
     901 00004c80     4801          CMP     A0,A1
     902 00004c90     cb12          JRNE    IE_DONE                         ;BR=NO SIDE CONFLICT
     903                    
     904 00004ca0     07ee          MOVB    @TEAM_SELECT_BITS,A14           ;GET TEAM SELECT PLAYERS
         00004cb0 00000010- 
     905 00004cd0     2fce          SRL     2,A14
     906 00004ce0     ca07          JRZ     IE_TOGGLE_TEAM2                 ;BR=TEAM 1 HAS FIRST PRIORITY
     907                    
     908 00004cf0     0bc0          XORI    1,A0                            ;TOGGLE HOME/AWAY TEAM 1
         00004d00 00000001  
     909 00004d20     0580          MOVE    A0,@team1_home,W
         00004d30 00000000! 
     910 00004d50     c006          JRUC    IE_DONE
     911 00004d60           IE_TOGGLE_TEAM2
     912 00004d60     0bc1          XORI    1,A1                            ;TOGGLE HOME/AWAY TEAM 2
         00004d70 00000001  
     913 00004d90     0581          MOVE    A1,@team2_home,W
         00004da0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   23

     914                    
     915 00004dc0           IE_DONE
     916 00004dc0                   RETP
     917                    
     918                    **************************************************************************
     919                    *                                                                        *
     920                    * INITIAL_GRAPHICS_1 - FIRST GRAPHIC LAYER                               *
     921                    *                                                                        *
     922                    * PASS:                                                                  *
     923                    * NUTIN'                                                                 *
     924                    *                                                                        *
     925                    * RETURN:                                                                *
     926                    * NUTIN'                                                                 *
     927                    *                                                                        *
     928                    **************************************************************************
     929                    
     930 00004df0           INITIAL_GRAPHICS_1
     931 00004df0     09f0          MOVI    INFOBOXES_INIT,B0
         00004e00 00008090' 
     932 00004e20     0d5f          CALLA   EASYMAKE
         00004e30 00000000! 
     933 00004e50     09e1          MOVI    [INFOBOX_Y,INFOBOX_XL],A1
         00004e60 006f000d  
     934 00004e80     5642          CLR     A2
     935 00004e90     0d5f          CALLA   SET_SCRNOBJ
         00004ea0 00000000! 
     936 00004ec0     0d5f          CALLA   INSERT_OBJ
         00004ed0 00000000! 
     937 00004ef0     09e0          MOVI    BLUFRMP,A0
         00004f00 0000a1c0' 
     938 00004f20     0d5f          CALLA   CHANGE_PAL
         00004f30 00000000! 
     939                    
     940 00004f50     09f0          MOVI    INFOBOXES_BGND_INIT,B0
         00004f60 00008180' 
     941 00004f80     0d5f          CALLA   EASYMAKE
         00004f90 00000000! 
     942 00004fb0     09e1          MOVI    [INFOBOX_Y,INFOBOX_XL],A1
         00004fc0 006f000d  
     943 00004fe0     1822          MOVK    1,A2
     944 00004ff0     0d5f          CALLA   SET_SCRNOBJ
         00005000 00000000! 
     945 00005020     0d5f          CALLA   INSERT_OBJ
         00005030 00000000! 
     946                    
     947 00005050     09f0          MOVI    INFOBOXES_BGND_INIT,B0
         00005060 00008180' 
     948 00005080     0d5f          CALLA   EASYMAKE
         00005090 00000000! 
     949 000050b0     09e1          MOVI    [INFOBOX_Y,INFOBOX_XL+80],A1
         000050c0 006f005d  
     950 000050e0     1822          MOVK    1,A2
     951 000050f0     0d5f          CALLA   SET_SCRNOBJ
         00005100 00000000! 
     952 00005120     0d5f          CALLA   INSERT_OBJ
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   24

         00005130 00000000! 
     953                    
     954 00005150     09f0          MOVI    INFOBOXES_INIT,B0
         00005160 00008090' 
     955 00005180     0d5f          CALLA   EASYMAKE
         00005190 00000000! 
     956 000051b0     09e1          MOVI    [INFOBOX_Y,INFOBOX_XR],A1
         000051c0 006f00d0  
     957 000051e0     5642          CLR     A2
     958 000051f0     0d5f          CALLA   SET_SCRNOBJ
         00005200 00000000! 
     959 00005220     0d5f          CALLA   INSERT_OBJ
         00005230 00000000! 
     960 00005250     09e0          MOVI    REDFRMP,A0
         00005260 0000a520' 
     961 00005280     0d5f          CALLA   CHANGE_PAL
         00005290 00000000! 
     962                    
     963 000052b0     09f0          MOVI    INFOBOXES_BGND_INIT,B0
         000052c0 00008180' 
     964 000052e0     0d5f          CALLA   EASYMAKE
         000052f0 00000000! 
     965 00005310     09e1          MOVI    [INFOBOX_Y,INFOBOX_XR],A1
         00005320 006f00d0  
     966 00005340     1822          MOVK    1,A2
     967 00005350     0d5f          CALLA   SET_SCRNOBJ
         00005360 00000000! 
     968 00005380     0d5f          CALLA   INSERT_OBJ
         00005390 00000000! 
     969                    
     970 000053b0     09f0          MOVI    INFOBOXES_BGND_INIT,B0
         000053c0 00008180' 
     971 000053e0     0d5f          CALLA   EASYMAKE
         000053f0 00000000! 
     972 00005410     09e1          MOVI    [INFOBOX_Y,INFOBOX_XR+80],A1
         00005420 006f0120  
     973 00005440     1822          MOVK    1,A2
     974 00005450     0d5f          CALLA   SET_SCRNOBJ
         00005460 00000000! 
     975 00005480     0d5f          CALLA   INSERT_OBJ
         00005490 00000000! 
     976                    
     977 000054b0     0960          RETS
     978                    
     979                    **************************************************************************
     980                    *                                                                        *
     981                    * INITIAL_GRAPHICS_2 - SECOND GRAPHIC LAYER                              *
     982                    *                                                                        *
     983                    * PASS:                                                                  *
     984                    * NUTIN'                                                                 *
     985                    *                                                                        *
     986                    * RETURN:                                                                *
     987                    * NUTIN'                                                                 *
     988                    *                                                                        *
     989                    **************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   25

     990                    
     991 000054c0           INITIAL_GRAPHICS_2
     992 000054c0     09f0          MOVI    INFOBOX_HEADER_INIT,B0
         000054d0 00008880' 
     993 000054f0     0d5f          CALLA   EASYMAKE
         00005500 00000000! 
     994 00005520     09e1          MOVI    [INFOBOX_Y,INFOBOX_XL],A1
         00005530 006f000d  
     995 00005550     1822          MOVK    1,A2
     996 00005560     0d5f          CALLA   SET_SCRNOBJ
         00005570 00000000! 
     997 00005590     0d5f          CALLA   INSERT_OBJ
         000055a0 00000000! 
     998                    
     999 000055c0     09f0          MOVI    INFOBOX_HEADER_BGND_INIT,B0
         000055d0 000088e0' 
    1000 000055f0     0d5f          CALLA   EASYMAKE
         00005600 00000000! 
    1001 00005620     09e1          MOVI    [INFOBOX_Y,INFOBOX_XL],A1
         00005630 006f000d  
    1002 00005650     1942          MOVK    10,A2
    1003 00005660     0d5f          CALLA   SET_SCRNOBJ
         00005670 00000000! 
    1004 00005690     0d5f          CALLA   INSERT_OBJ
         000056a0 00000000! 
    1005 000056c0     0788          MOVE    A8,@BLUE_MUG_BGND_OBJ,L
         000056d0 000001a0- 
    1006                    
    1007 000056f0     09f0          MOVI    INFOBOX_HEADER_INIT,B0
         00005700 00008880' 
    1008 00005720     0d5f          CALLA   EASYMAKE
         00005730 00000000! 
    1009 00005750     b50e          MOVE    *A8(OCTRL),A14,W
         00005760     01f0  
    1010 00005770     0bae          ORI     M_FLIPH,A14
         00005780 00000010  
    1011 000057a0     b1c8          MOVE    A14,*A8(OCTRL),W
         000057b0     01f0  
    1012 000057c0     09e1          MOVI    [INFOBOX_Y,INFOBOX_XR+178],A1
         000057d0 006f0182  
    1013 000057f0     1822          MOVK    1,A2
    1014 00005800     0d5f          CALLA   SET_SCRNOBJ
         00005810 00000000! 
    1015 00005830     0d5f          CALLA   INSERT_OBJ
         00005840 00000000! 
    1016                    
    1017 00005860     09f0          MOVI    INFOBOX_HEADER_BGND_INIT,B0
         00005870 000088e0' 
    1018 00005890     0d5f          CALLA   EASYMAKE
         000058a0 00000000! 
    1019 000058c0     b50e          MOVE    *A8(OCTRL),A14,W
         000058d0     01f0  
    1020 000058e0     0bae          ORI     M_FLIPH,A14
         000058f0 00000010  
    1021 00005910     b1c8          MOVE    A14,*A8(OCTRL),W
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   26

         00005920     01f0  
    1022 00005930     09e1          MOVI    [INFOBOX_Y,INFOBOX_XR+178],A1
         00005940 006f0182  
    1023 00005960     1942          MOVK    10,A2
    1024 00005970     0d5f          CALLA   SET_SCRNOBJ
         00005980 00000000! 
    1025 000059a0     0d5f          CALLA   INSERT_OBJ
         000059b0 00000000! 
    1026 000059d0     09e0          MOVI    TMBKBLUP,A0
         000059e0 0000a0b0' 
    1027 00005a00     0d5f          CALLA   CHANGE_PAL
         00005a10 00000000! 
    1028 00005a30     0788          MOVE    A8,@RED_MUG_BGND_OBJ,L
         00005a40 000001e0- 
    1029                    
    1030 00005a60     0960          RETS
    1031                    
    1032 00005a70           METAL_ICE_INIT
    1033 00005a70       04          .byte   4, 0, 0, 1      ;OBJCNT, PRCCNT, IMGPALCNT, PALCNT
    1034 00005a90 00000000!         .long   METALP          ;IMGPAL
    1035 00005ab0     0490          .word   OID_SELECT_1, OM_POS|OM_INSERT  ;OID, GLOBAL_OPTIONS
    1036 00005ad0 00000000          .long   [0,0],[0,0],100
    1037                    *        .long IMG
    1038                    *        .word OCTRL, OFLAGS, OZOFF
    1039                    *        .word OPTIONS
    1040                    
    1041 00005b30                   LWWWW   METAL1, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1042 00005b90                   LWWWW   METAL2, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1043 00005bf0                   LWWWW   METAL3, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1044 00005c50                   LWWWW   METAL4, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1045                    
    1046 00005cb0           METAL_OPEN_ICE_INIT
    1047 00005cb0       09          .byte   9, 0, 0, 2      ;OBJCNT, PRCCNT, IMGPALCNT, PALCNT
    1048 00005cd0 00000000!         .long   METALP          ;IMGPAL
    1049 00005cf0 00000000!         .long   MARKSP          ;IMGPAL
    1050 00005d10     0490          .word   OID_SELECT_1, OM_POS|OM_INSERT  ;OID, GLOBAL_OPTIONS
    1051 00005d30 00000000          .long   [0,0],[0,0],100
    1052                    *        .long IMG
    1053                    *        .word OCTRL, OFLAGS, OZOFF
    1054                    *        .word OPTIONS
    1055                    
    1056 00005d90                   LWWWW   METAL1, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1057 00005df0                   LWWWW   METAL2, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1058 00005e50                   LWWWW   METAL3, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1059 00005eb0                   LWWWW   METAL4, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1060 00005f10                   LWWWW   CENTA, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1061 00005f70                   LWWWW   CENTB, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1062 00005fd0                   LWWWW   CENTC, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1063 00006030                   LWWWW   CENTD, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1064 00006090                   LWWWW   OPENEMB3, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1065                    
    1066 000060f0           BOTTOM_METAL_ICE_INIT
    1067 000060f0       0a          .byte   10, 0, 0, 2     ;OBJCNT, PRCCNT, IMGPALCNT, PALCNT
    1068 00006110 00000000!         .long   METALP          ;IMGPAL
    1069 00006130 00000000!         .long   MARKSP          ;IMGPAL
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   27

    1070 00006150     0490          .word   OID_SELECT_1, OM_POS|OM_INSERT  ;OID, GLOBAL_OPTIONS
    1071 00006170 00000000          .long   [0,0],[0,0],100
    1072                    *        .long IMG
    1073                    *        .word OCTRL, OFLAGS, OZOFF
    1074                    *        .word OPTIONS
    1075                    
    1076 000061d0                   LWWWW   BOTA, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1077 00006230                   LWWWW   BOTB, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1078 00006290                   LWWWW   BOTC, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1079 000062f0                   LWWWW   BOTD, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1080 00006350                   LWWWW   BOTE, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1081 000063b0                   LWWWW   BOTF, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1082 00006410                   LWWWW   METAL1, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1083 00006470                   LWWWW   METAL2, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1084 000064d0                   LWWWW   METAL3, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1085 00006530                   LWWWW   METAL4, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1086                    
    1087 00006590           CENTER_METAL_ICE_INIT
    1088                    ;       .byte   12, 0, 0, 2     ;OBJCNT, PRCCNT, IMGPALCNT, PALCNT
    1089 00006590       09          .byte   9, 0, 0, 2      ;OBJCNT, PRCCNT, IMGPALCNT, PALCNT
    1090 000065b0 00000000!         .long   METALP          ;IMGPAL
    1091 000065d0 00000000!         .long   MARKSP          ;IMGPAL
    1092 000065f0     0490          .word   OID_SELECT_1, OM_POS|OM_INSERT  ;OID, GLOBAL_OPTIONS
    1093 00006610 00000000          .long   [0,0],[0,0],100
    1094                    *        .long IMG
    1095                    *        .word OCTRL, OFLAGS, OZOFF
    1096                    *        .word OPTIONS
    1097                    
    1098 00006670                   LWWWW   CENTA, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1099 000066d0                   LWWWW   CENTB, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1100 00006730                   LWWWW   CENTC, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1101 00006790                   LWWWW   CENTD, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1102                    ;       LWWWW   CENTE, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1103                    ;       LWWWW   CENTF, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1104                    ;       LWWWW   CENTG, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1105                    ;       LWWWW   CENTH, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1106 000067f0                   LWWWW   OPENEMB3, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1107 00006850                   LWWWW   METAL1, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1108 000068b0                   LWWWW   METAL2, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1109 00006910                   LWWWW   METAL3, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1110 00006970                   LWWWW   METAL4, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1111                    
    1112 000069d0           CENTER_NUMBERS_INIT
    1113 000069d0       04          .byte   4, 0, 0, 1      ;OBJCNT, PRCCNT, IMGPALCNT, PALCNT
    1114 000069f0 00000000!         .long   MARKSP          ;IMGPAL
    1115 00006a10     0490          .word   OID_SELECT_1, OM_POS|OM_INSERT  ;OID, GLOBAL_OPTIONS
    1116 00006a30 00000000          .long   [0,0],[0,0],100
    1117                    *        .long IMG
    1118                    *        .word OCTRL, OFLAGS, OZOFF
    1119                    *        .word OPTIONS
    1120 00006a90                   LWWWW   POSITION1, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -2, 0
    1121 00006af0                   LWWWW   POSITION2, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -2, 0
    1122 00006b50                   LWWWW   POSITION3, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -2, 0
    1123 00006bb0                   LWWWW   POSITION4, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -2, 0
    1124                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   28

    1125                    
    1126 00006c10           CENTER_NUMBERS_2P_INIT
    1127 00006c10       02          .byte   2, 0, 0, 1      ;OBJCNT, PRCCNT, IMGPALCNT, PALCNT
    1128 00006c30 00000000!         .long   MARKSP          ;IMGPAL
    1129 00006c50     0490          .word   OID_SELECT_1, OM_POS|OM_INSERT  ;OID, GLOBAL_OPTIONS
    1130 00006c70 00000000          .long   [0,0],[0,0],100
    1131                    *        .long IMG
    1132                    *        .word OCTRL, OFLAGS, OZOFF
    1133                    *        .word OPTIONS
    1134 00006cd0                   LWWWW   POSITION1, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -2, 0
    1135 00006d30                   LWWWW   POSITION2A, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -2, 0
    1136                    
    1137                    
    1138 00006d90           TOP_METAL_ICE_INIT
    1139 00006d90       0b          .byte   11, 0, 0, 2     ;OBJCNT, PRCCNT, IMGPALCNT, PALCNT
    1140 00006db0 00000000!         .long   METALP          ;IMGPAL
    1141 00006dd0 00000000!         .long   MARKSP          ;IMGPAL
    1142 00006df0     0490          .word   OID_SELECT_1, OM_POS|OM_INSERT  ;OID, GLOBAL_OPTIONS
    1143 00006e10 00000000          .long   [0,0],[0,0],100
    1144                    *        .long IMG
    1145                    *        .word OCTRL, OFLAGS, OZOFF
    1146                    *        .word OPTIONS
    1147                    
    1148 00006e70                   LWWWW   TOP1A, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1149 00006ed0                   LWWWW   TOP1B, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1150 00006f30                   LWWWW   TOP1C, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1151 00006f90                   LWWWW   TOP1D, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1152 00006ff0                   LWWWW   TOP1E, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1153 00007050                   LWWWW   TOP1F, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1154 000070b0                   LWWWW   TOP1G, DMAWNZ, M_SCRNOBJ|M_NOSCALE, -1, 0
    1155 00007110                   LWWWW   METAL1, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1156 00007170                   LWWWW   METAL2, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1157 000071d0                   LWWWW   METAL3, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1158 00007230                   LWWWW   METAL4, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1159                    
    1160 00007290           PLAYER_PAL_TABLE
    1161 00007290 00000000!         .LONG   PRPTXT3P,BLUTXT3P,GLDTXT1P,GRNTXT3P
    1162                    
    1163 00007310           PLAYER_PAL_NUM_TABLE
    1164 00007310     0505          .WORD   HFPAL+0303H,HFPAL+0404H,HFPAL+0505H,HFPAL+0606H
    1165                    
    1166 00007350           ENTER_INITIALS_MESS
    1167 00007350                   MESS_MAC2 H18FONT,-1,0,200,20,HFPAL+0202H,STRCNCONV,OID_TEXT
    1168 00007410       45          .STRING "ENTER INITIALS FOR\nRECORD KEEPING?",0
    1169 00007530                   .EVEN
    1170                    
    1171 00007530           YES_MESS
    1172 00007530                   MESS_MAC2 H50FONT,-2,0,(YES_XYPOS & 0FFFFH),(YES_XYPOS >> 16)+Y_EDGE,HFPAL,STRCNCONV,OID_TEXT
    1173 000075f0       59          .STRING "YES",0
    1174 00007610                   .EVEN
    1175                    
    1176 00007610           NO_MESS
    1177 00007610                   MESS_MAC2 H50FONT,-2,0,(NO_XYPOS & 0FFFFH),(NO_XYPOS >> 16)+Y_EDGE,HFPAL,STRCNCONV,OID_TEXT
    1178 000076d0       4e          .STRING "NO",0
    1179 000076f0                   .EVEN
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   29

    1180                    
    1181 000076f0           WINNING_MESS
    1182 000076f0                   MESS_MAC2 H11WFONT,-1,0,199,155,HFPAL+0202H,STRCNCONV,OID_TEXT
    1183 000077b0       57          .STRING "WHEN 4 PLAYERS PLAY FULL GAME\nWINNING TEAM STAYS ON FOR FREE !",0
    1184 000079b0                   .EVEN
    1185                    
    1186 000079b0           WINNING2_MESS
    1187 000079b0                   MESS_MAC2 H11WFONT,-1,12,199,155-2,HFPAL+0202H,STRCNCONV,OID_TEXT
    1188 00007a70       46          .STRING "FREE GAME FOR\n"
    1189 00007ae8       42          .STRING "BEATING ANOTHER PERSON OR\n"
    1190 00007bc0       42          .STRING "BEATING COMPUTER BY 3 POINTS!",0
    1191 00007cb0                   .EVEN
    1192                    
    1193 00007cb0           WINNING3_MESS
    1194 00007cb0                   MESS_MAC2 H11WFONT,-1,12,199,155-2,HFPAL+0202H,STRCNCONV,OID_TEXT
    1195 00007d70       46          .STRING "FREE GAME FOR\n"
    1196 00007de8       42          .STRING "BEATING ANOTHER PERSON!",0
    1197 00007eb0                   .EVEN
    1198                    
    1199 00007eb0           INFOBOX_CENTER_XPOS_TABLE
    1200 00007eb0     003f          .WORD   INFOBOX_XL+50,INFOBOX_XL+130,INFOBOX_XR+50,INFOBOX_XR+130
    1201                    
    1202 00007ef0           ANSBOX_INIT
    1203 00007ef0 000046e0"         .long   YESBLK1
    1204 00007f10     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    1205 00007f30     0914          .word   OM_OID|OM_ANIM|OM_POS|OM_INSERT
    1206 00007f40     0480          .word   OID_TEXT
    1207 00007f50 00007fd0'         .long   ANSBOX_BLINK_ANIM
    1208 00007f70 00630000          .long   (YES_XYPOS & 0FFFFH) << 16,(YES_XYPOS & 0FFFF0000H),0
    1209                    
    1210 00007fd0           ANSBOX_BLINK_ANIM
    1211 00007fd0                   LWL     1,AFUNC|20,OBJ_ON
    1212 00008020                   LWL     1,AFUNC|10,OBJ_OFF
    1213 00008070 00000000          .long   0
    1214                    
    1215 00008090           INFOBOXES_INIT
    1216 00008090 000001b0"         .long   SLVFRM07
    1217 000080b0     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL
    1218 000080d0     0100          .word   OM_OID
    1219 000080e0     0491          .word   OID_SELECT_2
    1220                    
    1221 000080f0           BLACK_INFOBOX
    1222 000080f0     0000          .word   00H,77,38
    1223 00008120 00000000          .long   00H
    1224 00008140     fff5          .word   -11,-85
    1225 00008160 00000000!         .long   T2FIXED
    1226                    
    1227 00008180           INFOBOXES_BGND_INIT
    1228 00008180 000080f0'         .long   BLACK_INFOBOX
    1229 000081a0     800c          .word   DMACAL,M_SCRNOBJ|M_NOVEL
    1230 000081c0     0100          .word   OM_OID
    1231 000081d0     0491          .word   OID_SELECT_2
    1232                    
    1233 000081e0           PAIDBOX_INIT
    1234 000081e0 000027f0"         .long   PCKCRDBX
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   30

    1235 00008200     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL
    1236 00008220     0100          .word   OM_OID
    1237 00008230     0491          .word   OID_SELECT_2
    1238                    
    1239 00008240           INFOBOX_MESSAGE_INIT
    1240 00008240 00003f00"         .long   INSERT11
    1241 00008260     8000          .word   DMAGO,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    1242 00008280     0104          .word   OM_OID|OM_ANIM
    1243 00008290     0491          .word   OID_SELECT_2
    1244 000082a0 000082c0'         .long   INFOBOX_MESSAGE_ANIM
    1245                    
    1246 000082c0           INFOBOX_MESSAGE_ANIM
    1247 000082c0                   LWLL    1,AFUNC|1,A_UPDATE_INFOBOX_MESSAGE+2,INFOBOX_MESSAGE_ANIM
    1248 00008330                   LWL     1,AFUNC|15,OBJ_OFF
    1249 00008380 00000000          .long   0
    1250                    
    1251 000083a0           SELECTFRAME_INIT
    1252 000083a0       05          .byte    5, 0, 0, 1     ;OBJCNT, PRCCNT, IMGPALCNT, PALCNT
    1253 000083c0 00000000!         .long   SLVFRM07P       ;IMGPAL
    1254 000083e0     0492          .word   OID_SELECT_3,0  ;OID, GLOBAL_OPTIONS
    1255                    *        .long IMG
    1256                    *        .word OCTRL, OFLAGS, OZOFF
    1257                    *        .word OPTIONS
    1258                    
    1259 00008400                   LWWWW   INITBX01, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1260 00008460                   LWWWW   INITBX02, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1261 000084c0                   LWWWW   INITBX03, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1262 00008520                   LWWWW   INITBX04, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1263 00008580                   LWWWW   INITBX05, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1264                    
    1265 000085e0           JOININ_MESSAGE_INIT
    1266 000085e0 00004020"         .long   JOININ11
    1267 00008600     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    1268 00008620     0100          .word   OM_OID
    1269 00008630     07ff          .word   OID_JUNK
    1270                    
    1271 00008640           CHALNEED_MESSAGE_ANIM
    1272 00008640                   LWLL    JOININ11,AFUNC|1,A_CHECK_ACTIVE_PLAYERS+2,CHALNEED_MESSAGE_ANIM
    1273 000086b0           CMA_1
    1274 000086b0                   LWLL    CHALNEED11,AFUNC|1,A_CHECK_ACTIVE_PLAYERS+2,CMA_1
    1275 00008720 00000000          .long   0
    1276                    
    1277 00008740           TEAMNEED_MESSAGE_ANIM
    1278 00008740                   LWLL    JOININ11,AFUNC|1,A_CHECK_ACTIVE_PLAYERS+2,TEAMNEED_MESSAGE_ANIM
    1279 000087b0           TMA_1
    1280 000087b0                   LWLL    TEAMNEED11,AFUNC|1,A_CHECK_ACTIVE_PLAYERS+2,TMA_1
    1281 00008820 00000000          .long   0
    1282                    
    1283 00008840           INITIAL_MESS_CENTER_XPOS_TABLE
    1284 00008840     0036          .WORD   54,150,249,345
    1285                    
    1286 00008880           INFOBOX_HEADER_INIT
    1287 00008880 00000120"         .long   TEAMBX1
    1288 000088a0     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL
    1289 000088c0     0100          .word   OM_OID
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   31

    1290 000088d0     0491          .word   OID_SELECT_2
    1291                    
    1292 000088e0           INFOBOX_HEADER_BGND_INIT
    1293 000088e0 00000090"         .long   TEAMBCK1
    1294 00008900     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL
    1295 00008920     0100          .word   OM_OID
    1296 00008930     0491          .word   OID_SELECT_2
    1297                    
    1298 00008940           TEAMFRAME_INIT
    1299 00008940       05          .byte    5, 0, 0, 2     ;OBJCNT, PRCCNT, IMGPALCNT, PALCNT
    1300 00008960 00000000!         .long   METBEV2P        ;IMGPAL
    1301 00008980 00000000!         .long   BLACKPAL        ;IMGPAL
    1302 000089a0     0491          .word   OID_SELECT_2,OM_POS|OM_INSERT   ;OID, GLOBAL_OPTIONS
    1303 000089c0 00c70000          .long   [TEAMBOX_X+161,0],[TEAMBOX_Y,0],2
    1304                    *        .long IMG
    1305                    *        .word OCTRL, OFLAGS, OZOFF, OPTIONS
    1306                    
    1307 00008a20                   LWWWW   METBEVA, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1308 00008a80                   LWWWW   METBEVB, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1309 00008ae0                   LWWWW   METBEVC, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1310 00008b40                   LWWWW   METBEVD, DMAWNZ, M_SCRNOBJ|M_NOSCALE, 0, 0
    1311 00008ba0                   LWWWW   TEAMBLACKBOX, DMACAL, M_SCRNOBJ|M_NOSCALE, 1, 0
    1312                    
    1313 00008c00           TEAMBLACKBOX
    1314 00008c00     0000          .word   00H,324,93
    1315 00008c30 00000000          .long   00H
    1316 00008c50     00a1          .word   161,0
    1317 00008c70 00000000!         .long   T2FIXED
    1318                    
    1319 00008c90           TEAMS_INIT
    1320 00008c90       1a          .byte    26, 0, 0, 2    ;OBJCNT, PRCCNT, IMGPALCNT, PALCNT
    1321 00008cb0 00000000!         .long   CITYPURPP       ;IMGPAL
    1322 00008cd0 00000000!         .long   CITYBLUEP       ;IMGPAL
    1323 00008cf0     0491          .word   OID_SELECT_2,OM_POS|OM_INSERT   ;OID, GLOBAL_OPTIONS
    1324 00008d10 00260000          .long   [TEAMBOX_X,0],[TEAMBOX_Y,0],-10
    1325                    *        .long IMG
    1326                    *        .word OCTRL, OFLAGS, OZOFF
    1327                    *        .word OPTIONS
    1328                    
    1329 00008d70                   LWWWW   ANAHEIMS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1330 00008dd0                   LWWWW   CALGARYS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1331 00008e30                   LWWWW   COLORADS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1332 00008e90                   LWWWW   EDMONTOS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1333 00008ef0                   LWWWW   LOSANGES, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1334 00008f50                   LWWWW   SANJOSES, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1335 00008fb0                   LWWWW   VANCOUVS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1336                    
    1337 00009010                   LWWWW   CHICAGOS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1338 00009070                   LWWWW   DALLASS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1339 000090d0                   LWWWW   DETROITS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1340 00009130                   LWWWW   STLOUISS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1341 00009190                   LWWWW   TORONTOS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1342 000091f0                   LWWWW   WINNIPES, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1343                    
    1344 00009250                   LWWWW   FLORIDAS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   32

    1345 000092b0                   LWWWW   NEWJERSS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1346 00009310                   LWWWW   NYISLANS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1347 00009370                   LWWWW   NYRANGRS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1348 000093d0                   LWWWW   PHILADES, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1349 00009430                   LWWWW   TAMPAS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1350 00009490                   LWWWW   WASHINGS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1351                    
    1352 000094f0                   LWWWW   BOSTONS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1353 00009550                   LWWWW   BUFFALOS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1354 000095b0                   LWWWW   HARTFORS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1355 00009610                   LWWWW   MONTREAS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1356 00009670                   LWWWW   OTTAWAS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1357 000096d0                   LWWWW   PITTSBUS, DMAWNZ, M_SCRNOBJ|M_NOVEL, 0, 0
    1358                    
    1359 00009730           WEST_FLAG_INIT
    1360 00009730 000010e0"         .long   WEST01
    1361 00009750     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    1362 00009770     0914          .word   OM_OID|OM_POS|OM_ANIM|OM_INSERT
    1363 00009780     0491          .word   OID_SELECT_2
    1364 00009790 00009810'         .long   WEST_FLAG_ANIM
    1365 000097b0 00050000          .long   [5,0],[-10,0],0
    1366                    
    1367 00009810           WEST_FLAG_ANIM
    1368 00009810                   LW      WEST01,6
    1369 00009840                   LW      WEST02,6
    1370 00009870                   LW      WEST03,6
    1371 000098a0                   LW      WEST04,6
    1372 000098d0                   LW      WEST05,6
    1373 00009900                   LW      WEST06,6
    1374 00009930                   LW      WEST07,6
    1375 00009960                   LW      WEST08,6
    1376 00009990                   LW      WEST09,6
    1377 000099c0                   LW      WEST10,6
    1378 000099f0                   LW      WEST11,6
    1379 00009a20                   LW      WEST12,6
    1380 00009a50                   LW      WEST13,6
    1381 00009a80                   LW      WEST14,6
    1382 00009ab0                   LW      WEST15,6
    1383 00009ae0                   LW      WEST16,6
    1384 00009b10                   LW      WEST17,6
    1385 00009b40                   LW      WEST18,6
    1386 00009b70                   LW      WEST19,6
    1387 00009ba0                   LW      WEST20,6
    1388 00009bd0 00000000          .long   0
    1389                    
    1390 00009bf0           EAST_FLAG_INIT
    1391 00009bf0 00001c20"         .long   EAST01
    1392 00009c10     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    1393 00009c30     0914          .word   OM_OID|OM_POS|OM_ANIM|OM_INSERT
    1394 00009c40     0491          .word   OID_SELECT_2
    1395 00009c50 00009cd0'         .long   EAST_FLAG_ANIM
    1396 00009c70 016a0000          .long   [362,0],[-10,0],0
    1397                    
    1398 00009cd0           EAST_FLAG_ANIM
    1399 00009cd0                   LW      EAST01,6
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   33

    1400 00009d00                   LW      EAST02,6
    1401 00009d30                   LW      EAST03,6
    1402 00009d60                   LW      EAST04,6
    1403 00009d90                   LW      EAST05,6
    1404 00009dc0                   LW      EAST06,6
    1405 00009df0                   LW      EAST07,6
    1406 00009e20                   LW      EAST08,6
    1407 00009e50                   LW      EAST09,6
    1408 00009e80                   LW      EAST10,6
    1409 00009eb0                   LW      EAST11,6
    1410 00009ee0                   LW      EAST12,6
    1411 00009f10                   LW      EAST13,6
    1412 00009f40                   LW      EAST14,6
    1413 00009f70                   LW      EAST15,6
    1414 00009fa0                   LW      EAST16,6
    1415 00009fd0                   LW      EAST17,6
    1416 0000a000                   LW      EAST18,6
    1417 0000a030                   LW      EAST19,6
    1418 0000a060                   LW      EAST20,6
    1419 0000a090 00000000          .long   0
    1420                    
    1421 0000a0b0           TMBKBLUP:
    1422 0000a0b0     0010     .word   16
    1423 0000a0c0     7c1f     .word   07c1fh,02ef9h,026b7h,02276h,01e54h,01a33h,015f2h,011d0h
    1424 0000a140     0d8f     .word   00d8fh,0096eh,0054ch,0050bh,000eah,000c8h,000a7h,00086h
    1425                    
    1426 0000a1c0           BLUFRMP:
    1427 0000a1c0     0035     .word   53
    1428 0000a1d0     7fff     .word   07FFFh,00e7fh,00a5fh,0063fh,0021fh,001ffh,001ffh,001dfh
    1429 0000a250     01df     .word   001dfh,001bfh,001bfh,0019fh,0019eh,0017eh,0017dh,0015dh
    1430 0000a2d0     015c     .word   0015ch,0013ch,0013bh,0011bh,0011ah,000fah,000d9h,000d8h
    1431 0000a350     00b8     .word   000b8h,000b7h,00097h,00076h,00055h,00034h,00033h,00013h
    1432 0000a3d0     0012     .word   00012h,00012h,00011h,00011h,00010h,00010h,0000fh,0000fh
    1433 0000a450     000e     .word   0000eh,0000eh,0000dh,0000dh,0000ch,0000ch,0000bh,0000bh
    1434 0000a4d0     000a     .word   0000ah,00009h,00008h,00007h,07FFFH
    1435                    
    1436 0000a520           REDFRMP:
    1437 0000a520     0035     .word   53
    1438 0000a530     7fff     .word   07FFFh,07d4bh,07d2bh,07d0bh,07cebh,078cbh,078cah,074aah
    1439 0000a5b0     74a9     .word   074a9h,07089h,07088h,06c68h,06c67h,06847h,06846h,06426h
    1440 0000a630     6425     .word   06425h,06005h,06004h,05c04h,05c03h,05803h,05402h,05401h
    1441 0000a6b0     5001     .word   05001h,05000h,04c00h,04800h,04400h,04000h,04000h,03c00h
    1442 0000a730     3c00     .word   03c00h,03800h,03800h,03400h,03400h,03000h,03000h,02c00h
    1443 0000a7b0     2c00     .word   02c00h,02c00h,02c00h,02c00h,02c00h,02c00h,02c00h,02c00h
    1444 0000a830     2c00     .word   02c00h,02c00h,02c00h,02c00h,07FFFH
    1445                    
    1446 0000a880           GRNFRMP:
    1447 0000a880     0035     .word   53
    1448 0000a890     7c1f     .word   07c1fh,00fabh,00b8bh,0076bh,0034bh,0032bh,0032ah,0030ah
    1449 0000a910     0309     .word   00309h,002e9h,002e8h,002c8h,002c7h,002a7h,002a6h,00286h
    1450 0000a990     0285     .word   00285h,00265h,00264h,00244h,00243h,00223h,00202h,00201h
    1451 0000aa10     01e1     .word   001e1h,001e0h,001c0h,001a0h,00180h,00160h,00160h,00140h
    1452 0000aa90     0140     .word   00140h,00120h,00120h,00100h,00100h,000e0h,000e0h,000c0h
    1453 0000ab10     00c0     .word   000c0h,000a0h,000a0h,00080h,00080h,00060h,00060h,00040h
    1454 0000ab90     0020     .word   00020h,00000h,00000h,00000h,07FFFH
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   34

    1455                    
    1456 0000abe0           GLDFRMP:
    1457 0000abe0     0035     .word   53
    1458 0000abf0     0000     .word   00000h,07ffdh,07ffbh,07ff9h,07ff7h,07ff4h,07ff2h,07ff0h
    1459 0000ac70     7fee     .word   07feeh,07fech,07feah,07fe8h,07fe5h,07fe3h,07fe1h,07fe0h
    1460 0000acf0     7bc0     .word   07bc0h,07ba0h,07780h,07780h,07760h,07740h,07320h,07320h
    1461 0000ad70     7300     .word   07300h,06ee0h,06ee0h,06ec0h,06aa0h,06aa0h,06a80h,06660h
    1462 0000adf0     6e80     .word   06e80h,06e80h,06a60h,06a60h,06660h,06640h,06240h,06220h
    1463 0000ae70     5e20     .word   05e20h,05e20h,05a00h,05a00h,05600h,055e0h,051e0h,051c0h
    1464 0000aef0     4dc0     .word   04dc0h,04dc0h,049a0h,051c0h,07FFFH
    1465                    
    1466 0000af40           PRPFRMP:
    1467 0000af40     0035     .word   53
    1468 0000af50     0000     .word   00000h,07d7fh,07d5fh,07d5fh,07d3fh,07d3fh,07d1fh,07cffh
    1469 0000afd0     7cff     .word   07cffh,078deh,074bdh,074bdh,0709ch,06c7bh,06c7bh,0685ah
    1470 0000b050     6439     .word   06439h,06439h,06018h,06018h,05c17h,05816h,05816h,05415h
    1471 0000b0d0     5014     .word   05014h,05014h,04c13h,04812h,04812h,04411h,04411h,04010h
    1472 0000b150     3c0f     .word   03c0fh,03c0fh,0380eh,0340dh,0340dh,0300ch,02c0bh,02c0bh
    1473 0000b1d0     280a     .word   0280ah,0280ah,02409h,02008h,02008h,01c07h,01806h,01806h
    1474 0000b250     1405     .word   01405h,01004h,01004h,01004h,07FFFH
    1475                    
    1476                    **************************************************************************
    1477                    *                                                                        *
    1478                    * CENTER_ICE_BGND - MAKE THE CENTER ICE BACKGROUND                       *
    1479                    *                                                                        *
    1480                    * PASS:                                                                  *
    1481                    * NUTIN'                                                                 *
    1482                    * RETURN:                                                                *
    1483                    * NUTIN'                                                                 *
    1484                    *                                                                        *
    1485                    * TRASHES A BUNCH O' REGISTERS!                                          *
    1486                    *                                                                        *
    1487                    **************************************************************************
    1488                    
    1489 0000b2a0           CENTER_ICE_BGND
    1490 0000b2a0     09f0          MOVI    CENTER_METAL_ICE_INIT,B0
         0000b2b0 00006590' 
    1491 0000b2d0     0d5f          CALLA   MULTIMAKE
         0000b2e0 00000000! 
    1492 0000b300     0960          RETS
    1493                    
    1494                    
    1495                    **************************************************************************
    1496                    *                                                                        *
    1497                    * OPEN_ICE_BGND - MAKE THE OPEN ICE METAL BACKGROUND                     *
    1498                    *                                                                        *
    1499                    * PASS:                                                                  *
    1500                    * NUTIN'                                                                 *
    1501                    * RETURN:                                                                *
    1502                    * NUTIN'                                                                 *
    1503                    *                                                                        *
    1504                    * TRASHES A BUNCH O' REGISTERS!                                          *
    1505                    *                                                                        *
    1506                    **************************************************************************
    1507                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   35

    1508 0000b310           OPEN_ICE_BGND
    1509 0000b310     09f0          MOVI    METAL_OPEN_ICE_INIT,B0
         0000b320 00005cb0' 
    1510 0000b340     0d5f          CALLA   MULTIMAKE
         0000b350 00000000! 
    1511 0000b370     0960          RETS
    1512                    
    1513                    
    1514                    **************************************************************************
    1515                    *                                                                        *
    1516                    * SELECT_TIMER_PROC                                                      *
    1517                    *                                                                        *
    1518                    * PASS:                                                                  *
    1519                    * A11 = INITIAL SLEEP                                                    *
    1520                    *                                                                        *
    1521                    **************************************************************************
    1522                    
    1523 0000b380           SELECT_TIMER_PROC
    1524 0000b380                   SLEEPR  A11
    1525                    
    1526 0000b3c0     09f0          MOVI    TIMER_DIGIT_INIT,B0
         0000b3d0 0000bab0' 
    1527 0000b3f0     0d5f          CALLA   EASYMAKE
         0000b400 00000000! 
    1528 0000b420     0788          MOVE    A8,@TIMER_DIGIT_OBJ,L                   ;TIMER DIGIT OBJECT
         0000b430 00000200- 
    1529 0000b450     09e9          MOVI    TEXTZVAL-100,A9
         0000b460 83ffff9c  
    1530 0000b480     b328          MOVE    A9,*A8(OZVAL),L
         0000b490     0180  
    1531 0000b4a0     0d5f          CALLA   INSERT_OBJ
         0000b4b0 00000000! 
    1532                    ;       MOVI    FONTGRYP,A0
    1533 0000b4d0     09e0          MOVI    REDTXT3P,A0
         0000b4e0 00000000! 
    1534 0000b500     0d5f          CALLA   CHANGE_PAL
         0000b510 00000000! 
    1535                    
    1536 0000b530           STP_RESTART
    1537 0000b530     09ea          MOVI    COUNTDOWN_TABLE,A10
         0000b540 0000bb10' 
    1538 0000b560           STP_LUPE
    1539 0000b560     9741          MOVE    *A10+,A1,L
    1540 0000b570     ca3d          JRZ     STP_TIMES_UP                            ;BR=BING!
    1541                    
    1542 0000b580     09e4          MOVI    DMAWNZ,A4
         0000b590 00008002  
    1543 0000b5b0     0d5f          CALLA   ANI
         0000b5c0 00000000! 
    1544                    
    1545 0000b5e0     09e1          MOVI    [126,199],A1
         0000b5f0 007e00c7  
    1546 0000b610     b700          MOVE    *A8(OSIZE),A0,L
         0000b620     0260  
    1547 0000b630     4c0e          MOVE    A0,A14
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   36

    1548 0000b640     2be0          SRA     1,A0                                    ;HALF Y-SIZE
    1549 0000b650     052e          ZEXT    A14,W
    1550 0000b660     2bee          SRA     1,A14                                   ;HALF X-SIZE
    1551 0000b670     edc0          MOVX    A14,A0
    1552 0000b680     e201          SUBXY   A0,A1                                   ;UPPER LEFT
    1553 0000b690     4d22          MOVE    A9,A2
    1554 0000b6a0     0d5f          CALLA   SET_SCRNOBJ
         0000b6b0 00000000! 
    1555                    
    1556 0000b6d0     0d3f          CALLR   TICK_SOUND
         0000b6e0     0034  
    1557                    
    1558 0000b6f0     09cb          MOVI    DIGIT_ON_TIME,A11
         0000b700     0032  
    1559 0000b710           STP_ON_WAIT
    1560 0000b710                   SLEEP   1
    1561 0000b750     05ae          MOVE    @GAME_STATE,A14,W
         0000b760 00000000! 
    1562 0000b780     0b4e          CMPI    INSUBST,A14
         0000b790     ff7f  
    1563 0000b7a0     ca04          JREQ    STP_ON_NEXT                             ;BR=DON'T RESET
    1564 0000b7b0     05ae          MOVE    @NEWCRED,A14,W
         0000b7c0 00000000! 
    1565 0000b7e0     cbd4          JRNZ    STP_RESTART                             ;BR=NEW CREDIT
    1566 0000b7f0           STP_ON_NEXT
    1567 0000b7f0     3deb          DSJ     A11,STP_ON_WAIT
    1568                    
    1569 0000b800     0d5f          CALLA   OBJ_OFF
         0000b810 00000000! 
    1570                    
    1571 0000b830     09cb          MOVI    DIGIT_OFF_TIME,A11
         0000b840     0019  
    1572 0000b850           STP_OFF_WAIT
    1573 0000b850                   SLEEP   1
    1574 0000b890     05ae          MOVE    @GAME_STATE,A14,W
         0000b8a0 00000000! 
    1575 0000b8c0     0b4e          CMPI    INSUBST,A14
         0000b8d0     ff7f  
    1576 0000b8e0     ca04          JREQ    STP_OFF_NEXT                            ;BR=DON'T RESET
    1577 0000b8f0     05ae          MOVE    @NEWCRED,A14,W
         0000b900 00000000! 
    1578 0000b920     cbc0          JRNZ    STP_RESTART                             ;BR=NEW CREDIT
    1579 0000b930           STP_OFF_NEXT
    1580 0000b930     3deb          DSJ     A11,STP_OFF_WAIT
    1581                    
    1582 0000b940     c0c1          JRUC    STP_LUPE
    1583 0000b950           STP_TIMES_UP
    1584 0000b950     0d5f          CALLA   DELETE_OBJ
         0000b960 00000000! 
    1585                    
    1586 0000b980     57ce          CLR     A14
    1587 0000b990     078e          MOVE    A14,@TIMER_DIGIT_OBJ,L                  ;NO MORE TIMER OBJECT
         0000b9a0 00000200- 
    1588                    
    1589 0000b9c0     182e          MOVK    1,A14
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   37

    1590 0000b9d0     058e          MOVE    A14,@TIMES_UP,W
         0000b9e0 00000220- 
    1591                    
    1592 0000ba00                   DIE
    1593                    
    1594 0000ba30           TICK_SOUND
    1595 0000ba30                   PUSH    A4
    1596 0000ba40     09c4          MOVI    S_TIMER_TICK,A4
         0000ba50     010b  
    1597 0000ba60     0d5f          CALLA   do_sound
         0000ba70 00000000! 
    1598 0000ba90                   PULLQ   A4
    1599 0000baa0     0960          RETS
    1600                    
    1601 0000bab0           TIMER_DIGIT_INIT
    1602 0000bab0 000080f0'         .long   BLACK_INFOBOX
    1603 0000bad0     8000          .word   DMAGO,M_SCRNOBJ|M_NOSCALE|M_NOVEL
    1604 0000baf0     0100          .word   OM_OID
    1605 0000bb00     048d          .word   OID_TIMER
    1606                    
    1607 0000bb10           COUNTDOWN_TABLE
    1608 0000bb10 00000000!         .LONG   FONT519,FONT518,FONT517,FONT516,FONT515
    1609 0000bbb0 00000000!         .LONG   FONT514,FONT513,FONT512,FONT511,FONT510,0
    1610                    
    1611                    ;**************************************************************************
    1612                    ;*                                                                       *
    1613                    ;* INITIAL_LAMP_PROC - FLASH LAMP IF TEAM ACTIVE                                 *
    1614                    ;*                                                                       *
    1615                    ;* PASS:                                                                         *
    1616                    ;* NUTIN'                                                                *
    1617                    ;*                                                                       *
    1618                    ;**************************************************************************
    1619                    ;
    1620                    ;INITIAL_LAMP_PROC
    1621                    ;       CALLA   LAMPS_OFF
    1622                    ;ILP_LUPE
    1623                    ;       CLR     A0
    1624                    ;
    1625                    ;       MOVB    @TEAM_SELECT_BITS,A1
    1626                    ;       MOVE    A1,A2
    1627                    ;       ANDI    011B,A1                         ;MASK OUT TEAM
    1628                    ;       JRZ     ILP_CHECK_RIGHT                 ;BR=LEFT TEAM NOT ACTIVE
    1629                    ;       MOVK    M_LEFT_LAMP,A0
    1630                    ;ILP_CHECK_RIGHT
    1631                    ;       ANDI    01100B,A2                       ;MASK OUT TEAM
    1632                    ;       JRZ     ILP_FLASH
    1633                    ;       ORI     M_RGHT_LAMP,A0
    1634                    ;ILP_FLASH
    1635                    ;       CALLA   LAMP_ON
    1636                    ;       SLEEP   15
    1637                    ;       CALLA   LAMPS_OFF
    1638                    ;       SLEEP   15
    1639                    ;       JRUC    ILP_LUPE
    1640                    
    1641                    **************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   38

    1642                    *                                                                        *
    1643                    * DISPLAY_CREDIT_PROC - DISPLAY CREDITS                                  *
    1644                    *                                                                        *
    1645                    * PASS:                                                                  *
    1646                    * A9  = [Y,X] CENTER POSITION                                            *
    1647                    * A10 = Z POSITION                                                       *
    1648                    *                                                                        *
    1649                    **************************************************************************
    1650                    
    1651 0000bc70           DISPLAY_CREDIT_PROC
    1652 0000bc70     09c0          MOVI    ADJFREPL,A0
         0000bc80     0014  
    1653 0000bc90     0d5f          CALLA   GET_ADJ
         0000bca0 00000000! 
    1654 0000bcc0     ca1f          JRZ     DCP_CREDIT_MESSAGE
    1655                    
    1656 0000bcd0     09f0          MOVI    FREEPLAY_INIT,B0
         0000bce0 0000caf0' 
    1657 0000bd00     0d5f          CALLA   EASYMAKE
         0000bd10 00000000! 
    1658 0000bd30     4d21          MOVE    A9,A1
    1659 0000bd40     4d42          MOVE    A10,A2
    1660 0000bd50     0d5f          CALLA   SET_SCRNOBJ
         0000bd60 00000000! 
    1661 0000bd80     0d5f          CALLA   INSERT_OBJ
         0000bd90 00000000! 
    1662                    
    1663 0000bdb0     05ae          MOVE    @GAME_STATE,A14,W
         0000bdc0 00000000! 
    1664 0000bde0     0b4e          CMPI    INPLAY,A14
         0000bdf0     ffdf  
    1665 0000be00     ca80          JAEQ    SUCIDE                          ;BR=DON'T RESET IN PLAY
         0000be10 00000000! 
    1666                    
    1667 0000be30           DCP_FREE_LUPE
    1668 0000be30                   SLEEP   1
    1669 0000be70     57ce          CLR     A14
    1670 0000be80     058e          MOVE    A14,@NEWCRED,W                  ;RESET NEW CREDIT FLAG
         0000be90 00000000! 
    1671 0000beb0     c0f7          JRUC    DCP_FREE_LUPE
    1672                    
    1673 0000bec0           DCP_CREDIT_MESSAGE
    1674                    
    1675 0000bec0     09f0          MOVI    CREDIT_INIT,B0
         0000bed0 0000cb50' 
    1676 0000bef0     0d5f          CALLA   EASYMAKE
         0000bf00 00000000! 
    1677 0000bf20     4d21          MOVE    A9,A1
    1678 0000bf30     4d42          MOVE    A10,A2
    1679 0000bf40     0d5f          CALLA   SET_SCRNOBJ
         0000bf50 00000000! 
    1680 0000bf70     0d5f          CALLA   INSERT_OBJ
         0000bf80 00000000! 
    1681                    
    1682 0000bfa0     09f0          MOVI    CREDIT_INIT,B0                  ;"TENS" DIGIT OBJECT
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   39

         0000bfb0 0000cb50' 
    1683 0000bfd0     0d5f          CALLA   EASYMAKE
         0000bfe0 00000000! 
    1684 0000c000     09ee          MOVI    01000H|DMAWNZ,A14
         0000c010 00009002  
    1685 0000c030     b1c8          MOVE    A14,*A8(OCTRL),W
         0000c040     01f0  
    1686 0000c050     0b29          ADDI    [8,0],A9
         0000c060 00080000  
    1687 0000c080     4d21          MOVE    A9,A1
    1688 0000c090     142a          DEC     A10
    1689 0000c0a0     4d42          MOVE    A10,A2
    1690 0000c0b0     0d5f          CALLA   SET_SCRNOBJ
         0000c0c0 00000000! 
    1691 0000c0e0     0d5f          CALLA   INSERT_OBJ
         0000c0f0 00000000! 
    1692 0000c110     4d0b          MOVE    A8,A11
    1693                    
    1694 0000c120     09f0          MOVI    CREDIT_INIT,B0                  ;"ONES" DIGIT OBJECT
         0000c130 0000cb50' 
    1695 0000c150     0d5f          CALLA   EASYMAKE
         0000c160 00000000! 
    1696 0000c180     09ee          MOVI    01000H|DMAWNZ,A14
         0000c190 00009002  
    1697 0000c1b0     b1c8          MOVE    A14,*A8(OCTRL),W
         0000c1c0     01f0  
    1698 0000c1d0     4d21          MOVE    A9,A1
    1699 0000c1e0     4d42          MOVE    A10,A2
    1700 0000c1f0     0d5f          CALLA   SET_SCRNOBJ
         0000c200 00000000! 
    1701 0000c220     0d5f          CALLA   INSERT_OBJ
         0000c230 00000000! 
    1702 0000c250     4d0a          MOVE    A8,A10
    1703                    
    1704 0000c260     c014          JRUC    DCP_NEW_CREDIT
    1705                    
    1706 0000c270           DCP_WAIT_LUPE
    1707 0000c270                   SLEEP   1
    1708 0000c2b0     05ae          MOVE    @GAME_STATE,A14,W
         0000c2c0 00000000! 
    1709 0000c2e0     0b4e          CMPI    INGAME,A14
         0000c2f0     ffef  
    1710 0000c300     cb06          JRNE    DCP_WL_CHECK_NEW                ;BR=NOT END OF PERIOD
    1711 0000c310     b5ae          MOVE    *A13(PROCID),A14,W              ;MAKE DESTRUCTIBLE
         0000c320     0020  
    1712 0000c330     262e          SLL     17,A14
    1713 0000c340     2e0e          SRL     16,A14
    1714 0000c350     b1cd          MOVE    A14,*A13(PROCID),W
         0000c360     0020  
    1715 0000c370           DCP_WL_CHECK_NEW
    1716 0000c370     05ae          MOVE    @NEWCRED,A14,W
         0000c380 00000000! 
    1717 0000c3a0     caec          JRZ     DCP_WAIT_LUPE                   ;BR=NO FLAG
    1718 0000c3b0           DCP_NEW_CREDIT
    1719 0000c3b0     57ce          CLR     A14
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   40

    1720 0000c3c0     058e          MOVE    A14,@NEWCRED,W                  ;RESET "NEW" CREDIT MESSAGE FLAG
         0000c3d0 00000000! 
    1721 0000c3f0     0d5f          calla   update_drone_msgs
         0000c400 00000000! 
    1722 0000c420     0d5f          CALLA   CRED_P
         0000c430 00000000! 
    1723 0000c450     1540          SUBK    10,A0
    1724 0000c460     cf1c          JRNN    DCP_CHECK_TEENS
    1725                    
    1726 0000c470     1140          ADDK    10,A0                           ;SET "ONES" DIGIT
    1727 0000c480     24a0          SLL     5,A0
    1728 0000c490     0b20          ADDI    DIGIT5_TABLE,A0
         0000c4a0 0000cbb0' 
    1729 0000c4c0     8600          MOVE    *A0,A0,L
    1730 0000c4d0     b20a          MOVE    A0,*A10(OIMG),L
         0000c4e0     02c0  
    1731 0000c4f0     ba0a          MOVE    *A0(ISAG),*A10(OSAG),L
         0000c500     0030  
         0000c510     0200  
    1732 0000c520     b601          MOVE    *A0(ISIZE),A1,L
         0000c530     0010  
    1733 0000c540     b22a          MOVE    A1,*A10(OUSIZE),L
         0000c550     0240  
    1734                    
    1735 0000c560     2601          SLL     16,A1                           ;CENTER X POSTION
    1736 0000c570     29e1          SRA     16+1,A1
    1737 0000c580     4d2e          MOVE    A9,A14
    1738 0000c590     e22e          SUBXY   A1,A14
    1739 0000c5a0     b1ca          MOVE    A14,*A10(ODAGX),W
         0000c5b0     0220  
    1740                    
    1741 0000c5c0     b56e          MOVE    *A11(OCTRL),A14,W               ;TURN "TENS" DIGIT OFF
         0000c5d0     01f0  
    1742 0000c5e0     2f8e          SRL     4,A14
    1743 0000c5f0     248e          SLL     4,A14
    1744 0000c600     b1cb          MOVE    A14,*A11(OCTRL),W
         0000c610     01f0  
    1745                    
    1746 0000c620     c0c4          JRUC    DCP_WAIT_LUPE
    1747                    
    1748 0000c630           DCP_CHECK_TEENS
    1749 0000c630     1540          SUBK    10,A0
    1750 0000c640     cf14          JRNN    DCP_CHECK_MORE
    1751                    
    1752 0000c650     1140          ADDK    10,A0                           ;SET "ONES" DIGIT
    1753 0000c660     24a0          SLL     5,A0
    1754 0000c670     0b20          ADDI    DIGIT5_TABLE,A0
         0000c680 0000cbb0' 
    1755 0000c6a0     8600          MOVE    *A0,A0,L
    1756 0000c6b0     b20a          MOVE    A0,*A10(OIMG),L
         0000c6c0     02c0  
    1757 0000c6d0     ba0a          MOVE    *A0(ISAG),*A10(OSAG),L
         0000c6e0     0030  
         0000c6f0     0200  
    1758 0000c700     b601          MOVE    *A0(ISIZE),A1,L
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   41

         0000c710     0010  
    1759 0000c720     b22a          MOVE    A1,*A10(OUSIZE),L
         0000c730     0240  
    1760                    
    1761 0000c740     1021          INC     A1                              ;COMPENSATE FOR "10" DIGIT
    1762 0000c750     09e0          MOVI    FONT51,A0                       ;SET "TENS" DIGIT
         0000c760 00000000! 
    1763 0000c780     c019          JRUC    DCP_UPDATE
    1764                    
    1765 0000c790           DCP_CHECK_MORE
    1766 0000c790     182e          MOVK    2-1,A14                         ;TWENTY
    1767 0000c7a0           DCP_CM_LUPE
    1768 0000c7a0     102e          ADDK    1,A14
    1769 0000c7b0     1540          SUBK    10,A0
    1770 0000c7c0     cffd          JRNN    DCP_CM_LUPE
    1771                    
    1772 0000c7d0     1140          ADDK    10,A0                           ;SET "ONES" DIGIT
    1773 0000c7e0     24a0          SLL     5,A0
    1774 0000c7f0     0b20          ADDI    DIGIT5_TABLE,A0
         0000c800 0000cbb0' 
    1775 0000c820     8600          MOVE    *A0,A0,L
    1776 0000c830     b20a          MOVE    A0,*A10(OIMG),L
         0000c840     02c0  
    1777 0000c850     ba0a          MOVE    *A0(ISAG),*A10(OSAG),L
         0000c860     0030  
         0000c870     0200  
    1778 0000c880     b601          MOVE    *A0(ISIZE),A1,L
         0000c890     0010  
    1779 0000c8a0     b22a          MOVE    A1,*A10(OUSIZE),L
         0000c8b0     0240  
    1780                    
    1781 0000c8c0     24ae          SLL     5,A14                           ;SET "TENS" DIGIT
    1782 0000c8d0     0b2e          ADDI    DIGIT5_TABLE,A14
         0000c8e0 0000cbb0' 
    1783 0000c900     87c0          MOVE    *A14,A0,L
    1784 0000c910     0300          JRUC    DCP_UPDATE
    1785                    
    1786 0000c920           DCP_UPDATE
    1787 0000c920     b20b          MOVE    A0,*A11(OIMG),L
         0000c930     02c0  
    1788 0000c940     ba0b          MOVE    *A0(ISAG),*A11(OSAG),L
         0000c950     0030  
         0000c960     0200  
    1789 0000c970     b602          MOVE    *A0(ISIZE),A2,L
         0000c980     0010  
    1790 0000c990     b24b          MOVE    A2,*A11(OUSIZE),L
         0000c9a0     0240  
    1791                    
    1792 0000c9b0     b56e          MOVE    *A11(OCTRL),A14,W               ;TURN "TENS" DIGIT ON
         0000c9c0     01f0  
    1793 0000c9d0     2f8e          SRL     4,A14
    1794 0000c9e0     248e          SLL     4,A14
    1795 0000c9f0     104e          ADDK    DMAWNZ&0FH,A14
    1796 0000ca00     b1cb          MOVE    A14,*A11(OCTRL),W
         0000ca10     01f0  
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   42

    1797                    
    1798 0000ca20     1022          INC     A2
    1799 0000ca30     e041          ADDXY   A2,A1                           ;TOTAL WIDTH + 1 PIXEL SPACE
    1800 0000ca40     2601          SLL     16,A1                           ;CENTER X POSTION
    1801 0000ca50     29e1          SRA     16+1,A1
    1802 0000ca60     4d2e          MOVE    A9,A14
    1803 0000ca70     e22e          SUBXY   A1,A14
    1804 0000ca80     b1cb          MOVE    A14,*A11(ODAGX),W
         0000ca90     0220  
    1805 0000caa0     e04e          ADDXY   A2,A14
    1806 0000cab0     b1ca          MOVE    A14,*A10(ODAGX),W
         0000cac0     0220  
    1807                    
    1808 0000cad0     c000          JRUC    DCP_WAIT_LUPE
         0000cae0     ff78  
    1809                    
    1810 0000caf0           FREEPLAY_INIT
    1811 0000caf0 00004380"         .long   FREEBOX
    1812 0000cb10     8003          .word   DMAWAL,M_SCRNOBJ|M_NOVEL
    1813 0000cb30     0100          .word   OM_OID
    1814 0000cb40     0488          .word   OID_CREDIT
    1815                    
    1816 0000cb50           CREDIT_INIT
    1817 0000cb50 00004410"         .long   CREDITBX
    1818 0000cb70     8003          .word   DMAWAL,M_SCRNOBJ|M_NOVEL
    1819 0000cb90     0100          .word   OM_OID
    1820 0000cba0     0488          .word   OID_CREDIT
    1821                    
    1822 0000cbb0           DIGIT5_TABLE
    1823 0000cbb0 00000000!         .LONG   FONT50,FONT51,FONT52,FONT53,FONT54
    1824 0000cc50 00000000!         .LONG   FONT55,FONT56,FONT57,FONT58,FONT59
    1825                    
    1826                    **************************************************************************
    1827                    *                                                                        *
    1828                    * A_UPDATE_INFOBOX_MESSAGE - UPDATE MESSAGE IN INACTIVE PLAYER'S INFOBOX *
    1829                    *                                                                        *
    1830                    * PASS:                                                                  *
    1831                    * A8 = MESSAGE OBJECT                                                    *
    1832                    * AARG+,L = LOOP BRANCH                                                  *
    1833                    *                                                                        *
    1834                    **************************************************************************
    1835                    
    1836 0000ccf0           A_UPDATE_INFOBOX_MESSAGE
    1837                    ;       MOVE    @PLAYER_BITS,A0,W               ;GET CURRENT PLAYERS
    1838                    
    1839 0000ccf0     05a1          MOVE    @period,A1,W                    ;GET UNPAID PLAYERS
         0000cd00 00000000! 
    1840 0000cd20     1021          INC     A1
    1841 0000cd30     0d5f          CALLA   get_period_players
         0000cd40 00000000! 
    1842 0000cd60     b501          MOVE    *A8(ODATA),A1,W                 ;PLAYER NUMBER - 1
         0000cd70     04b0  
    1843 0000cd80     4a20          BTST    A1,A0
    1844 0000cd90     cb80          JANZ    DELETE_OBJ                      ;BR=PLAYER ACTIVE
         0000cda0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   43

    1845                    
    1846 0000cdc0     b504          MOVE    *A8(OCTRL),A4,W
         0000cdd0     01f0  
    1847 0000cde0     1fc4          BTST    1,A4
    1848 0000cdf0     cb08          JRNZ    AUIM_GO                         ;BR=WRITE NON-ZERO BIT SET
    1849 0000ce00     0ba4          ORI     DMAWNZ,A4
         0000ce10 00008002  
    1850 0000ce30     b088          MOVE    A4,*A8(OCTRL),W
         0000ce40     01f0  
    1851 0000ce50     1bce          MOVK    30,A14
    1852 0000ce60     adc8          MOVB    A14,*A8(ANIMLOOP)               ;SET NUMBER OF LOOPS
         0000ce70     0370  
    1853 0000ce80           AUIM_GO
    1854 0000ce80     b502          MOVE    *A8(ODATA+010H),A2,W            ;NUMBER OF CREDITS TO START
         0000ce90     04c0  
    1855 0000cea0           AUIM_LUPE
    1856 0000cea0     09e1          MOVI    INSERT11,A1
         0000ceb0 00003f00" 
    1857 0000ced0     0d5f          CALLA   CRED_P
         0000cee0 00000000! 
    1858 0000cf00     4840          CMP     A2,A0
    1859 0000cf10     c403          JRLT    AUIM_SET                        ;BR=NOT ENOUGH CREDITS TO START
    1860 0000cf20     09e1          MOVI    PRESST11,A1
         0000cf30 00003f90" 
    1861 0000cf50           AUIM_SET
    1862 0000cf50     b70e          MOVE    *A8(OIMG),A14,L
         0000cf60     02c0  
    1863 0000cf70     49c1          CMP     A14,A1
    1864 0000cf80     ca80          JAEQ    A_Anim_DSJ                      ;BR=DON'T CHANGE MESSAGE
         0000cf90 00000000! 
    1865 0000cfb0     0d5f          CALLA   ANI
         0000cfc0 00000000! 
    1866 0000cfe0     c080          JAUC    A_Anim_DSJ
         0000cff0 00000000! 
    1867                    
    1868                    **************************************************************************
    1869                    *                                                                        *
    1870                    * A_CHECK_ACTIVE_PLAYERS - IF PLAYERS ACTIVE, THEN DELETE MESSAGE        *
    1871                    *                         ELSE TURN ON MESSAGE AND LOOP                  *
    1872                    *                                                                        *
    1873                    * A8 = MESSAGE OBJECT                                                    *
    1874                    *                                                                        *
    1875                    **************************************************************************
    1876                    
    1877 0000d010           A_CHECK_ACTIVE_PLAYERS
    1878 0000d010     05a0          MOVE    @PLAYER_BITS,A0,W               ;GET CURRENT PLAYERS
         0000d020 00000000! 
    1879 0000d040     b501          MOVE    *A8(ODATA),A1,W                 ;PLAYER MASK
         0000d050     04b0  
    1880 0000d060     4c0e          MOVE    A0,A14
    1881 0000d070     502e          AND     A1,A14
    1882                    ;       JANZ    DELETE_OBJ                      ;BR=PLAYER ACTIVE
    1883 0000d080     ca0e          JRZ     ACAP_NOT_ACTIVE                 ;BR=PLAYER NOT ACTIVE
    1884 0000d090     05ae          MOVE    @period,A14,W
         0000d0a0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   44

    1885 0000d0c0     ca80          JAZ     DELETE_OBJ                      ;BR=NOT INTERMISSION
         0000d0d0 00000000! 
    1886 0000d0f0     0d5f          CALLA   DELETE_OBJ
         0000d100 00000000! 
    1887 0000d120     b509          MOVE    *A8(ODATA+010H),A9,W            ;PLAYER NUMBER - 1
         0000d130     04c0  
    1888 0000d140     c080          JAUC    GET_READY_MESSAGE
         0000d150 00000000! 
    1889                    
    1890 0000d170           ACAP_NOT_ACTIVE
    1891 0000d170     b70e          MOVE    *A8(ANIMSCR),A14,L
         0000d180     0340  
    1892 0000d190     0b6e          CMPI    TEAMNEED_MESSAGE_ANIM,A14
         0000d1a0 ffff78bf' 
    1893 0000d1c0     ca12          JREQ    ACAP_CHECK_LOOPS                ;BR=ALREADY NEED A TEAMMATE
    1894                    
    1895 0000d1d0     0b81          ANDI    011B,A1
         0000d1e0 fffffffc  
    1896 0000d200     ca0a          JRZ     ACAP_CHECK_RIGHT                ;BR=CHECK RIGHT TEAM
    1897 0000d210     0b80          ANDI    011B,A0
         0000d220 fffffffc  
    1898 0000d240     ca0a          JRZ     ACAP_CHECK_LOOPS                ;BR=STILL NEED A CHALLENGER
    1899 0000d250           ACAP_SET_TEAMNEED
    1900 0000d250     09e1          MOVI    TEAMNEED_MESSAGE_ANIM,A1
         0000d260 00008740' 
    1901 0000d280     b228          MOVE    A1,*A8(ANIMSCR),L
         0000d290     0340  
    1902 0000d2a0     0960          RETS
    1903 0000d2b0           ACAP_CHECK_RIGHT
    1904 0000d2b0     0b80          ANDI    01100B,A0
         0000d2c0 fffffff3  
    1905 0000d2e0     cbf6          JRNZ    ACAP_SET_TEAMNEED               ;BR=NEED A TEAMMATE NOW
    1906 0000d2f0           ACAP_CHECK_LOOPS
    1907 0000d2f0     af0e          MOVB    *A8(ANIMLOOP),A14               ;CHECK FOR LOOPS
         0000d300     0370  
    1908 0000d310     cb80          JANZ    A_Anim_DSJ                      ;BR=WRITE NON-ZERO BIT SET
         0000d320 00000000! 
    1909 0000d340     1bce          MOVK    30,A14
    1910 0000d350     adc8          MOVB    A14,*A8(ANIMLOOP)               ;SET NUMBER OF LOOPS
         0000d360     0370  
    1911 0000d370     c080          JAUC    A_Anim_DSJ
         0000d380 00000000! 
    1912                    
    1913                    **************************************************************************
    1914                    *                                                                        *
    1915                    * PERIODS_PAID_PROC - DISPLAY "JOIN IN" OR NUMBER OF PERIODS PAID        *
    1916                    *                                                                        *
    1917                    * PASS:                                                                  *
    1918                    * A9 = PLAYER NUMBER - 1                                                 *
    1919                    *                                                                        *
    1920                    **************************************************************************
    1921                    
    1922 0000d3a0           PERIODS_PAID_PROC
    1923 0000d3a0     4d2a          MOVE    A9,A10
    1924 0000d3b0     248a          SLL     4,A10
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   45

    1925 0000d3c0     0b2a          ADDI    INFOBOX_CENTER_XPOS_TABLE,A10
         0000d3d0 00007eb0' 
    1926 0000d3f0     854a          MOVE    *A10,A10,W
    1927                    ;       MOVI    [INFOBOX_Y+123,-1],A14
    1928 0000d400     09ee          MOVI    [INFOBOX_Y+117,-26],A14
         0000d410 00e4ffe6  
    1929 0000d430     e1ca          ADDXY   A14,A10                         ;[Y,X] SCREEN ADDRESS
    1930                    
    1931 0000d440     05a0          MOVE    @PLAYER_BITS,A0,W               ;GET CURRENT PLAYERS
         0000d450 00000000! 
    1932 0000d470     4b20          BTST    A9,A0
    1933 0000d480     cb38          JRNZ    PPP_GO                          ;BR=PLAYER ACTIVE
    1934                    
    1935 0000d490     09f0          MOVI    JOININ_INIT,B0
         0000d4a0 0000e7c0' 
    1936 0000d4c0     0d5f          CALLA   EASYMAKE
         0000d4d0 00000000! 
    1937 0000d4f0     4d41          MOVE    A10,A1
    1938 0000d500     09e2          MOVI    TEXTZVAL-4,A2
         0000d510 83fffffc  
    1939 0000d530     0d5f          CALLA   SET_SCRNOBJ
         0000d540 00000000! 
    1940 0000d560     0d5f          CALLA   INSERT_OBJ
         0000d570 00000000! 
    1941                    
    1942 0000d590     4d20          MOVE    A9,A0
    1943 0000d5a0     24a0          SLL     5,A0
    1944 0000d5b0     0b20          ADDI    JOININ_PAL_TABLE,A0
         0000d5c0 0000eaf0' 
    1945 0000d5e0     8600          MOVE    *A0,A0,L
    1946 0000d5f0     4c01          MOVE    A0,A1
    1947 0000d600     0d5f          CALLA   CHANGE_PAL
         0000d610 00000000! 
    1948 0000d630     098f          MMTM    SP,A8,A9,A10
         0000d640     00e0  
    1949 0000d650     4c28          MOVE    A1,A8                           ;PALETTE
    1950 0000d660     1849          MOVK    2,A9                            ;START
    1951 0000d670     19ea          MOVK    15,A10                          ;END
    1952 0000d680     186b          MOVK    3,A11                           ;TIME
    1953 0000d690                   CREATE  PID_COLOR,CYCLE16
    1954 0000d710     09af          MMFM    SP,A8,A9,A10
         0000d720     0700  
    1955                    
    1956 0000d730           PPP_WAIT_LUPE
    1957 0000d730                   SLEEP   1
    1958 0000d770     05a0          MOVE    @PLAYER_BITS,A0,W               ;GET CURRENT PLAYERS
         0000d780 00000000! 
    1959 0000d7a0     4b20          BTST    A9,A0
    1960 0000d7b0     caf7          JRZ     PPP_WAIT_LUPE                   ;BR=PLAYER STILL NOT ACTIVE
    1961                    
    1962 0000d7c0     0d3f          CALLR   PERIOD_PAID_SOUND
         0000d7d0     01cd  
    1963                    
    1964 0000d7e0     0d5f          CALLA   DELETE_OBJ                      ;KILL "JOIN IN"
         0000d7f0 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   46

    1965 0000d810           PPP_GO
    1966 0000d810     576b          CLR     A11                             ;CLEAR 2ND PERIOD OBJECT
    1967                    
    1968 0000d820     09ee          MOVI    [-9,-10],A14
         0000d830 fff7fff6  
    1969 0000d850     e3ca          SUBXY   A14,A10
    1970                    
    1971 0000d860     05ae          MOVE    @period,A14,W
         0000d870 00000000! 
    1972 0000d890     ca33          JRZ     PPP_PERIOD_1
    1973 0000d8a0     0b4e          CMPI    1,A14
         0000d8b0     fffe  
    1974 0000d8c0     ca46          JREQ    PPP_PERIOD_2                    ;BR=SKIP 1ST PUCK
    1975 0000d8d0     11ca          ADDK    14,A10                          ;START AT 2ND PUCK POSITION
    1976 0000d8e0     0b4e          CMPI    2,A14
         0000d8f0     fffd  
    1977 0000d900     ca54          JREQ    PPP_PERIOD_3                    ;BR=SKIP 1ST AND 2ND PUCK
    1978                    
    1979 0000d910     09f0          MOVI    PAID_PUCK_INIT,B0               ;4TH PERIOD NOT PAID
         0000d920 0000e820' 
    1980 0000d940     0d5f          CALLA   EASYMAKE
         0000d950 00000000! 
    1981 0000d970     4d41          MOVE    A10,A1
    1982 0000d980     09e2          MOVI    TEXTZVAL-4,A2
         0000d990 83fffffc  
    1983 0000d9b0     0d5f          CALLA   SET_SCRNOBJ
         0000d9c0 00000000! 
    1984 0000d9e0     0d5f          CALLA   INSERT_OBJ
         0000d9f0 00000000! 
    1985                    
    1986 0000da10     1029          INC     A9
    1987 0000da20     0b49          CMPI    3,A9
         0000da30     fffc  
    1988 0000da40     c401          JRLT    PPP_GET_PBLOCK                  ;BR=PLAYER 1 OR 2
    1989 0000da50     1049          ADDK    2,A9
    1990 0000da60           PPP_GET_PBLOCK
    1991 0000da60                   GBLOCK  A9,A9
    1992                    
    1993 0000daa0           PPP_4TH_WAIT
    1994 0000daa0                   SLEEP   1
    1995 0000dae0     b52e          MOVE    *A9(POF_PERIODS_PAID),A14,W
         0000daf0     0900  
    1996 0000db00     1f8e          BTST    3,A14
    1997 0000db10     caf8          JRZ     PPP_4TH_WAIT                    ;BR=NOT PAID
    1998                    
    1999 0000db20     09e0          MOVI    PCKCRD1P,A0                     ;CHANGE IT TO ORANGE
         0000db30 0000efb0' 
    2000 0000db50     0d5f          CALLA   CHANGE_PAL
         0000db60 00000000! 
    2001                    
    2002 0000db80     0d3f          CALLR   PERIOD_PAID_SOUND
         0000db90     0191  
    2003                    
    2004 0000dba0                   DIE
    2005                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   47

    2006 0000dbd0           PPP_PERIOD_1
    2007 0000dbd0     09f0          MOVI    PAID_PUCK_INIT,B0               ;1ST PERIOD PAID
         0000dbe0 0000e820' 
    2008 0000dc00     0d5f          CALLA   EASYMAKE
         0000dc10 00000000! 
    2009 0000dc30     4d41          MOVE    A10,A1
    2010 0000dc40     09e2          MOVI    TEXTZVAL-4,A2
         0000dc50 83fffffc  
    2011 0000dc70     0d5f          CALLA   SET_SCRNOBJ
         0000dc80 00000000! 
    2012 0000dca0     0d5f          CALLA   INSERT_OBJ
         0000dcb0 00000000! 
    2013 0000dcd0     09e0          MOVI    PCKCRD1P,A0                     ;CHANGE IT TO ORANGE
         0000dce0 0000efb0' 
    2014 0000dd00     0d5f          CALLA   CHANGE_PAL
         0000dd10 00000000! 
    2015 0000dd30           PPP_PERIOD_2
    2016 0000dd30     09f0          MOVI    PAID_PUCK_INIT,B0               ;2ND PERIOD NOT PAID
         0000dd40 0000e820' 
    2017 0000dd60     0d5f          CALLA   EASYMAKE
         0000dd70 00000000! 
    2018 0000dd90     11ca          ADDK    14,A10
    2019 0000dda0     4d41          MOVE    A10,A1
    2020 0000ddb0     09e2          MOVI    TEXTZVAL-4,A2
         0000ddc0 83fffffc  
    2021 0000dde0     0d5f          CALLA   SET_SCRNOBJ
         0000ddf0 00000000! 
    2022 0000de10     0d5f          CALLA   INSERT_OBJ
         0000de20 00000000! 
    2023 0000de40     4d0b          MOVE    A8,A11
    2024 0000de50           PPP_PERIOD_3
    2025 0000de50     09f0          MOVI    PAID_PUCK_INIT,B0               ;3RD PERIOD NOT PAID
         0000de60 0000e820' 
    2026 0000de80     0d5f          CALLA   EASYMAKE
         0000de90 00000000! 
    2027 0000deb0     11ca          ADDK    14,A10
    2028 0000dec0     4d41          MOVE    A10,A1
    2029 0000ded0     09e2          MOVI    TEXTZVAL-4,A2
         0000dee0 83fffffc  
    2030 0000df00     0d5f          CALLA   SET_SCRNOBJ
         0000df10 00000000! 
    2031 0000df30     0d5f          CALLA   INSERT_OBJ
         0000df40 00000000! 
    2032 0000df60     4d0a          MOVE    A8,A10
    2033                    
    2034 0000df70     b12d          MOVE    A9,*A13(PDATA),W                ;SAVE PLAYER NUMBER - 1
         0000df80     0100  
    2035                    
    2036 0000df90     1029          INC     A9
    2037 0000dfa0     0b49          CMPI    3,A9
         0000dfb0     fffc  
    2038 0000dfc0     c401          JRLT    PPP_GET_PLAYER_BLOCK            ;BR=PLAYER 1 OR 2
    2039 0000dfd0     1049          ADDK    2,A9
    2040 0000dfe0           PPP_GET_PLAYER_BLOCK
    2041 0000dfe0                   GBLOCK  A9,A9
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   48

    2042                    
    2043 0000e020     4d6b          MOVE    A11,A11
    2044 0000e030     ca15          JRZ     PPP_3RD_CHECK                   ;BR=END OF 2ND PERIOD
    2045                    
    2046 0000e040     b52e          MOVE    *A9(POF_PERIODS_PAID),A14,W
         0000e050     0900  
    2047 0000e060     1fce          BTST    1,A14
    2048 0000e070     cb0a          JRNZ    PPP_2ND_PAL                     ;BR=PAID
    2049                    
    2050 0000e080           PPP_2ND_WAIT
    2051 0000e080                   SLEEP   1
    2052 0000e0c0     b52e          MOVE    *A9(POF_PERIODS_PAID),A14,W
         0000e0d0     0900  
    2053 0000e0e0     1fce          BTST    1,A14
    2054 0000e0f0     caf8          JRZ     PPP_2ND_WAIT                    ;BR=NOT PAID
    2055                    
    2056 0000e100     0d3f          CALLR   PERIOD_PAID_SOUND
         0000e110     0139  
    2057 0000e120           PPP_2ND_PAL
    2058 0000e120     4d68          MOVE    A11,A8
    2059 0000e130     09e0          MOVI    PCKCRD1P,A0                     ;CHANGE IT TO ORANGE
         0000e140 0000efb0' 
    2060 0000e160     0d5f          CALLA   CHANGE_PAL
         0000e170 00000000! 
    2061                    
    2062 0000e190           PPP_3RD_CHECK
    2063 0000e190     b52b          MOVE    *A9(POF_PERIODS_PAID),A11,W
         0000e1a0     0900  
    2064 0000e1b0           PPP_3RD_WAIT
    2065 0000e1b0                   SLEEP   1
    2066 0000e1f0     b52e          MOVE    *A9(POF_PERIODS_PAID),A14,W
         0000e200     0900  
    2067 0000e210     1fae          BTST    2,A14
    2068 0000e220     caf8          JRZ     PPP_3RD_WAIT                    ;BR=NOT PAID
    2069                    
    2070 0000e230     4d48          MOVE    A10,A8
    2071 0000e240     09e0          MOVI    PCKCRD1P,A0                     ;CHANGE IT TO ORANGE
         0000e250 0000efb0' 
    2072 0000e270     0d5f          CALLA   CHANGE_PAL
         0000e280 00000000! 
    2073                    
    2074 0000e2a0     05ae          MOVE    @period,A14,W
         0000e2b0 00000000! 
    2075 0000e2d0     ca05          JRZ     PPP_FULL_GAME                   ;BR=START OF GAME
    2076                    
    2077 0000e2e0     1fab          BTST    2,A11
    2078 0000e2f0     cb49          JRNZ    PPP_DONE                        ;BR=ALREADY PAID
    2079                    
    2080 0000e300     0d3f          CALLR   PERIOD_PAID_SOUND
         0000e310     0119  
    2081                    
    2082 0000e320     c046          JRUC    PPP_DONE
    2083                    
    2084 0000e330           PPP_FULL_GAME
    2085 0000e330     09f0          MOVI    FULL_GAME_INIT,B0               ;FULL GAME PURCHASED MESSAGE
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   49

         0000e340 0000e880' 
    2086 0000e360     0d5f          CALLA   EASYMAKE
         0000e370 00000000! 
    2087                    
    2088 0000e390     09ce          MOVI    0202H,A14
         0000e3a0     0202  
    2089 0000e3b0     b1c8          MOVE    A14,*A8(OCONST),W
         0000e3c0     0290  
    2090 0000e3d0     194e          MOVK    10,A14
    2091 0000e3e0     adc8          MOVB    A14,*A8(ANIMLOOP)
         0000e3f0     0370  
    2092                    
    2093 0000e400     b5a9          MOVE    *A13(PDATA),A9,W                ;PLAYER NUMBER - 1
         0000e410     0100  
    2094 0000e420     4d2a          MOVE    A9,A10
    2095 0000e430     248a          SLL     4,A10
    2096 0000e440     0b2a          ADDI    INFOBOX_CENTER_XPOS_TABLE,A10
         0000e450 00007eb0' 
    2097 0000e470     854a          MOVE    *A10,A10,W
    2098 0000e480     09ee          MOVI    [INFOBOX_Y+104,-1],A14
         0000e490 00d7ffff  
    2099 0000e4b0     e1ca          ADDXY   A14,A10
    2100 0000e4c0     4d41          MOVE    A10,A1
    2101 0000e4d0     09e2          MOVI    TEXTZVAL-4,A2
         0000e4e0 83fffffc  
    2102 0000e500     0d5f          CALLA   SET_SCRNOBJ
         0000e510 00000000! 
    2103 0000e530     0d5f          CALLA   INSERT_OBJ
         0000e540 00000000! 
    2104                    
    2105 0000e560     09f0          MOVI    INFOBOX_PLATE_INIT,B0           ;INFOBOX PLATE
         0000e570 0000e900' 
    2106 0000e590     0d5f          CALLA   EASYMAKE
         0000e5a0 00000000! 
    2107                    
    2108 0000e5c0     09ce          MOVI    OID_SELECT_2,A14
         0000e5d0     0491  
    2109 0000e5e0     b1c8          MOVE    A14,*A8(OID),W
         0000e5f0     0430  
    2110                    
    2111 0000e600     09ce          MOVI    52 << 8 + 52,A14
         0000e610     3434  
    2112                    ;       CLR     A14
    2113 0000e620     b1c8          MOVE    A14,*A8(OCONST),W
         0000e630     0290  
    2114 0000e640     194e          MOVK    10,A14
    2115 0000e650     adc8          MOVB    A14,*A8(ANIMLOOP)
         0000e660     0370  
    2116                    
    2117 0000e670     4d41          MOVE    A10,A1
    2118 0000e680     09e2          MOVI    TEXTZVAL-3,A2
         0000e690 83fffffd  
    2119 0000e6b0     0d5f          CALLA   SET_SCRNOBJ
         0000e6c0 00000000! 
    2120 0000e6e0     0d5f          CALLA   INSERT_OBJ
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   50

         0000e6f0 00000000! 
    2121 0000e710     09e1          MOVI    FULL_GAME_FLASH_ANIM,A1
         0000e720 0000e950' 
    2122 0000e740     0d5f          CALLA   STRT_ANIM
         0000e750 00000000! 
    2123                    
    2124                    ;       MOVI    GRNFRMP,A0
    2125                    ;
    2126                    ;;      MOVI    BLUFRMP,A0
    2127                    ;;      CMPI    3-1,A9
    2128                    ;;      JRLT    PPP_CHANGE                      ;BR=LEFT TEAM PALETTE
    2129                    ;       MOVI    REDFRMP,A0                      ;RIGHT TEAM PALETTE
    2130                    ;;PPP_CHANGE
    2131                    ;       CALLA   CHANGE_PAL
    2132                    
    2133 0000e770     0d3f          CALLR   FULL_GAME_SOUND
         0000e780     00da  
    2134                    
    2135 0000e790           PPP_DONE
    2136 0000e790                   DIE
    2137                    
    2138 0000e7c0           JOININ_INIT
    2139 0000e7c0 000042f0"         .long   JOININ
    2140 0000e7e0     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    2141 0000e800     0100          .word   OM_OID
    2142 0000e810     0491          .word   OID_SELECT_2
    2143                    
    2144 0000e820           PAID_PUCK_INIT
    2145 0000e820 00002760"         .long   PUCKCRD1
    2146 0000e840     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    2147 0000e860     0100          .word   OM_OID
    2148 0000e870     0491          .word   OID_SELECT_2
    2149                    
    2150 0000e880           FULL_GAME_INIT
    2151 0000e880 000041d0"         .long   FULLGAME10
    2152 0000e8a0     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    2153 0000e8c0     0104          .word   OM_OID|OM_ANIM
    2154 0000e8d0     0491          .word   OID_SELECT_2
    2155 0000e8e0 0000e950'         .long   FULL_GAME_FLASH_ANIM
    2156                    
    2157 0000e900           INFOBOX_PLATE_INIT
    2158 0000e900 00004260"         .long   FULLBOX
    2159 0000e920     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    2160 0000e940     0000          .word   0
    2161                    
    2162 0000e950           FULL_GAME_FLASH_ANIM
    2163 0000e950                   LWL     1,AFUNC|3,OBJ_ON
    2164 0000e9a0                   LWLLLL  1,AFUNC|3,A_2FUNCS+6,OBJ_CONST,A_Anim_DSJ,FULL_GAME_FLASH_ANIM
    2165 0000ea50                   LWL     1,AFUNC|30,OBJ_ON
    2166 0000eaa0                   LWL     1,AFUNC|1,DELETE_OBJ
    2167                    
    2168 0000eaf0           JOININ_PAL_TABLE
    2169 0000eaf0 0000eb70'         .LONG   JOINPI,JOINBL,JOINYE,JOINGR
    2170                    
    2171 0000eb70           JOINPI:
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   51

    2172 0000eb70     0010     .word   16
    2173 0000eb80     0000     .word   00000h,00000h,038aeh,040b0h,04cb3h,05896h,06479h,0703ch
    2174 0000ec00     7c1f     .word   07c1fh,0743dh,06c5bh,06499h,058b6h,050b4h,048d2h,040d0h
    2175 0000ec80           JOINBL:
    2176 0000ec80     0010     .word   16
    2177 0000ec90     0000     .word   00000h,00000h,02115h,02118h,0295ah,0319dh,039dfh,0463fh
    2178 0000ed10     4e7f     .word   04e7fh,0463fh,03dffh,035bfh,02d7dh,0253bh,02118h,02118h
    2179 0000ed90           JOINYE:
    2180 0000ed90     0010     .word   16
    2181 0000eda0     0000     .word   00000h,00000h,039c0h,04200h,04e60h,05ac0h,06720h,07380h
    2182 0000ee20     7fe0     .word   07fe0h,077a0h,06b40h,06300h,056a0h,04e60h,04200h,039c0h
    2183 0000eea0           JOINGR:
    2184 0000eea0     0010     .word   16
    2185 0000eeb0     0000     .word   00000h,00000h,01184h,015e5h,01e47h,022c8h,02729h,02f8bh
    2186 0000ef30     33ec     .word   033ech,02f8bh,02b4ah,026e9h,01e87h,01a26h,015e5h,01184h
    2187                    
    2188 0000efb0           PCKCRD1P:
    2189 0000efb0     004f     .word   79
    2190 0000efc0     7c1f     .word   07c1fh,02529h,014a5h,01084h,00c63h,00842h,00421h,00000h
    2191 0000f040     7147     .word   07147h,06d26h,06d25h,06905h,064e5h,06505h,06526h,06105h
    2192 0000f0c0     60e4     .word   060e4h,060c4h,06126h,060e5h,058a3h,058c5h,058e4h,05507h
    2193 0000f140     54c4     .word   054c4h,05082h,050c4h,050a4h,04cc4h,04ce6h,048c3h,044c5h
    2194 0000f1c0     3ca4     .word   03ca4h,038a4h,03862h,038c6h,03462h,030a4h,030a5h,02c84h
    2195 0000f240     2c83     .word   02c83h,02ca4h,01c63h,01484h,01041h,01042h,01063h,00c42h
    2196 0000f2c0     0c41     .word   00c41h,00821h,01d90h,0114fh,00d4fh,00d4eh,0112dh,0114dh
    2197 0000f340     0d0c     .word   00d0ch,00d0bh,008ebh,00ceah,00ce9h,008c9h,004c9h,00cc9h
    2198 0000f3c0     08a8     .word   008a8h,008c8h,004a8h,00886h,00c86h,00885h,00865h,00c85h
    2199 0000f440     0c64     .word   00c64h,00464h,00841h,00420h,00c84h,00863h,00442h
    2200                    
    2201 0000f4b0           PERIOD_PAID_SOUND
    2202 0000f4b0                   PUSH    A4
    2203 0000f4c0     09c4          MOVI    S_PERIOD_PAID,A4
         0000f4d0     010d  
    2204 0000f4e0     0d5f          CALLA   do_sound
         0000f4f0 00000000! 
    2205 0000f510                   PULLQ   A4
    2206 0000f520     0960          RETS
    2207                    
    2208 0000f530           FULL_GAME_SOUND
    2209 0000f530                   PUSH    A4
    2210 0000f540     09c4          MOVI    S_FULL_GAME,A4
         0000f550     010e  
    2211 0000f560     0d5f          CALLA   do_sound
         0000f570 00000000! 
    2212 0000f590                   PULLQ   A4
    2213 0000f5a0     0960          RETS
    2214                    
    2215                    **************************************************************************
    2216                    *                                                                        *
    2217                    * SELECT_TEAM_MESS_PROC - FLASH MESSAGE AT TOP OF TEAM SELECT SCREEN     *
    2218                    *                                                                        *
    2219                    * PASS:                                                                  *
    2220                    * NUTIN'                                                                 *
    2221                    *                                                                        *
    2222                    **************************************************************************
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   52

    2223                    
    2224 0000f5b0           SELECT_TEAM_MESS_PROC
    2225 0000f5b0     07b9          MOVE    @TEAM_SELECT_STARTIRQ,B9,L
         0000f5c0 00000240- 
    2226 0000f5e0     07ba          MOVE    @WAVEIRQS,B10,L
         0000f5f0 00000000! 
    2227 0000f610     453a          SUB     B9,B10
    2228 0000f620     0bfa          SUBI    TEAM_SELECT_PRETIMEOUT,B10
         0000f630     ffeb  
    2229 0000f640     cf05          JRNN    STMP_GO
    2230 0000f650                   SLEEP   1
    2231 0000f690     c0f1          JRUC    SELECT_TEAM_MESS_PROC
    2232                    
    2233 0000f6a0           STMP_GO
    2234                    ;       MOVI    [0,1],A10                       ;[Y,X] SPACING
    2235 0000f6a0     09eb          MOVI    H18TFONT,A11                    ;FONT
         0000f6b0 00000000! 
    2236 0000f6d0           STMP_LUPE
    2237 0000f6d0     09c0          MOVI    OID_TEXT,A0
         0000f6e0     0480  
    2238 0000f6f0     0d5f          CALLA   KILOBJ_ALL
         0000f700 00000000! 
    2239                    
    2240 0000f720     09d1          MOVI    OID_TEXT,B1                     ;[SOUND,OID]
         0000f730     0480  
    2241 0000f740     5600          CLR     A0                              ;NO SLEEP TIL
    2242 0000f750     09e1          MOVI    STRCNCONV,A1                    ;ROUTINE
         0000f760 00000000! 
    2243 0000f780     09c5          MOVI    HFPAL,A5                        ;[COLOR,PALETTE]
         0000f790     0202  
    2244                    
    2245 0000f7a0     09e8          MOVI    PRESS_SHOOT_STR,A8              ;POINTER TO STRING
         0000f7b0 0000fd60' 
    2246 0000f7d0     09e9          MOVI    [1,200],A9                      ;[Y,X] SCREEN ADDRESS
         0000f7e0 000100c8  
    2247 0000f800     09ca          MOVI    [0,1],A10                       ;[Y,X] SPACING
         0000f810     0001  
    2248 0000f820                   JSRP    PRINTF
    2249                    
    2250 0000f890                   SLEEP   60
    2251                    
    2252 0000f8e0     09c0          MOVI    OID_TEXT,A0
         0000f8f0     0480  
    2253 0000f900     0d5f          CALLA   KILOBJ_ALL
         0000f910 00000000! 
    2254                    
    2255 0000f930     09d1          MOVI    OID_TEXT,B1                     ;[SOUND,OID]
         0000f940     0480  
    2256 0000f950     5600          CLR     A0                              ;NO SLEEP TIL
    2257 0000f960     09e1          MOVI    STRCNCONV,A1                    ;ROUTINE
         0000f970 00000000! 
    2258 0000f990     09c5          MOVI    HFPAL,A5                        ;[COLOR,PALETTE]
         0000f9a0     0202  
    2259                    
    2260 0000f9b0     09e8          MOVI    PRESS_TURBO_STR,A8              ;POINTER TO STRING
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   53

         0000f9c0 0000fe70' 
    2261 0000f9e0     09e9          MOVI    [1,200],A9                      ;[Y,X] SCREEN ADDRESS
         0000f9f0 000100c8  
    2262 0000fa10     09ca          MOVI    [0,1],A10                       ;[Y,X] SPACING
         0000fa20     0001  
    2263 0000fa30                   JSRP    PRINTF
    2264                    
    2265 0000faa0                   SLEEP   60
    2266                    
    2267 0000faf0     07ee          MOVB    @TEAM_SELECTED_BITS,A14
         0000fb00 00000018- 
    2268 0000fb20     cbba          JRNZ    STMP_LUPE                       ;BR=NO SWAPPING ALLOWED
    2269                    
    2270 0000fb30     09c0          MOVI    OID_TEXT,A0
         0000fb40     0480  
    2271 0000fb50     0d5f          CALLA   KILOBJ_ALL
         0000fb60 00000000! 
    2272                    
    2273 0000fb80     09d1          MOVI    OID_TEXT,B1                     ;[SOUND,OID]
         0000fb90     0480  
    2274 0000fba0     5600          CLR     A0                              ;NO SLEEP TIL
    2275 0000fbb0     09e1          MOVI    STRCNCONV,A1                    ;ROUTINE
         0000fbc0 00000000! 
    2276 0000fbe0     09c5          MOVI    HFPAL,A5                        ;[COLOR,PALETTE]
         0000fbf0     0202  
    2277                    
    2278 0000fc00     09e8          MOVI    PRESS_PASS_STR,A8               ;POINTER TO STRING
         0000fc10 0000ffa0' 
    2279 0000fc30     09e9          MOVI    [1,200],A9                      ;[Y,X] SCREEN ADDRESS
         0000fc40 000100c8  
    2280 0000fc60     09ea          MOVI    [0,-2],A10                      ;[Y,X] SPACING
         0000fc70 0000fffe  
    2281 0000fc90                   JSRP    PRINTF
    2282                    
    2283 0000fd00                   SLEEP   60
    2284                    
    2285 0000fd50     c097          JRUC    STMP_LUPE
    2286                    
    2287 0000fd60           PRESS_SHOOT_STR
    2288 0000fd60       50          .STRING "PRESS \pSHOOT\p TO SELECT",0
    2289 0000fe30 00000000!         .LONG   REDTXT3P
    2290 0000fe50 00000000!         .LONG   FONTGRYP
    2291 0000fe70                   .EVEN
    2292                    
    2293 0000fe70           PRESS_TURBO_STR
    2294 0000fe70       5c          .STRING "\pPRESS \pTURBO\p TO SWAP",0
    2295 0000ff40 00000000!         .LONG   ORGTXT1P
    2296 0000ff60 00000000!         .LONG   FONTGRYP
    2297 0000ff80 00000000!         .LONG   ORGTXT1P
    2298 0000ffa0                   .EVEN
    2299                    
    2300 0000ffa0           PRESS_PASS_STR
    2301 0000ffa0       50          .STRING "PRESS \pPASS\p TO CHANGE HOME/AWAY",0
    2302 000100c0 00000000!         .LONG   BLUTXT3P
    2303 000100e0 00000000!         .LONG   FONTGRYP
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   54

    2304 00010100                   .EVEN
    2305                    
    2306                    ;PRESS_PASS_STR
    2307                    ;       .STRING "PRESS \pUP-PASS\p TO RANDOM SELECT",0
    2308                    ;       .LONG   REDTXT3P
    2309                    ;       .LONG   FONTGRYP
    2310                    ;       .EVEN
    2311                    
    2312                    **************************************************************************
    2313                    *                                                                        *
    2314                    * INITIAL_SELECT_PROC - SELECT INITIALS AND BIRTHDAY                     *
    2315                    *                                                                        *
    2316                    * PASS:                                                                  *
    2317                    * A9 = PLAYER NUMBER - 1                                                 *
    2318                    *                                                                        *
    2319                    **************************************************************************
    2320                    
    2321              0016  ALPHA_X_SPACING EQU     22 ;23
    2322              0018  ALPHA_Y_SPACING EQU     24 ;20
    2323                    
    2324              002c  MONTH_X_SPACING EQU     44 ;50
    2325              001c  MONTH_Y_SPACING EQU     28 ;24
    2326                    
    2327              0016  DAY_X_SPACING   EQU     22 ;23
    2328              0015  DAY_Y_SPACING   EQU     21 ;20
    2329                    
    2330              0100  PINITIAL_STRING EQU     PDATA                   ;UHL PLAYER'S INITIAL STRING
    2331              0120  PDISPLAY_STRING EQU     PDATA+020H              ;UHL PLAYER'S DISPLAY STRING
    2332              0140  PINITIAL_POS    EQU     PDATA+040H              ;UHW PLAYER'S INITIAL POSITION
    2333              0150  PMONTH          EQU     PDATA+050H              ;UHW PLAYER'S MONTH
    2334              0160  PDAY            EQU     PDATA+060H              ;UHW PLAYER'S DAY
    2335              0170  PPNUM           EQU     PDATA+070H              ;UHW PLAYER NUMBER - 1
    2336              0180  PHEADER_OBJ     EQU     PDATA+080H              ;UHL SELECT HEADER OBJECT
    2337                    
    2338              000a  DEFEATS_YPOS    EQU     10
    2339                    
    2340 00010100           INITIAL_SELECT_PROC
    2341 00010100     b12d          MOVE    A9,*A13(PPNUM),W                        ;SAVE PLAYER NUMBER - 1
         00010110     0170  
    2342                    
    2343                    ;       SLEEP   1                                       ;CLEANUP TIME
    2344                    ;
    2345                    ;       .if     0
    2346                    ;       MOVE    A9,A0
    2347                    ;       SLL     3,A0
    2348                    ;       NEG     A0                                      ;2s COMPLEMENT BULLSHIT!
    2349                    ;       MOVE    @SWITCH,A14,L
    2350                    ;       NOT     A14
    2351                    ;       SRL     A0,A14                                  ;MOVE PLAYER TO LOW BYTE
    2352                    ;       ANDI    M_SW_T|M_SW_P|M_SW_S|M_SW_R|M_SW_L|M_SW_D|M_SW_U,A14 ;MASK
    2353                    ;       XORI    M_SW_P|M_SW_S|M_SW_L|M_SW_U,A14         ;MASK
    2354                    ;       JRNZ    ISP_GO                                  ;BR=NOPE
    2355                    ;
    2356                    ;       CALLR   a9_to_a0
    2357                    ;       MOVK    3,A14
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   55

    2358                    ;       MOVB    A14,*A0(POF_INITIAL1)
    2359                    ;       MOVK    14,A14
    2360                    ;       MOVB    A14,*A0(POF_INITIAL2)
    2361                    ;       MOVK    25,A14
    2362                    ;       MOVB    A14,*A0(POF_INITIAL3)
    2363                    ;       MOVK    12,A14
    2364                    ;       MOVB    A14,*A0(POF_BMONTH)
    2365                    ;       MOVK    31,A14
    2366                    ;       MOVB    A14,*A0(POF_BDAY)
    2367                    ;       CALLA   cx_player_in
    2368                    ;       MOVE    A0,A6
    2369                    ;       JRUC    ISP_CHECK_RECORD
    2370                    ;       .endif
    2371                    ;ISP_GO
    2372                    ;       MOVI    SELECT_HEADER_INIT,B0
    2373                    ;       CALLA   EASYMAKE
    2374                    ;       MOVE    A8,*A13(PHEADER_OBJ),L
    2375                    ;       MOVE    A9,A1
    2376                    ;       SLL     4,A1
    2377                    ;       ADDI    HEADER_XPOS_TABLE,A1
    2378                    ;       MOVE    *A1,A1,W
    2379                    ;       ZEXT    A1,W
    2380                    ;       ADDI    [2,0],A1
    2381                    ;       MOVK    2,A2
    2382                    ;       CALLA   SET_SCRNOBJ
    2383                    ;       CALLA   INSERT_OBJ
    2384                    
    2385 00010120     09f0          MOVI    INITIALS_HEADER_INIT,B0
         00010130 00014b50' 
    2386 00010150     0d5f          CALLA   EASYMAKE
         00010160 00000000! 
    2387 00010180     b30d          MOVE    A8,*A13(PHEADER_OBJ),L
         00010190     0180  
    2388 000101a0     4d21          MOVE    A9,A1
    2389 000101b0     2481          SLL     4,A1
    2390 000101c0     0b21          ADDI    INITIAL_MESS_CENTER_XPOS_TABLE,A1
         000101d0 00008840' 
    2391 000101f0     8421          MOVE    *A1,A1,W
    2392 00010200     0521          ZEXT    A1,W
    2393 00010210     0b21          ADDI    [8,0],A1
         00010220 00080000  
    2394 00010240     1822          MOVK    1,A2
    2395 00010250     0d5f          CALLA   SET_SCRNOBJ
         00010260 00000000! 
    2396 00010280     0d5f          CALLA   INSERT_OBJ
         00010290 00000000! 
    2397                    
    2398 000102b0     4d20          MOVE    A9,A0
    2399 000102c0     24a0          SLL     5,A0
    2400 000102d0     0b20          ADDI    PLAYER_PAL_TABLE,A0
         000102e0 00007290' 
    2401 00010300     8600          MOVE    *A0,A0,L
    2402 00010310     0d5f          CALLA   CHANGE_PAL
         00010320 00000000! 
    2403                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   56

    2404 00010340     57ce          CLR     A14
    2405 00010350     b3cd          MOVE    A14,*A13(PINITIAL_STRING),L             ;RESET STRING
         00010360     0100  
    2406 00010370     b3cd          MOVE    A14,*A13(PDISPLAY_STRING),L             ;RESET STRING
         00010380     0120  
    2407 00010390     b1cd          MOVE    A14,*A13(PINITIAL_POS),W                ;RESET POSITION
         000103a0     0140  
    2408                    
    2409                    ;       MOVE    A9,A0
    2410                    ;       SLL     4,A0
    2411                    ;       ADDI    PLAYER_OID_TABLE,A0
    2412                    ;       MOVE    *A0,A0,W
    2413                    ;       CALLA   KILOBJ_ALL
    2414                    
    2415 000103b0     09f0          MOVI    ALPHABET_INIT,B0
         000103c0 00016e20' 
    2416 000103e0     0d5f          CALLA   EASYMAKE
         000103f0 00000000! 
    2417                    
    2418 00010410     4d2e          MOVE    A9,A14
    2419 00010420     248e          SLL     4,A14
    2420 00010430     0b2e          ADDI    PLAYER_OID_TABLE,A14
         00010440 00017130' 
    2421 00010460     85c0          MOVE    *A14,A0,W
    2422 00010470     b008          MOVE    A0,*A8(OID),W
         00010480     0430  
    2423                    
    2424 00010490     4d21          MOVE    A9,A1
    2425 000104a0     2481          SLL     4,A1
    2426 000104b0     0b21          ADDI    A_XPOS_TABLE,A1
         000104c0 00017070' 
    2427 000104e0     8421          MOVE    *A1,A1,W
    2428 000104f0     0521          ZEXT    A1,W
    2429 00010500     0b21          ADDI    [21,0],A1
         00010510 00150000  
    2430 00010530     09e2          MOVI    TEXTZVAL,A2
         00010540 84000000  
    2431 00010560     0d5f          CALLA   SET_SCRNOBJ
         00010570 00000000! 
    2432 00010590     0d5f          CALLA   INSERT_OBJ
         000105a0 00000000! 
    2433                    
    2434 000105c0     4c2a          MOVE    A1,A10                          ;[Y, X] OFFSET
    2435                    
    2436 000105d0                   PUSHP   A0                              ;SAVE OID
    2437 000105e0     1b81          MOVK    28,A1                           ;ARRAY DIMENSION
    2438 000105f0     1882          MOVK    4,A2                            ;ROW SIZE
    2439 00010600     5663          CLR     A3                              ;START ON FIRST ENTRY
    2440 00010610     09eb          MOVI    ALPHA_ARRAY,A11
         00010620 00023290' 
    2441 00010640     09f0          MOVI    ALPHA_TABLE,B0
         00010650 000171f0' 
    2442 00010670                   JSRP    PICK_ENTRY
    2443                    
    2444 000106e0     05ae          MOVE    @TIMES_UP,A14,W
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   57

         000106f0 00000220- 
    2445 00010710     ca12          JRZ     ISP_ALPHA_LAST_NAP              ;BR=STILL GOT TIME
    2446 00010720           ISP_TIMES_UP
    2447 00010720                   PULLPQ  A0
    2448 00010730     0d5f          CALLA   KILOBJ_ALL                      ;DELETE ALPHABET AND CURSOR
         00010740 00000000! 
    2449 00010760     4e30          MOVE    B1,A0
    2450 00010770     0d5f          CALLA   KILOBJ_ALL                      ;DELETE OID2 OBJECTS
         00010780 00000000! 
    2451 000107a0     b7a0          MOVE    *A13(PHEADER_OBJ),A0,L
         000107b0     0180  
    2452 000107c0     0d5f          CALLA   DELOBJ
         000107d0 00000000! 
    2453 000107f0     0d3f          callr   a9_to_a0
         00010800     052a  
    2454 00010810     4c06          MOVE    A0,A6
    2455 00010820     c000          JRUC    ISP_CHECK_RECORD
         00010830     010e  
    2456                    
    2457 00010840           ISP_ALPHA_LAST_NAP
    2458 00010840                   SLEEP   SELECT_FLASH_ONTIME*SELECT_FLASHES*2
    2459 00010880                   SLEEP   15+1
    2460                    
    2461 000108c0                   PULLPQ  A0
    2462 000108d0     0d5f          CALLA   KILOBJ_ALL                      ;DELETE ALPHABET AND CURSOR
         000108e0 00000000! 
    2463                    
    2464                    ;       *A13(PINITIAL_STRING),W HOLDS THE INITIALS
    2465                    
    2466 00010900     b7a8          MOVE    *A13(PHEADER_OBJ),A8,L
         00010910     0180  
    2467 00010920     09e1          MOVI    MONTH11,A1
         00010930 000045c0" 
    2468 00010950     09e4          MOVI    DMAWNZ,A4
         00010960 00008002  
    2469 00010980     0d5f          CALLA   ANI
         00010990 00000000! 
    2470                    
    2471 000109b0     09f0          MOVI    MONTHS_INIT,B0
         000109c0 00016e70' 
    2472 000109e0     0d5f          CALLA   EASYMAKE
         000109f0 00000000! 
    2473                    
    2474 00010a10     4d2e          MOVE    A9,A14
    2475 00010a20     248e          SLL     4,A14
    2476 00010a30     0b2e          ADDI    PLAYER_OID_TABLE,A14
         00010a40 00017130' 
    2477 00010a60     85c0          MOVE    *A14,A0,W
    2478 00010a70     b008          MOVE    A0,*A8(OID),W
         00010a80     0430  
    2479                    
    2480 00010a90     4d21          MOVE    A9,A1
    2481 00010aa0     2481          SLL     4,A1
    2482 00010ab0     0b21          ADDI    JAN_XPOS_TABLE,A1
         00010ac0 000170b0' 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   58

    2483 00010ae0     8421          MOVE    *A1,A1,W
    2484 00010af0     0521          ZEXT    A1,W
    2485 00010b00     0b21          ADDI    [21,0],A1
         00010b10 00150000  
    2486 00010b30     09e2          MOVI    TEXTZVAL,A2
         00010b40 84000000  
    2487 00010b60     0d5f          CALLA   SET_SCRNOBJ
         00010b70 00000000! 
    2488 00010b90     0d5f          CALLA   INSERT_OBJ
         00010ba0 00000000! 
    2489                    
    2490 00010bc0     4c2a          MOVE    A1,A10                          ;[Y, X] OFFSET
    2491                    
    2492 00010bd0                   PUSHP   A0
    2493 00010be0     1981          MOVK    12,A1                           ;ARRAY DIMENSION
    2494 00010bf0     1842          MOVK    2,A2                            ;ROW SIZE
    2495 00010c00     5663          CLR     A3                              ;START ON FIRST ENTRY
    2496 00010c10     09eb          MOVI    MONTH_ARRAY,A11
         00010c20 00023990' 
    2497 00010c40     09f0          MOVI    MONTH_TABLE,B0
         00010c50 00017570' 
    2498 00010c70                   JSRP    PICK_ENTRY
    2499                    
    2500 00010ce0     05ae          MOVE    @TIMES_UP,A14,W
         00010cf0 00000220- 
    2501 00010d10     cba0          JRNZ    ISP_TIMES_UP                    ;BR=TIME'S UP DUMMY!
    2502                    
    2503 00010d20     b02d          MOVE    A1,*A13(PMONTH),W
         00010d30     0150  
    2504 00010d40     4c2a          MOVE    A1,A10
    2505 00010d50                   SLEEP   SELECT_FLASH_ONTIME*SELECT_FLASHES*2
    2506 00010d90                   SLEEP   15+1
    2507 00010dd0                   PULLPQ  A0
    2508                    
    2509 00010de0     0d5f          CALLA   KILOBJ_ALL                      ;DELETE MONTHS AND CURSOR
         00010df0 00000000! 
    2510                    
    2511 00010e10     248a          SLL     4,A10
    2512 00010e20     0b2a          ADDI    MONTH_SIZE_TABLE,A10
         00010e30 00016fb0' 
    2513 00010e50     854a          MOVE    *A10,A10,W                      ;DAY ARRAY DIMENSION
    2514                    
    2515 00010e60     b7a8          MOVE    *A13(PHEADER_OBJ),A8,L
         00010e70     0180  
    2516 00010e80     09e1          MOVI    DAY11,A1
         00010e90 00004650" 
    2517 00010eb0     09e4          MOVI    DMAWNZ,A4
         00010ec0 00008002  
    2518 00010ee0     0d5f          CALLA   ANI
         00010ef0 00000000! 
    2519                    
    2520 00010f10     09f0          MOVI    DAYS_INIT,B0
         00010f20 00016ec0' 
    2521 00010f40     0d5f          CALLA   EASYMAKE
         00010f50 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   59

    2522                    
    2523 00010f70     4d2e          MOVE    A9,A14
    2524 00010f80     248e          SLL     4,A14
    2525 00010f90     0b2e          ADDI    PLAYER_OID_TABLE,A14
         00010fa0 00017130' 
    2526 00010fc0     85c0          MOVE    *A14,A0,W
    2527 00010fd0     b008          MOVE    A0,*A8(OID),W
         00010fe0     0430  
    2528                    
    2529 00010ff0     4d21          MOVE    A9,A1
    2530 00011000     2481          SLL     4,A1
    2531 00011010     0b21          ADDI    DAY1_XPOS_TABLE,A1
         00011020 000170f0' 
    2532 00011040     8421          MOVE    *A1,A1,W
    2533 00011050     0521          ZEXT    A1,W
    2534 00011060     0b21          ADDI    [21,0],A1
         00011070 00150000  
    2535 00011090     09e2          MOVI    TEXTZVAL,A2
         000110a0 84000000  
    2536 000110c0     0d5f          CALLA   SET_SCRNOBJ
         000110d0 00000000! 
    2537 000110f0     0d5f          CALLA   INSERT_OBJ
         00011100 00000000! 
    2538                    
    2539 00011120     0b4a          CMPI    30,A10
         00011130     ffe1  
    2540 00011140     c427          JRLT    ISP_PICK_DAY                    ;BR=MUST BE FEBRUARY
    2541                    
    2542 00011150     098f          MMTM    SP,A0,A1,A2
         00011160     e000  
    2543 00011170     09f0          MOVI    DAY30_INIT,B0
         00011180 00016f10' 
    2544 000111a0     0d5f          CALLA   EASYMAKE
         000111b0 00000000! 
    2545 000111d0     09af          MMFM    SP,A0,A1,A2
         000111e0     0007  
    2546                    
    2547 000111f0     b008          MOVE    A0,*A8(OID),W
         00011200     0430  
    2548 00011210     0d5f          CALLA   SET_SCRNOBJ
         00011220 00000000! 
    2549 00011240     0d5f          CALLA   INSERT_OBJ
         00011250 00000000! 
    2550                    
    2551 00011270     0b4a          CMPI    31,A10
         00011280     ffe0  
    2552 00011290     c412          JRLT    ISP_PICK_DAY                    ;BR=30 DAY MONTH
    2553                    
    2554 000112a0     098f          MMTM    SP,A0,A1,A2
         000112b0     e000  
    2555 000112c0     09f0          MOVI    DAY31_INIT,B0
         000112d0 00016f60' 
    2556 000112f0     0d5f          CALLA   EASYMAKE
         00011300 00000000! 
    2557 00011320     09af          MMFM    SP,A0,A1,A2
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   60

         00011330     0007  
    2558                    
    2559 00011340     b008          MOVE    A0,*A8(OID),W
         00011350     0430  
    2560 00011360     0d5f          CALLA   SET_SCRNOBJ
         00011370 00000000! 
    2561 00011390     0d5f          CALLA   INSERT_OBJ
         000113a0 00000000! 
    2562                    
    2563 000113c0           ISP_PICK_DAY
    2564 000113c0                   SWAP    A1,A10                          ;SWAP [Y,X] OFFSET AND DIMENSION
    2565                    
    2566 000113f0                   PUSHP   A0
    2567 00011400     1882          MOVK    4,A2                            ;ROW SIZE
    2568 00011410     5663          CLR     A3                              ;START ON FIRST ENTRY
    2569 00011420     09eb          MOVI    DAY_ARRAY,A11
         00011430 00023c90' 
    2570 00011450     09f0          MOVI    DAY_TABLE,B0
         00011460 000176f0' 
    2571 00011480                   JSRP    PICK_ENTRY
    2572                    
    2573 000114f0     05ae          MOVE    @TIMES_UP,A14,W
         00011500 00000220- 
    2574 00011520     cb00          JRNZ    ISP_TIMES_UP                    ;BR=TIME'S UP DUMMY!
         00011530     ff1e  
    2575                    
    2576 00011540     b02d          MOVE    A1,*A13(PDAY),W
         00011550     0160  
    2577 00011560     0d3f          callr   a9_to_a0
         00011570     0453  
    2578 00011580     1021          inc     a1
    2579 00011590     ac20          movb    a1,*a0(POF_BDAY)
         000115a0     00d0  
    2580                    
    2581 000115b0     b5a1          MOVE    *A13(PMONTH),A1,W
         000115c0     0150  
    2582 000115d0     0d3f          callr   a9_to_a0
         000115e0     044c  
    2583 000115f0     1021          inc     a1
    2584 00011600     ac20          movb    a1,*a0(POF_BMONTH)
         00011610     00c8  
    2585                    
    2586 00011620     0d3f          callr   a9_to_a0
         00011630     0447  
    2587 00011640     afae          movb    *a13(PINITIAL_STRING),a14
         00011650     0100  
    2588 00011660     0d3f          callr   cc_az
         00011670     0420  
    2589 00011680     adc0          movb    a14,*a0(POF_INITIAL1)
         00011690     00b0  
    2590                    
    2591 000116a0     afae          movb    *a13(PINITIAL_STRING+8),a14
         000116b0     0108  
    2592 000116c0     0d3f          callr   cc_az
         000116d0     041a  
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   61

    2593 000116e0     adc0          movb    a14,*a0(POF_INITIAL2)
         000116f0     00b8  
    2594                    
    2595 00011700     afae          movb    *a13(PINITIAL_STRING+16),a14
         00011710     0110  
    2596 00011720     0d3f          callr   cc_az
         00011730     0414  
    2597 00011740     adc0          movb    a14,*a0(POF_INITIAL3)
         00011750     00c0  
    2598                    
    2599 00011760     4c0a          MOVE    A0,A10
    2600                    
    2601 00011770                   SLEEP   SELECT_FLASH_ONTIME*SELECT_FLASHES*2
    2602 000117b0                   SLEEP   15+1
    2603                    
    2604 000117f0     4d40          MOVE    A10,A0
    2605 00011800     0d5f          calla   cx_player_in
         00011810 00000000! 
    2606                    
    2607 00011830     09c0          MOVI    AUD_INITIALS_ENTERED,A0
         00011840     0018  
    2608 00011850     0d5f          CALLA   AUD1
         00011860 00000000! 
    2609                    
    2610 00011880                   PULLPQ  A0
    2611                    
    2612 00011890     0d5f          CALLA   KILOBJ_ALL                      ;DELETE DAYS AND CURSOR
         000118a0 00000000! 
    2613                    
    2614 000118c0     b7a0          MOVE    *A13(PHEADER_OBJ),A0,L
         000118d0     0180  
    2615 000118e0     0d5f          CALLA   DELOBJ
         000118f0 00000000! 
    2616                    
    2617 00011910     4d46          MOVE    A10,A6
    2618 00011920           ISP_CHECK_RECORD
    2619 00011920     b5a9          MOVE    *A13(PPNUM),A9,W                ;PLAYER NUMBER - 1
         00011930     0170  
    2620 00011940     1821          MOVK    1,A1                            ;FLAG PLAYER DONE
    2621 00011950     6321          SLL     A9,A1
    2622 00011960     07e0          MOVB    @PLAYER_INITIAL_BITS,A0
         00011970 00000000- 
    2623 00011990     5420          OR      A1,A0
    2624 000119a0     05e0          MOVB    A0,@PLAYER_INITIAL_BITS
         000119b0 00000000- 
    2625                    
    2626 000119d0     b4ce          MOVE    *A6(POF_LOCKED_CHAR),A14,W
         000119e0     0c40  
    2627 000119f0     ca13          JRZ     ISP_CHECK_EXIST                 ;BR=NO SPECIAL CHARACTER
    2628                    
    2629 00011a00     0b4e          CMPI    s_gordie_howe,A14
         00011a10     ff4a  
    2630 00011a20     cb04          JRNE    ISP_CHIME
    2631 00011a30     0d5f          CALLA   spx_gordie_picked
         00011a40 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   62

    2632 00011a60     c005          JRUC    ISP_LOCK
    2633                    
    2634 00011a70           ISP_CHIME
    2635                    ;       MOVI    S_POWERUP_REPORT,A4
    2636 00011a70     09c4          MOVI    S_SPECIAL_CHAR,A4
         00011a80     012e  
    2637 00011a90     0d5f          CALLA   do_sound
         00011aa0 00000000! 
    2638 00011ac0           ISP_LOCK
    2639 00011ac0     07e0          MOVB    @LOCKED_CHAR_BITS,A0
         00011ad0 00000238- 
    2640 00011af0     5420          OR      A1,A0
    2641 00011b00     05e0          MOVB    A0,@LOCKED_CHAR_BITS
         00011b10 00000238- 
    2642                    
    2643                    ;mdp yescmosrecord
    2644                    ;       MOVI    SPECIAL_CHAR_STRING,A8
    2645                    ;       JRUC    ISP_CMOS_MESS
    2646                    ;mdp yescmosrecord
    2647                            
    2648 00011b30           ISP_CHECK_EXIST
    2649 00011b30     b4ce          MOVE    *A6(POF_CMOS),A14,W
         00011b40     0060  
    2650 00011b50     cf2f          JRNN    ISP_SHOW_RECORD                 ;BR=WE HAVE A RECORD
    2651                    
    2652                    ;ISP_NO_RECORD
    2653                    ;       MOVE    *A13(PPNUM),A9,W                ;PLAYER NUMBER - 1
    2654                    ;       MOVK    1,A14                           ;FLAG PLAYER DONE
    2655                    ;       SLL     A9,A14
    2656                    ;       MOVB    @PLAYER_INITIAL_BITS,A0
    2657                    ;       OR      A14,A0
    2658                    ;       MOVB    A0,@PLAYER_INITIAL_BITS
    2659                    
    2660 00011b60     09e8          MOVI    NO_RECORD_STRING,A8             ;POINTER TO STRING
         00011b70 00015db0' 
    2661 00011b90           ISP_CMOS_MESS
    2662 00011b90     4f21          MOVE    A9,B1
    2663 00011ba0     2491          SLL     4,B1
    2664 00011bb0     0b31          ADDI    PLAYER_OID_TABLE,B1
         00011bc0 00017130' 
    2665 00011be0     8431          MOVE    *B1,B1,W                        ;[SOUND,OID]
    2666                    
    2667 00011bf0     4d25          MOVE    A9,A5
    2668 00011c00     2485          SLL     4,A5
    2669 00011c10     0b25          ADDI    PLAYER_PAL_NUM_TABLE,A5
         00011c20 00007310' 
    2670 00011c40     84a5          MOVE    *A5,A5,W                        ;[COLOR,PALETTE]
    2671                    
    2672 00011c50     2489          SLL     4,A9
    2673 00011c60     0b29          ADDI    INITIAL_MESS_CENTER_XPOS_TABLE,A9
         00011c70 00008840' 
    2674 00011c90     8529          MOVE    *A9,A9,W
    2675 00011ca0     0b29          ADDI    [100,0],A9                      ;[Y,X] SCREEN ADDRESS
         00011cb0 00640000  
    2676                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   63

    2677 00011cd0     5600          CLR     A0                              ;NO SLEEP TIL
    2678 00011ce0     09e1          MOVI    STRCNCONV,A1                    ;ROUTINE
         00011cf0 00000000! 
    2679                    ;       MOVI    HFPAL,A5                        ;[COLOR,PALETTE]
    2680 00011d10     09ea          MOVI    [0,-2],A10                      ;[Y,X] SPACING
         00011d20 0000fffe  
    2681 00011d40     09eb          MOVI    H11WFONT,A11                    ;FONT
         00011d50 00000000! 
    2682                    
    2683 00011d70                   JSRP    PRINTF
    2684                    
    2685 00011de0                   SLEEP   60
    2686                    
    2687 00011e30     c000          JRUC    ISP_DONE
         00011e40     02cd  
    2688 00011e50           ISP_SHOW_RECORD
    2689 00011e50     05ae          MOVE    @b_rank,A14,W
         00011e60 00000000! 
    2690 00011e80     0b4e          CMPI    10,A14
         00011e90     fff5  
    2691 00011ea0     c753          JRGT    ISP_DISPLAY_RECORD              ;BR=NOT A TOP TEN PLAYER
    2692                    
    2693 00011eb0     09f0          MOVI    TOPTEN_MESS_INIT,B0
         00011ec0 00015ba0' 
    2694 00011ee0     0d5f          CALLA   EASYMAKE
         00011ef0 00000000! 
    2695                    
    2696 00011f10     4d2e          MOVE    A9,A14
    2697 00011f20     248e          SLL     4,A14
    2698 00011f30     0b2e          ADDI    PLAYER_OID_TABLE,A14
         00011f40 00017130' 
    2699 00011f60     85ce          MOVE    *A14,A14,W
    2700 00011f70     b1c8          MOVE    A14,*A8(OID),W
         00011f80     0430  
    2701 00011f90                   PUSHP   A14
    2702                    
    2703 00011fa0     09ce          MOVI    0202H,A14
         00011fb0     0202  
    2704 00011fc0     b1c8          MOVE    A14,*A8(OCONST),W
         00011fd0     0290  
    2705 00011fe0     194e          MOVK    10,A14
    2706 00011ff0     adc8          MOVB    A14,*A8(ANIMLOOP)
         00012000     0370  
    2707                    
    2708 00012010     4d2a          MOVE    A9,A10
    2709 00012020     248a          SLL     4,A10
    2710 00012030     0b2a          ADDI    INFOBOX_CENTER_XPOS_TABLE,A10
         00012040 00007eb0' 
    2711 00012060     854a          MOVE    *A10,A10,W
    2712 00012070     09ee          MOVI    [INFOBOX_Y+104,-1],A14
         00012080 00d7ffff  
    2713 000120a0     e1ca          ADDXY   A14,A10
    2714 000120b0     4d41          MOVE    A10,A1
    2715 000120c0     09e2          MOVI    TEXTZVAL-2,A2
         000120d0 83fffffe  
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   64

    2716 000120f0     0d5f          CALLA   SET_SCRNOBJ
         00012100 00000000! 
    2717 00012120     0d5f          CALLA   INSERT_OBJ
         00012130 00000000! 
    2718                    
    2719 00012150     09f0          MOVI    INFOBOX_PLATE_INIT,B0           ;INFOBOX PLATE
         00012160 0000e900' 
    2720 00012180     0d5f          CALLA   EASYMAKE
         00012190 00000000! 
    2721                    
    2722 000121b0                   PULLPQ  A14
    2723 000121c0     b1c8          MOVE    A14,*A8(OID),W
         000121d0     0430  
    2724 000121e0     4fc1          MOVE    A14,B1                          ;[SOUND,OID]
    2725                    
    2726 000121f0     09ce          MOVI    52 << 8 + 52,A14
         00012200     3434  
    2727                    ;       CLR     A14
    2728 00012210     b1c8          MOVE    A14,*A8(OCONST),W
         00012220     0290  
    2729 00012230     194e          MOVK    10,A14
    2730 00012240     adc8          MOVB    A14,*A8(ANIMLOOP)
         00012250     0370  
    2731                    
    2732 00012260     4d41          MOVE    A10,A1
    2733 00012270     09e2          MOVI    TEXTZVAL-1,A2
         00012280 83ffffff  
    2734 000122a0     0d5f          CALLA   SET_SCRNOBJ
         000122b0 00000000! 
    2735 000122d0     0d5f          CALLA   INSERT_OBJ
         000122e0 00000000! 
    2736 00012300     09e1          MOVI    TOPTEN_FLASH_ANIM,A1
         00012310 00015c10' 
    2737 00012330     0d5f          CALLA   STRT_ANIM
         00012340 00000000! 
    2738 00012360     09e0          MOVI    GLDFRMP,A0
         00012370 0000abe0' 
    2739 00012390     0d5f          CALLA   CHANGE_PAL
         000123a0 00000000! 
    2740                    
    2741                    ;       CALLR   TOPTEN_SOUND
    2742 000123c0     0d3f          CALLR   FULL_GAME_SOUND
         000123d0     fd15  
    2743                    
    2744 000123e0           ISP_DISPLAY_RECORD
    2745 000123e0     4f21          MOVE    A9,B1
    2746 000123f0     2491          SLL     4,B1
    2747 00012400     0b31          ADDI    PLAYER_OID_TABLE,B1
         00012410 00017130' 
    2748 00012430     8431          MOVE    *B1,B1,W                        ;[SOUND,OID]
    2749                    
    2750 00012440     4d25          MOVE    A9,A5
    2751 00012450     2485          SLL     4,A5
    2752 00012460     0b25          ADDI    PLAYER_PAL_NUM_TABLE,A5
         00012470 00007310' 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   65

    2753 00012490     84a5          MOVE    *A5,A5,W                        ;[COLOR,PALETTE]
    2754                    
    2755 000124a0     2489          SLL     4,A9
    2756 000124b0     0b29          ADDI    INITIAL_MESS_CENTER_XPOS_TABLE,A9
         000124c0 00008840' 
    2757 000124e0     8529          MOVE    *A9,A9,W
    2758 000124f0                   PUSHP   A9
    2759 00012500     0b29          ADDI    [RANK_YPOS,0],A9                ;[Y,X] SCREEN ADDRESS
         00012510 000a0000  
    2760                    
    2761 00012530     5600          CLR     A0                              ;NO SLEEP TIL
    2762 00012540     09e1          MOVI    STRCNCONV,A1                    ;ROUTINE
         00012550 00000000! 
    2763                    ;       MOVI    HFPAL,A5                        ;[COLOR,PALETTE]
    2764 00012570     09e8          MOVI    RANK_STRING,A8                  ;POINTER TO STRING
         00012580 00015eb0' 
    2765 000125a0     09ea          MOVI    [0,-1],A10                      ;[Y,X] SPACING
         000125b0 0000ffff  
    2766 000125d0     09eb          MOVI    H11WFONT,A11                    ;FONT
         000125e0 00000000! 
    2767 00012600                   JSRP    PRINTF
    2768                    
    2769 00012670     09c5          MOVI    HFPAL,A5                        ;[COLOR,PALETTE]
         00012680     0202  
    2770 00012690     09e8          MOVI    RECORD_STRING,A8                ;POINTER TO STRING
         000126a0 00015f20' 
    2771 000126c0     8589          MOVE    *A12,A9,W                       ;RESTORE A9, [0, X CENTER]
    2772 000126d0     0b29          ADDI    [RANK_YPOS+15,0],A9             ;[Y,X] SCREEN ADDRESS
         000126e0 00190000  
    2773 00012700     09eb          MOVI    H10FONT,A11                     ;FONT
         00012710 00000000! 
    2774 00012730                   JSRP    PRINTF
    2775                    
    2776 000127a0     05a3          MOVE    @b_wins,A3,W
         000127b0 00000000! 
    2777 000127d0     4c66          MOVE    A3,A6
    2778 000127e0     2426          SLL     1,A6
    2779 000127f0     4c62          MOVE    A3,A2
    2780 00012800     05ae          MOVE    @b_losses,A14,W
         00012810 00000000! 
    2781 00012830     41c2          ADD     A14,A2
    2782 00012840     05ae          MOVE    @b_ties,A14,W
         00012850 00000000! 
    2783 00012870     41c2          ADD     A14,A2                          ;TOTAL GAMES
    2784                    
    2785 00012880     8589          MOVE    *A12,A9,W                       ;RESTORE A9, [0, X CENTER]
    2786                    
    2787 00012890     41c6          ADD     A14,A6                          ;POINTS
    2788 000128a0                   PUSHP   A6
    2789                    
    2790 000128b0     09c5          MOVI    HFPAL+0202H,A5
         000128c0     0404  
    2791                    
    2792 000128d0     2422          SLL     1,A2
    2793 000128e0     4846          CMP     A2,A6
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   66

    2794 000128f0     cb0e          JRNE    ISP_PCTG
    2795                    
    2796 00012900     09e8          MOVI    PCTG_100_STRING,A8              ;POINTER TO STRING
         00012910 00016020' 
    2797 00012930     0b29          ADDI    [RANK_YPOS+30,0],A9             ;[Y,X] SCREEN ADDRESS
         00012940 00280000  
    2798 00012960                   JSRP    PRINTF
    2799 000129d0     c027          JRUC    ISP_POINTS
    2800 000129e0           ISP_PCTG
    2801 000129e0     4cc7          MOVE    A6,A7
    2802 000129f0     09ce          MOVI    10000,A14
         00012a00     2710  
    2803 00012a10     5fc7          MPYU    A14,A7
    2804 00012a20     5a47          DIVU    A2,A7
    2805 00012a30     10a7          ADDK    5,A7                            ;ROUND UP
    2806 00012a40     09ce          MOVI    10,A14
         00012a50     000a  
    2807 00012a60     5bc7          DIVU    A14,A7
    2808                    
    2809 00012a70     56c6          CLR     A6
    2810 00012a80     5bc6          DIVU    A14,A6
    2811 00012a90     0587          MOVE    A7,@RAMTEMP3,W                  ;THOUSANTHS
         00012aa0 00000000! 
    2812 00012ac0     4cc7          MOVE    A6,A7
    2813 00012ad0     56c6          CLR     A6
    2814 00012ae0     5bc6          DIVU    A14,A6
    2815 00012af0     0587          MOVE    A7,@RAMTEMP2,W                  ;HUNDRETHS
         00012b00 00000000! 
    2816 00012b20     4cc7          MOVE    A6,A7
    2817 00012b30     56c6          CLR     A6
    2818 00012b40     5bc6          DIVU    A14,A6
    2819 00012b50     0587          MOVE    A7,@RAMTEMP1,W                  ;TENTHS
         00012b60 00000000! 
    2820 00012b80     09e8          MOVI    PCTG_STRING,A8                  ;POINTER TO STRING
         00012b90 00016080' 
    2821 00012bb0     0b29          ADDI    [RANK_YPOS+30,0],A9             ;[Y,X] SCREEN ADDRESS
         00012bc0 00280000  
    2822 00012be0                   JSRP    PRINTF
    2823 00012c50           ISP_POINTS
    2824 00012c50                   PULLPQ  A6
    2825 00012c60     0586          MOVE    A6,@RAMTEMP1,W
         00012c70 00000000! 
    2826 00012c90     09c5          MOVI    HFPAL,A5
         00012ca0     0202  
    2827 00012cb0     09e8          MOVI    POINTS_STRING,A8                ;POINTER TO STRING
         00012cc0 00016160' 
    2828 00012ce0     8589          MOVE    *A12,A9,W                       ;RESTORE A9, [0, X CENTER]
    2829 00012cf0     0b29          ADDI    [RANK_YPOS+45,0],A9             ;[Y,X] SCREEN ADDRESS
         00012d00 00370000  
    2830 00012d20                   JSRP    PRINTF
    2831                    
    2832 00012d90     05ae          MOVE    @b_initial1,A14,W               ;TRANSLATE YOUR INITIALS
         00012da0 00000000! 
    2833 00012dc0     0d3f          CALLR   PENACHO_TO_ASCII
         00012dd0     02b2  
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   67

    2834 00012de0     058e          MOVE    A14,@b_initial1,W
         00012df0 00000000! 
    2835 00012e10     05ae          MOVE    @b_initial2,A14,W
         00012e20 00000000! 
    2836 00012e40     0d3f          CALLR   PENACHO_TO_ASCII
         00012e50     02aa  
    2837 00012e60     058e          MOVE    A14,@b_initial2,W
         00012e70 00000000! 
    2838 00012e90     05ae          MOVE    @b_initial3,A14,W
         00012ea0 00000000! 
    2839 00012ec0     0d3f          CALLR   PENACHO_TO_ASCII
         00012ed0     02a2  
    2840 00012ee0     058e          MOVE    A14,@b_initial3,W
         00012ef0 00000000! 
    2841                    
    2842 00012f10     05ae          MOVE    @b_teammate_initial1,A14,W      ;TRANSLATE YOUR TEAMMATE'S
         00012f20 00000000! 
    2843 00012f40     0d3f          CALLR   PENACHO_TO_ASCII                ; INITIALS
         00012f50     029a  
    2844 00012f60     058e          MOVE    A14,@b_teammate_initial1,W
         00012f70 00000000! 
    2845 00012f90     05ae          MOVE    @b_teammate_initial2,A14,W
         00012fa0 00000000! 
    2846 00012fc0     0d3f          CALLR   PENACHO_TO_ASCII
         00012fd0     0292  
    2847 00012fe0     058e          MOVE    A14,@b_teammate_initial2,W
         00012ff0 00000000! 
    2848 00013010     05ae          MOVE    @b_teammate_initial3,A14,W
         00013020 00000000! 
    2849 00013040     0d3f          CALLR   PENACHO_TO_ASCII
         00013050     028a  
    2850 00013060     058e          MOVE    A14,@b_teammate_initial3,W
         00013070 00000000! 
    2851                    
    2852 00013090     05ae          MOVE    @b_opp1_initial1,A14,W          ;TRANSLATE YOUR FIRST OPPONENT'S
         000130a0 00000000! 
    2853 000130c0     0d3f          CALLR   PENACHO_TO_ASCII                ; INITIALS
         000130d0     0282  
    2854 000130e0     058e          MOVE    A14,@b_opp1_initial1,W
         000130f0 00000000! 
    2855 00013110     05ae          MOVE    @b_opp1_initial2,A14,W
         00013120 00000000! 
    2856 00013140     0d3f          CALLR   PENACHO_TO_ASCII
         00013150     027a  
    2857 00013160     058e          MOVE    A14,@b_opp1_initial2,W
         00013170 00000000! 
    2858 00013190     05ae          MOVE    @b_opp1_initial3,A14,W
         000131a0 00000000! 
    2859 000131c0     0d3f          CALLR   PENACHO_TO_ASCII
         000131d0     0272  
    2860 000131e0     058e          MOVE    A14,@b_opp1_initial3,W
         000131f0 00000000! 
    2861                    
    2862 00013210     05ae          MOVE    @b_opp2_initial1,A14,W          ;TRANSLATE YOUR FIRST OPPONENT'S
         00013220 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   68

    2863 00013240     0d3f          CALLR   PENACHO_TO_ASCII                ; INITIALS
         00013250     026a  
    2864 00013260     058e          MOVE    A14,@b_opp2_initial1,W
         00013270 00000000! 
    2865 00013290     05ae          MOVE    @b_opp2_initial2,A14,W
         000132a0 00000000! 
    2866 000132c0     0d3f          CALLR   PENACHO_TO_ASCII
         000132d0     0262  
    2867 000132e0     058e          MOVE    A14,@b_opp2_initial2,W
         000132f0 00000000! 
    2868 00013310     05ae          MOVE    @b_opp2_initial3,A14,W
         00013320 00000000! 
    2869 00013340     0d3f          CALLR   PENACHO_TO_ASCII
         00013350     025a  
    2870 00013360     058e          MOVE    A14,@b_opp2_initial3,W
         00013370 00000000! 
    2871                    
    2872 00013390     05ae          MOVE    @b_lastteam1,A14,W
         000133a0 00000000! 
    2873 000133c0     0b4e          cmpi    27,a14
         000133d0     ffe4  
    2874 000133e0     cb03          jrnz    oktpt
    2875 000133f0     09ce          movi    ' ',a14
         00013400     0020  
    2876 00013410     c008          jruc    prtaw
    2877 00013420     142e  oktpt   DEC     A14
    2878 00013430     248e          SLL     4,A14
    2879 00013440     0b2e          ADDI    ALPHA_CITY_REMAP_TABLE,A14
         00013450 00000000! 
    2880 00013470     85ce          MOVE    *A14,A14,W
    2881 00013480     0b0e          ADDI    'a',A14
         00013490     0061  
    2882 000134a0     078e  prtaw   MOVE    A14,@RAMTEMP1,L
         000134b0 00000000! 
    2883                    
    2884 000134d0     05ae          MOVE    @b_lastteam2,A14,W
         000134e0 00000000! 
    2885 00013500     0b4e          cmpi    27,a14
         00013510     ffe4  
    2886 00013520     cb03          jrnz    oktpt2
    2887 00013530     09ce          movi    ' ',a14
         00013540     0020  
    2888 00013550     c008          jruc    prtaw2
    2889                    
    2890 00013560     142e  oktpt2  DEC     A14
    2891 00013570     248e          SLL     4,A14
    2892 00013580     0b2e          ADDI    ALPHA_CITY_REMAP_TABLE,A14
         00013590 00000000! 
    2893 000135b0     85ce          MOVE    *A14,A14,W
    2894 000135c0     0b0e          ADDI    'a',A14
         000135d0     0061  
    2895 000135e0     078e  prtaw2  MOVE    A14,@RAMTEMP2,L
         000135f0 00000000! 
    2896                    
    2897 00013610     09ee          MOVI    DEFEATED_STRING,A14
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   69

         00013620 000161d0' 
    2898 00013640     09e8          MOVI    LAST_STRING,A8                  ;POINTER TO STRING
         00013650 000162d0' 
    2899                    
    2900 00013670     05a2          MOVE    @b_last_score1,A2,W
         00013680 00000000! 
    2901 000136a0     05a3          MOVE    @b_last_score2,A3,W
         000136b0 00000000! 
    2902 000136d0     4843          CMP     A2,A3
    2903 000136e0     c409          JRLT    ISP_CHECK_SHUTOUT               ;BR=YOU WON
    2904 000136f0     ca04          JREQ    ISP_SET_TIED                    ;BR=YOU TIED
    2905 00013700     09ee          MOVI    LOST_STRING,A14                 ;YOU LOST
         00013710 00016260' 
    2906 00013730     c009          JRUC    ISP_SHOW_LAST
    2907 00013740           ISP_SET_TIED
    2908 00013740     09ee          MOVI    TIED_STRING,A14
         00013750 000162a0' 
    2909 00013770     c005          JRUC    ISP_SHOW_LAST
    2910 00013780           ISP_CHECK_SHUTOUT
    2911 00013780     4c63          MOVE    A3,A3
    2912 00013790     cb03          JRNZ    ISP_SHOW_LAST                   ;BR=NO SHUTOUT
    2913 000137a0     09ee          MOVI    SHUTOUT_STRING,A14              ;SHUTOUT!
         000137b0 00016220' 
    2914 000137d0           ISP_SHOW_LAST
    2915 000137d0     078e          MOVE    A14,@RAMTEMP3,L
         000137e0 00000000! 
    2916 00013800     09c5          MOVI    HFPAL+0202H,A5
         00013810     0404  
    2917 00013820     8589          MOVE    *A12,A9,W                       ;RESTORE A9, [0, X CENTER]
    2918 00013830     0b29          ADDI    [RANK_YPOS+75,0],A9             ;[Y,X] SCREEN ADDRESS
         00013840 00550000  
    2919 00013860                   JSRP    PRINTF
    2920                    
    2921 000138d0     07a8          MOVE    @b_teamsbeat,A8,L
         000138e0 00000000! 
    2922 00013900                   PUSHP   A8
    2923 00013910     4e3e          MOVE    B1,A14
    2924 00013920                   PUSHP   A14
    2925                    
    2926 00013930                   SLEEP   30
    2927 00013970     09c8          MOVI    210,A8
         00013980     00d2  
    2928 00013990     b5a9          MOVE    *A13(PPNUM),A9,W                ;PLAYER NUMBER - 1
         000139a0     0170  
    2929 000139b0                   JSRP    PLAYER_BUTTON_SKIP
    2930                    
    2931 00013a20                   PULLPQ  A0
    2932 00013a30     4e01          MOVE    A0,B1
    2933 00013a40     0d5f          CALLA   KILOBJ_ALL
         00013a50 00000000! 
    2934                    
    2935 00013a70                   PULLPQ  A8
    2936 00013a80     cb30          JRNZ    ISP_TOTAL_TEAMS                 ;BR=WE'VE DEFEATED!
    2937                    
    2938 00013a90     b5a5          MOVE    *A13(PPNUM),A5,W                ;PLAYER NUMBER - 1
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   70

         00013aa0     0170  
    2939 00013ab0     2485          SLL     4,A5
    2940 00013ac0     0b25          ADDI    PLAYER_PAL_NUM_TABLE,A5
         00013ad0 00007310' 
    2941 00013af0     84a5          MOVE    *A5,A5,W                        ;[COLOR,PALETTE]
    2942                    
    2943 00013b00     5600          CLR     A0                              ;NO SLEEP TIL
    2944 00013b10     09e1          MOVI    STRCNCONV,A1                    ;ROUTINE
         00013b20 00000000! 
    2945                    ;       MOVI    HFPAL,A5                        ;[COLOR,PALETTE]
    2946 00013b40     09e8          MOVI    NO_DEFEATS_STRING,A8            ;POINTER TO STRING
         00013b50 00016800' 
    2947 00013b70     8589          MOVE    *A12,A9,W                       ;RESTORE A9, [0, X CENTER]
    2948 00013b80     0b29          ADDI    [DEFEATS_YPOS,0],A9             ;[Y,X] SCREEN ADDRESS
         00013b90 000a0000  
    2949 00013bb0     09ea          MOVI    [0,-1],A10                      ;[Y,X] SPACING
         00013bc0 0000ffff  
    2950 00013be0     09eb          MOVI    H10FONT,A11                     ;FONT
         00013bf0 00000000! 
    2951 00013c10                   JSRP    PRINTF
    2952                    
    2953 00013c80           ISP_ALL_OR_NONE_WAIT
    2954 00013c80                   SLEEP   30
    2955 00013cc0     09c8          MOVI    150,A8
         00013cd0     0096  
    2956 00013ce0     b5a9          MOVE    *A13(PPNUM),A9,W                ;PLAYER NUMBER - 1
         00013cf0     0170  
    2957 00013d00                   JSRP    PLAYER_BUTTON_SKIP
    2958 00013d70     c000          JRUC    ISP_DONE
         00013d80     00d9  
    2959                    
    2960 00013d90           ISP_TOTAL_TEAMS
    2961 00013d90     1b20          MOVK    25,A0                           ;LAST NHL TEAM
    2962 00013da0     5621          CLR     A1                              ;RESET TOTAL DEFEATS
    2963 00013db0     5642          CLR     A2                              ;RESET ALPHA REMAP TEAM LIST
    2964 00013dc0     09e3          MOVI    ALPHA_CITY_REMAP_TABLE+(010H*25),A3
         00013dd0 00000190! 
    2965 00013df0           ISP_TT_LUPE
    2966 00013df0     4a08          BTST    A0,A8
    2967 00013e00     ca05          JRZ     ISP_TT_NEXT                     ;BR=DIDN'T BEAT THIS TEAM
    2968 00013e10     1021          INC     A1                              ;BEAT 'EM!
    2969 00013e20     8464          MOVE    *A3,A4,W                        ;GET REMAP POSITION
    2970 00013e30     182e          MOVK    1,A14
    2971 00013e40     628e          SLL     A4,A14                          ;MAKE BIT MASK
    2972 00013e50     55c2          OR      A14,A2                          ;ADD REMAPPED TEAM
    2973 00013e60           ISP_TT_NEXT
    2974 00013e60     1603          SUBK    010H,A3
    2975 00013e70     1420          DEC     A0
    2976 00013e80     cff6          JRNN    ISP_TT_LUPE                     ;BR=MORE TEAMS TO CHECK
    2977                    
    2978 00013e90     b5a5          MOVE    *A13(PPNUM),A5,W                ;PLAYER NUMBER - 1
         00013ea0     0170  
    2979 00013eb0     2485          SLL     4,A5
    2980 00013ec0     0b25          ADDI    PLAYER_PAL_NUM_TABLE,A5
         00013ed0 00007310' 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   71

    2981 00013ef0     84a5          MOVE    *A5,A5,W                        ;[COLOR,PALETTE]
    2982                    
    2983 00013f00     4c2e          MOVE    A1,A14
    2984 00013f10     174e          SUBK    26,A14
    2985 00013f20     03ae          NEG     A14
    2986 00013f30     cb2d          JRNZ    ISP_TT_STRING
    2987                    
    2988                    ;       MOVE    A1,@RAMTEMP1,W                  ;TOTAL DEFEATS
    2989                    ;       CMPI    26,A1
    2990                    ;       JRNE    ISP_TT_STRING                   ;BR=NOT ALL TEAMS
    2991                    
    2992 00013f40                   PUSH    B1
    2993 00013f50     09f0          MOVI    OICHAMP_INIT,B0
         00013f60 00014bb0' 
    2994 00013f80     0d5f          CALLA   EASYMAKE
         00013f90 00000000! 
    2995 00013fb0     8589          MOVE    *A12,A9,W                       ;RESTORE A9, [0, X CENTER]
    2996 00013fc0     4d21          MOVE    A9,A1
    2997 00013fd0     0b21          ADDI    [147,0],A1
         00013fe0 00930000  
    2998 00014000     09c2          MOVI    90,A2
         00014010     005a  
    2999 00014020     0d5f          CALLA   SET_SCRNOBJ
         00014030 00000000! 
    3000 00014050     0d5f          CALLA   INSERT_OBJ
         00014060 00000000! 
    3001 00014080                   PULLQ   B1
    3002                    
    3003 00014090     5600          CLR     A0                              ;NO SLEEP TIL
    3004 000140a0     09e1          MOVI    STRCNCONV,A1                    ;ROUTINE
         000140b0 00000000! 
    3005                    ;       MOVI    HFPAL,A5                        ;[COLOR,PALETTE]
    3006 000140d0     09e8          MOVI    ALL_DEFEATS_STRING,A8           ;POINTER TO STRING
         000140e0 00016980' 
    3007 00014100     0b29          ADDI    [DEFEATS_YPOS,0],A9             ;[Y,X] SCREEN ADDRESS
         00014110 000a0000  
    3008 00014130     09ea          MOVI    [0,-1],A10                      ;[Y,X] SPACING
         00014140 0000ffff  
    3009                    ;       MOVI    H10FONT,A11                     ;FONT
    3010 00014160     09eb          MOVI    H11WFONT,A11                    ;FONT
         00014170 00000000! 
    3011 00014190                   JSRP    PRINTF
    3012                    
    3013                    ;       MOVI    TOTAL_DEFEATS_STRING,A8         ;POINTER TO STRING
    3014                    ;       MOVE    *A13(PPNUM),A9,W                ;PLAYER NUMBER - 1
    3015                    ;       SLL     4,A9
    3016                    ;       ADDI    INFOBOX_CENTER_XPOS_TABLE,A9
    3017                    ;       MOVE    *A9,A9,W
    3018                    ;       MOVI    [INFOBOX_Y+94,-1],A14
    3019                    ;       ADDXY   A14,A9                          ;[Y,X] SCREEN ADDRESS
    3020                    ;       MOVI    H10FONT,A11                     ;FONT
    3021                    ;       JSRP    PRINTF
    3022                    
    3023 00014200     c0a7          JRUC    ISP_ALL_OR_NONE_WAIT
    3024                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   72

    3025 00014210           ISP_TT_STRING
    3026 00014210     058e          MOVE    A14,@RAMTEMP1,W                 ;TOTAL DEFEATS
         00014220 00000000! 
    3027                    
    3028 00014240     4c48          MOVE    A2,A8                           ;REMAPPED TEAM LIST
    3029                    
    3030 00014250     09e0          MOVI    DEFEATS_STRING,A0               ;POINTER TO STRING
         00014260 00016ad0' 
    3031 00014280     0b41          CMPI    13,A1
         00014290     fff2  
    3032 000142a0     c604          JRLE    ISP_TT_S_GO                     ;BR=NOT ALL TEAMS
    3033 000142b0     03e8          NOT     A8
    3034 000142c0     09e0          MOVI    MUST_PLAY_STRING,A0             ;POINTER TO STRING
         000142d0 00016b90' 
    3035 000142f0           ISP_TT_S_GO
    3036 000142f0     8589          MOVE    *A12,A9,W                       ;RESTORE A9, [0, X CENTER]
    3037 00014300                   PUSHP   A8
    3038 00014310     4c08          MOVE    A0,A8
    3039 00014320     5600          CLR     A0                              ;NO SLEEP TIL
    3040 00014330     09e1          MOVI    STRCNCONV,A1                    ;ROUTINE
         00014340 00000000! 
    3041                    ;       MOVI    HFPAL,A5                        ;[COLOR,PALETTE]
    3042 00014360     0b29          ADDI    [DEFEATS_YPOS,0],A9             ;[Y,X] SCREEN ADDRESS
         00014370 000a0000  
    3043 00014390     09ea          MOVI    [0,-1],A10                      ;[Y,X] SPACING
         000143a0 0000ffff  
    3044 000143c0     09eb          MOVI    H10FONT,A11                     ;FONT
         000143d0 00000000! 
    3045 000143f0                   JSRP    PRINTF
    3046                    
    3047                    ;       MOVI    TOTAL_DEFEATS_STRING,A8         ;POINTER TO STRING
    3048 00014460     09e8          MOVI    WINS_TO_CUP_STRING,A8
         00014470 00016c50' 
    3049                    
    3050 00014490     05ae          MOVE    @RAMTEMP1,A14,W
         000144a0 00000000! 
    3051 000144c0     142e          DEC     A14
    3052 000144d0     cb03          JRNZ    ISP_TT_S_PRINT                  ;BR=NOT STANLEY CUP GAME
    3053 000144e0     09e8          MOVI    STAN_CUP_STRING,A8
         000144f0 00016d50' 
    3054                    
    3055 00014510           ISP_TT_S_PRINT
    3056 00014510     b5a9          MOVE    *A13(PPNUM),A9,W                ;PLAYER NUMBER - 1
         00014520     0170  
    3057 00014530     2489          SLL     4,A9
    3058 00014540     0b29          ADDI    INFOBOX_CENTER_XPOS_TABLE,A9
         00014550 00007eb0' 
    3059 00014570     8529          MOVE    *A9,A9,W
    3060 00014580     09ee          MOVI    [INFOBOX_Y+94,-1],A14
         00014590 00cdffff  
    3061 000145b0     e1c9          ADDXY   A14,A9                          ;[Y,X] SCREEN ADDRESS
    3062 000145c0                   JSRP    PRINTF
    3063 00014630                   PULLPQ  A8
    3064                    
    3065 00014640     b5a0          MOVE    *A13(PPNUM),A0,W                ;PLAYER NUMBER - 1
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   73

         00014650     0170  
    3066 00014660     2480          SLL     4,A0
    3067 00014670     0b20          ADDI    PLAYER_OID2_TABLE,A0
         00014680 00017170' 
    3068 000146a0     8400          MOVE    *A0,A0,W                        ;[SOUND,OID]
    3069                    
    3070 000146b0     4d01          MOVE    A8,A1                           ;REMAPPED TEAM LIST
    3071                    
    3072 000146c0     09e8          MOVI    DEFEAT_LIST_STRING,A8
         000146d0 00000020- 
    3073 000146f0                   PULLPQ  A9
    3074 00014700     0b29          ADDI    [DEFEATS_YPOS+23,0],A9          ;[Y,X] SCREEN ADDRESS
         00014710 00210000  
    3075 00014730     574a          CLR     A10
    3076 00014740     142a          DEC     A10                             ;TEAM BIT
    3077                    ;       CLR     A11                             ;NUMBER OF TEAMS Q'D UP
    3078 00014750           ISP_DEFEATS_LUPE
    3079 00014750     102a          INC     A10
    3080 00014760     0b4a          CMPI    26,A10
         00014770     ffe5  
    3081 00014780     c510          JRGE    ISP_DL_TERM                     ;BR=NO MORE TEAMS
    3082 00014790     4b41          BTST    A10,A1
    3083 000147a0     cafa          JRZ     ISP_DEFEATS_LUPE                ;BR=NO DEFEAT
    3084                    
    3085 000147b0     4d4e          MOVE    A10,A14
    3086 000147c0     0b0e          ADDI    'a',A14                         ;CITY NAME
         000147d0     0061  
    3087 000147e0     8dc8          MOVB    A14,*A8
    3088 000147f0     1108          ADDK    8,A8
    3089 00014800     09ce          MOVI    '\',A14                         ;NEWLINE
         00014810     005c  
    3090 00014820     8dc8          MOVB    A14,*A8
    3091 00014830     1108          ADDK    8,A8
    3092 00014840     09ce          MOVI    'n',A14
         00014850     006e  
    3093 00014860     8dc8          MOVB    A14,*A8
    3094 00014870     1108          ADDK    8,A8
    3095                    
    3096 00014880     c0ec          JRUC    ISP_DEFEATS_LUPE
    3097                    
    3098                    ;       INC     A11                             ;ANOTHER TEAM LISTED
    3099                    ;       CMPI    13,A11
    3100                    ;       JRLE    ISP_DEFEATS_LUPE                ;BR=NOT FULL
    3101                    ;
    3102                    ;       MOVI    '[',A14
    3103                    ;       MOVB    A14,*A8                         ;MORE PROMPT
    3104                    ;       ADDK    8,A8
    3105 00014890           ISP_DL_TERM
    3106 00014890     57ce          CLR     A14
    3107 000148a0     8dc8          MOVB    A14,*A8                         ;NULL TERMINATOR
    3108 000148b0     1108          ADDK    8,A8
    3109                    
    3110                    ;       MMTM    A12,A0,A1,A8,A9,A10,A11
    3111 000148c0     4e01          MOVE    A0,B1
    3112 000148d0     5600          CLR     A0                              ;NO SLEEP TIL
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   74

    3113 000148e0     09e1          MOVI    STRCNCONV,A1                    ;ROUTINE
         000148f0 00000000! 
    3114 00014910     09c5          MOVI    HFPAL,A5                        ;[COLOR,PALETTE]
         00014920     0202  
    3115 00014930     09e8          MOVI    DEFEAT_LIST_STRING,A8
         00014940 00000020- 
    3116                    ;       MOVI    [11,0],A10                      ;[Y,X] SPACING
    3117 00014960     09ea          MOVI    [12,0],A10                      ;[Y,X] SPACING
         00014970 000c0000  
    3118 00014990     09eb          MOVI    H10FONT,A11                     ;FONT
         000149a0 00000000! 
    3119 000149c0                   JSRP    PRINTF
    3120                    ;       MMFM    A12,A0,A1,A8,A9,A10,A11
    3121                    
    3122                    ;       CMPI    25,A10
    3123                    ;       JRGE    ISP_DL_WAIT
    3124                    ;
    3125                    ;       MMTM    A12,A0,A1,A8,A9
    3126                    ;       SLEEP   30
    3127                    ;       MOVI    150,A8
    3128                    ;       MOVE    *A13(PPNUM),A9,W                ;PLAYER NUMBER - 1
    3129                    ;       JSRP    PLAYER_BUTTON_SKIP
    3130                    ;       MMFM    A12,A0,A1,A8,A9
    3131                    ;
    3132                    ;       CALLA   KILOBJ_ALL                      ;KILL LIST
    3133                    ;       MOVI    DEFEAT_LIST_STRING,A8           ;RESTART STRING
    3134                    ;       MOVI    -1,A11                          ;FORCE NO "MORE" MESSAGE
    3135                    ;
    3136                    ;       JRUC    ISP_DEFEATS_LUPE
    3137                    
    3138 00014a30           ISP_DL_WAIT
    3139 00014a30                   SLEEP   30
    3140 00014a70     09c8          MOVI    150,A8
         00014a80     0096  
    3141 00014a90     b5a9          MOVE    *A13(PPNUM),A9,W                ;PLAYER NUMBER - 1
         00014aa0     0170  
    3142 00014ab0                   JSRP    PLAYER_BUTTON_SKIP
    3143 00014b20           ISP_DONE
    3144                    ;       MOVE    *A13(PPNUM),A9,W                ;PLAYER NUMBER - 1
    3145                    ;       MOVK    1,A14                           ;FLAG PLAYER DONE
    3146                    ;       SLL     A9,A14
    3147                    ;       MOVB    @PLAYER_INITIAL_BITS,A0
    3148                    ;       OR      A14,A0
    3149                    ;       MOVB    A0,@PLAYER_INITIAL_BITS
    3150                    
    3151 00014b20                   DIE
    3152                    
    3153                    ;SELECT_HEADER_INIT
    3154                    ;       .long   BDAYBCK
    3155                    ;       .word   DMAWNZ,M_SCRNOBJ|M_NOSCALE|M_NOVEL
    3156                    ;       .word   OM_OID
    3157                    ;       .word   OID_JUNK
    3158                    
    3159 00014b50           INITIALS_HEADER_INIT
    3160 00014b50 00004530"         .long   INITIALS11
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   75

    3161 00014b70     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOSCALE|M_NOVEL
    3162 00014b90     0100          .word   OM_OID
    3163 00014ba0     07ff          .word   OID_JUNK
    3164                    
    3165 00014bb0           OICHAMP_INIT
    3166 00014bb0 00000000"         .long   STANCHA2a
    3167 00014bd0     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOSCALE|M_NOVEL
    3168 00014bf0     0104          .word   OM_OID|OM_ANIM
    3169 00014c00     07ff          .word   OID_JUNK
    3170 00014c10 00014c30'         .long   OICHAMP_ANIM
    3171                    
    3172 00014c30           OICHAMP_ANIM
    3173 00014c30                   LWLL    1,10|AFUNC,A_CHANGE_PAL+2,STAN128a
    3174 00014ca0                   LWLL    1,10|AFUNC,A_CHANGE_PAL+2,STAN128b
    3175 00014d10 00000000          .long   0
    3176                    
    3177 00014d30           STAN128b
    3178 00014d30     0080     .word   128
    3179 00014d40     0000     .word   00000h,06421h,06063h,069f0h,05064h,06401h,06043h,04064h
    3180 00014dc0     3822     .word   03822h,01801h,06002h,02401h,05c02h,04c23h,05ca9h,04c04h
    3181 00014e40     3c04     .word   03c04h,00400h,04889h,05048h,038c9h,04828h,0402ah,03409h
    3182 00014ec0     386e     .word   0386eh,0340dh,00401h,02449h,0240eh,0288eh,02492h,00c12h
    3183 00014f40     2d34     .word   02d34h,0148ah,039b8h,0041ch,0041bh,00c5dh,01076h,00c72h
    3184 00014fc0     2117     .word   02117h,00003h,0001bh,0001ch,04e9bh,0213ah,035bch,010b8h
    3185 00015040     529e     .word   0529eh,02d98h,00039h,0465eh,04232h,0465bh,00058h,0002ch
    3186 000150c0     0074     .word   00074h,00076h,00072h,056fch,0635fh,06f9fh,07bffh,073beh
    3187 00015140     31f0     .word   031f0h,04297h,02df1h,021d0h,014e8h,05b3ah,00c84h,04695h
    3188 000151c0     21ae     .word   021aeh,03632h,02dceh,0218ch,01108h,05af7h,035ceh,01529h
    3189 00015240     2529     .word   02529h,018c6h,00ca5h,0156ah,04673h,00842h,0216ah,06759h
    3190 000152c0     7fff     .word   07fffh,07bfeh,06f7bh,056a8h,07fe0h,07fe1h,07fe0h,07fe0h
    3191 00015340     7fe2     .word   07fe2h,07fcfh,07fc4h,07fc0h,07fc5h,07fc5h,07fa7h,07f8ah
    3192 000153c0     7b8a     .word   07b8ah,07b8ah,07b89h,07f83h,0776ah,0776ah,07f40h,0734bh
    3193 00015440     6f4b     .word   06f4bh,07f24h,06b27h,062c1h,0318ch,038e2h,01cc2h,00000h
    3194 000154c0     7bbd     .word   07bbdh,041efh,060a3h,066b5h,07083h,06c42h,07fffh,02108h
    3195                    
    3196 00015540           HEADER_XPOS_TABLE
    3197 00015540     0005          .WORD   5+0,5+96,5+195,5+291
    3198                    
    3199 00015580           TOPTEN_SOUND
    3200 00015580                   PUSH    A4
    3201 00015590     09c4          MOVI    S_TOPTEN_PLAYER,A4
         000155a0     010f  
    3202 000155b0     0d5f          CALLA   do_sound
         000155c0 00000000! 
    3203 000155e0                   PULLQ   A4
    3204 000155f0     0960          RETS
    3205                    
    3206                    **************************************************************************
    3207                    *                                                                        *
    3208                    * PLAYER_BUTTON_SKIP                                                     *
    3209                    *                                                                        *
    3210                    * PASS:                                                                  *
    3211                    * A8 = TIME TO WAIT TIL TIMEOUT                                          *
    3212                    * A9 = PLAYER NUMBER - 1 TO CHECK                                        *
    3213                    * RETURN:                                                                *
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   76

    3214                    * NUTIN'                                                                 *
    3215                    *                                                                        *
    3216                    **************************************************************************
    3217                    
    3218 00015600           PLAYER_BUTTON_SKIP
    3219 00015600     098c          MMTM    A12,A9,A10,A11
         00015610     0070  
    3220                    
    3221 00015620                   KITN    4
    3222 00015660     ca03          JREQ    PBS_GO                          ;BR=4 PLAYER KIT
    3223 00015670     4d29          MOVE    A9,A9
    3224 00015680     ca01          JRZ     PBS_GO                          ;PLAYER 1
    3225 00015690     1829          MOVK    1,A9                            ;PLAYER 2
    3226 000156a0           PBS_GO
    3227 000156a0     07aa          MOVE    @SWITCH,A10,L
         000156b0 01860000  
    3228 000156d0     03ea          NOT     A10
    3229 000156e0     09cb          MOVI    M_SW_T|M_SW_P|M_SW_S,A11        ;BUTTON MASK
         000156f0     0070  
    3230 00015700     4d2e          MOVE    A9,A14
    3231 00015710     246e          SLL     3,A14
    3232 00015720     63cb          SLL     A14,A11                         ;SET PLAYER BUTTON MASK
    3233 00015730     516a          AND     A11,A10                         ;GET CURRENT BUTTONS
    3234 00015740           PBS_LUPE
    3235 00015740                   SLEEP   1
    3236 00015780     07a0          MOVE    @SWITCH,A0,L                    ;GET NEW BUTTONS
         00015790 01860000  
    3237 000157b0     03e0          NOT     A0
    3238 000157c0     5160          AND     A11,A0                          ;MASK PLAYER BUTTONS
    3239 000157d0     4c01          MOVE    A0,A1
    3240                    
    3241 000157e0     5740          XOR     A10,A0                          ;CLEAR STUCK BUTTONS
    3242 000157f0     4c2a          MOVE    A1,A10
    3243 00015800     5001          AND     A0,A1                           ;CHECK FOR BUTTON PRESS
    3244 00015810     cb01          JRNZ    PBS_DONE                        ;BR=YEP!
    3245                    
    3246                    ;       JRUC    PBS_LUPE
    3247                    
    3248 00015820     3de8          DSJ     A8,PBS_LUPE                     ;BR=NO TIMEOUT YET
    3249 00015830           PBS_DONE
    3250 00015830     09ac          MMFM    A12,A9,A10,A11
         00015840     0e00  
    3251 00015850                   RETP
    3252                    
    3253                    
    3254                    **************************************************************************
    3255                    *                                                                        *
    3256                    * cc_az                                                                  *
    3257                    *                                                                        *
    3258                    **************************************************************************
    3259                    
    3260 00015880     0b4e  cc_az   cmpi    ' ',a14
         00015890     ffdf  
    3261 000158a0     ca03          jrz     ss_sp
    3262 000158b0     0bee          subi    'A',a14
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   77

         000158c0     ffbe  
    3263 000158d0     c001          jruc    ss_st
    3264 000158e0     1b4e  ss_sp   movk    26,a14
    3265 000158f0     0960  ss_st   rets
    3266                    
    3267                    **************************************************************************
    3268                    *                                                                        *
    3269                    * PENACHO_TO_ASCII                                                       *
    3270                    *                                                                        *
    3271                    **************************************************************************
    3272                    
    3273 00015900           PENACHO_TO_ASCII
    3274 00015900     0b4e          CMPI    26,A14
         00015910     ffe5  
    3275 00015920     c407          JRLT    PTA_ALPHA                       ;BR=DA ALPHABET
    3276 00015930     ca03          JREQ    PTA_SPACE                       ;BR=EMPTY SPACE
    3277 00015940     09ce          MOVI    '?',A14                         ;Q-MARK
         00015950     003f  
    3278 00015960     0960          RETS
    3279 00015970           PTA_SPACE
    3280 00015970     09ce          MOVI    ' ',A14
         00015980     0020  
    3281 00015990     0960          RETS
    3282 000159a0           PTA_ALPHA
    3283 000159a0     0b0e          ADDI    'A',A14
         000159b0     0041  
    3284 000159c0     0960          RETS
    3285                    
    3286                    **************************************************************************
    3287                    *                                                                        *
    3288                    * a9_to_a0                                                               *
    3289                    *                                                                        *
    3290                    **************************************************************************
    3291                    
    3292 000159d0           a9_to_a0_mod
    3293 000159d0     4d20          move    a9,a0
    3294 000159e0     2480          sll     4,a0
    3295 000159f0     0b20          addi    p4_to_8tab,a0
         00015a00 00015b60' 
    3296 00015a20     840e          move    *a0,a14,W
    3297 00015a30                   GBLOCK  a14,a0
    3298 00015a80     adc0          movb    a14,*a0(POF_NUMBER)
         00015a90     0000  
    3299 00015aa0     0960          rets
    3300 00015ab0           a9_to_a0
    3301 00015ab0     4d20          move    a9,a0
    3302 00015ac0     2480          sll     4,a0
    3303 00015ad0     0b20          addi    p4_to_8tab,a0
         00015ae0 00015b60' 
    3304 00015b00     8400          move    *a0,a0,W
    3305 00015b10                   GBLOCK  a0,a0
    3306 00015b50     0960          rets
    3307 00015b60           p4_to_8tab
    3308 00015b60     0001          .word   1,2,5,6
    3309                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   78

    3310                    
    3311 00015ba0           TOPTEN_MESS_INIT
    3312 00015ba0 000044a0"         .long   TOPTEN10
    3313 00015bc0     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    3314 00015be0     0004          .word   OM_ANIM
    3315 00015bf0 00015c10'         .long   TOPTEN_FLASH_ANIM
    3316                    
    3317 00015c10           TOPTEN_FLASH_ANIM
    3318 00015c10                   LWL     1,AFUNC|3,OBJ_ON
    3319 00015c60                   LWLLLL  1,AFUNC|3,A_2FUNCS+6,OBJ_CONST,A_Anim_DSJ,FULL_GAME_FLASH_ANIM
    3320 00015d10                   LWL     1,AFUNC|30,OBJ_ON
    3321 00015d60                   LWL     1,AFUNC|1,DELETE_OBJ
    3322                    
    3323 00015db0           NO_RECORD_STRING
    3324 00015db0       4e          .STRING "NO\nRECORD",0
    3325 00015e10                   .EVEN
    3326                    
    3327 00015e10           SPECIAL_CHAR_STRING
    3328 00015e10       53          .STRING "SPECIAL\nCHARACTER",0
    3329 00015eb0                   .EVEN
    3330                    
    3331 00015eb0           RANK_STRING
    3332 00015eb0       52          .STRING "RANK #%u",0
    3333 00015f00 00000000!         .LONG   b_rank
    3334 00015f20                   .EVEN
    3335                    
    3336 00015f20           RECORD_STRING
    3337 00015f20       25          .STRING "%u W - %u L - %u T",0
    3338 00015fc0 00000000!         .LONG   b_wins
    3339 00015fe0 00000000!         .LONG   b_losses
    3340 00016000 00000000!         .LONG   b_ties
    3341 00016020                   .EVEN
    3342                    
    3343                    ;WINS_STRING
    3344                    ;       .STRING "%u.%u%% WINS",0
    3345                    ;       .LONG   RAMTEMP1
    3346                    ;       .LONG   RAMTEMP2
    3347                    
    3348 00016020           PCTG_100_STRING
    3349 00016020       50          .STRING "PCTG: 1.000",0
    3350 00016080                   .EVEN
    3351                    
    3352 00016080           PCTG_STRING
    3353 00016080       50          .STRING "PCTG:  .%u%u%u",0
    3354 00016100 00000000!         .LONG   RAMTEMP1
    3355 00016120 00000000!         .LONG   RAMTEMP2
    3356 00016140 00000000!         .LONG   RAMTEMP3
    3357 00016160                   .EVEN
    3358                    
    3359 00016160           POINTS_STRING
    3360 00016160       25          .STRING "%u POINTS",0
    3361 000161b0 00000000!         .LONG   RAMTEMP1
    3362 000161d0                   .EVEN
    3363                    
    3364 000161d0           DEFEATED_STRING
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   79

    3365 000161d0       44          .STRING "DEFEATED",0
    3366 00016220                   .EVEN
    3367                    
    3368 00016220           SHUTOUT_STRING
    3369 00016220       53          .STRING "SHUTOUT",0
    3370 00016260                   .EVEN
    3371                    
    3372 00016260           LOST_STRING
    3373 00016260       4c          .STRING "LOST TO",0
    3374 000162a0                   .EVEN
    3375                    
    3376 000162a0           TIED_STRING
    3377 000162a0       54          .STRING "TIED",0
    3378 000162d0                   .EVEN
    3379                    
    3380 000162d0           LAST_STRING
    3381 000162d0       4c          .STRING "LAST MATCH\n\p%c\n( %c%c%c & %c%c%c )\n\p%p\n"
    3382 00016438       5c          .STRING "\p%c\n( %c%c%c & %c%c%c )\n\p%u - %u",0
    3383 00016560 00000000!         .LONG   BLUTXT3P        
    3384 00016580 00000000!         .LONG   RAMTEMP1
    3385 000165a0 00000000!         .LONG   b_initial1
    3386 000165c0 00000000!         .LONG   b_initial2
    3387 000165e0 00000000!         .LONG   b_initial3
    3388 00016600 00000000!         .LONG   b_teammate_initial1
    3389 00016620 00000000!         .LONG   b_teammate_initial2
    3390 00016640 00000000!         .LONG   b_teammate_initial3
    3391 00016660 00000000!         .LONG   FONTGRYP
    3392 00016680 00000000!         .LONG   RAMTEMP3
    3393 000166a0 00000000!         .LONG   REDTXT3P        
    3394 000166c0 00000000!         .LONG   RAMTEMP2
    3395 000166e0 00000000!         .LONG   b_opp1_initial1
    3396 00016700 00000000!         .LONG   b_opp1_initial2
    3397 00016720 00000000!         .LONG   b_opp1_initial3
    3398 00016740 00000000!         .LONG   b_opp2_initial1
    3399 00016760 00000000!         .LONG   b_opp2_initial2
    3400 00016780 00000000!         .LONG   b_opp2_initial3
    3401                    ;       .LONG   FONTGRYP
    3402 000167a0 00000000!         .LONG   ORGTXT1P
    3403 000167c0 00000000!         .LONG   b_last_score1
    3404 000167e0 00000000!         .LONG   b_last_score2
    3405 00016800                   .EVEN
    3406                    
    3407 00016800           NO_DEFEATS_STRING
    3408 00016800       59          .STRING "YOU HAVE\nDEFEATED\nNONE OF THE\n26 NHL TEAMS.",0
    3409 00016980                   .EVEN
    3410                    
    3411 00016980           ALL_DEFEATS_STRING
    3412                    ;       .STRING "YOU HAVE\nDEFEATED\nALL OF THE\n26 NHL TEAMS!",0
    3413 00016980       41          .STRING "ALL 26\nNHL\nTEAMS\nHAVE\nBEEN\nDEFEATED!",0
    3414 00016ad0                   .EVEN
    3415                    
    3416 00016ad0           DEFEATS_STRING
    3417                    ;       .STRING "YOU HAVE\n\fDEFEATED\n\f%u OF THE\n\f26 NHL TEAMS :",0
    3418                    ;       .LONG   [-4,0]
    3419                    ;       .LONG   [-8,0]
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   80

    3420                    ;       .LONG   RAMTEMP1
    3421                    ;       .LONG   [-12,0]
    3422                    
    3423                    ;       .STRING "YOU HAVE\n\fDEFEATED :",0
    3424 00016ad0       54          .STRING "TEAMS\n\fDEFEATED :",0
    3425 00016b70 fffc0000          .LONG   [-4,0]
    3426 00016b90                   .EVEN
    3427                    
    3428 00016b90           MUST_PLAY_STRING
    3429 00016b90       54          .STRING "TEAMS\n\fTO BEAT :",0
    3430 00016c30 fffc0000          .LONG   [-4,0]
    3431 00016c50                   .EVEN
    3432                    
    3433                    ;TOTAL_DEFEATS_STRING
    3434 00016c50           WINS_TO_CUP_STRING
    3435                    ;       .STRING "%u OF THE 26\n\fNHL TEAMS",0
    3436                    ;       .STRING "DEFEATED\n\f%u OUT OF 26",0
    3437 00016c50       25          .STRING "%u WINS\n\fTO THE CUP !"
    3438 00016d10 00000000!         .LONG   RAMTEMP1
    3439 00016d30 fffc0000          .LONG   [-4,0]
    3440                    ;       .LONG   RAMTEMP1
    3441 00016d50                   .EVEN
    3442                    
    3443 00016d50           STAN_CUP_STRING
    3444                    ;       .STRING "STANLEY CUP\n\fGAME NEXT !",0
    3445 00016d50       31          .STRING "1 WIN\n\fTO THE CUP !",0
    3446 00016e00 fffc0000          .LONG   [-4,0]
    3447 00016e20                   .EVEN
    3448                    
    3449                    
    3450                    
    3451                    ;**************************************************************************
    3452                    ;*                                                                       *
    3453                    ;* DISPLAY_TABLE                                                                 *
    3454                    ;*                                                                       *
    3455                    ;* PASS:                                                                         *
    3456                    ;*                                                                       *
    3457                    ;* A1  = NUMBER OF TABLE ELEMENTS                                        *
    3458                    ;* A5  = STRING TABLE                                                    *
    3459                    ;* A6  = X SPACING BETWEEN ENTRIES                                       *
    3460                    ;* A9  = UPPER LEFT [Y,X] POSITION (X SHOULD BE LESS BY A7)              *
    3461                    ;* A10 = Y SPACING BETWWEN ENTRIES << 16                                         *
    3462                    ;* A11 = X DISTANCE FROM RIGHT TO LEFT ENTRIES                           *
    3463                    ;* B1  = OID                                                             *
    3464                    ;*                                                                       *
    3465                    ;**************************************************************************
    3466                    ;
    3467                    ;DISPLAY_TABLE
    3468                    ;       PUSHP   A6
    3469                    ;       MOVE    A6,A7
    3470                    ;       CLR     A0
    3471                    ;DT_LUPE
    3472                    ;       MOVE    *A5+,A8,L
    3473                    ;
    3474                    ;       BTST    0,A8
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   81

    3475                    ;       JRZ     DT_NEXT_X
    3476                    ;
    3477                    ;       SRL     1,A8
    3478                    ;       SLL     1,A8
    3479                    ;
    3480                    ;       SUBXY   A11,A9
    3481                    ;       ADDXY   A10,A9
    3482                    ;DT_NEXT_X
    3483                    ;       ADDXY   A7,A9
    3484                    ;
    3485                    ;       MMTM    A12,A0,A1,A5,A7,A9,A10,A11
    3486                    ;
    3487                    ;       CLR     A0                              ;NO SLEEP TIL
    3488                    ;;      MOVI    STRCNRMO,A1                     ;ROUTINE
    3489                    ;;      MOVI    COLOR_PBLACK,A5                 ;[COLOR,PALETTE]
    3490                    ;;      MOVK    1,A10                           ;[Y,X] SPACING
    3491                    ;;      MOVI    RD15FONT,A11                    ;FONT
    3492                    ;       MOVI    STRCNCONV,A1                    ;ROUTINE
    3493                    ;       MOVI    HFPAL,A5                        ;[COLOR,PALETTE]
    3494                    ;       MOVI    [0,-2],A10                              ;[Y,X] SPACING
    3495                    ;       MOVI    H18TFONT,A11                    ;FONT
    3496                    ;
    3497                    ;       JSRP    PRINTF
    3498                    ;
    3499                    ;       MMFM    A12,A0,A1,A5,A7,A9,A10,A11
    3500                    ;
    3501                    ;       INC     A0
    3502                    ;       CMP     A1,A0
    3503                    ;       JRNE    DT_LUPE                         ;BR=NOT FINISHED
    3504                    ;DT_DONE
    3505                    ;       PULLPQ  A6
    3506                    ;       RETP
    3507                    
    3508                    
    3509 00016e20           ALPHABET_INIT
    3510 00016e20 00004800"         .long   ALPHABET
    3511 00016e40     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOSCALE|M_NOVEL
    3512 00016e60     0000          .word   0
    3513                    
    3514 00016e70           MONTHS_INIT
    3515 00016e70 00004890"         .long   MONTHS
    3516 00016e90     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOSCALE|M_NOVEL
    3517 00016eb0     0000          .word   0
    3518                    
    3519 00016ec0           DAYS_INIT
    3520 00016ec0 00004920"         .long   DAYS
    3521 00016ee0     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOSCALE|M_NOVEL
    3522 00016f00     0000          .word   0
    3523                    
    3524 00016f10           DAY30_INIT
    3525 00016f10 000049b0"         .long   DAY30
    3526 00016f30     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOSCALE|M_NOVEL
    3527 00016f50     0000          .word   0
    3528                    
    3529 00016f60           DAY31_INIT
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   82

    3530 00016f60 00004a40"         .long   DAY31
    3531 00016f80     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOSCALE|M_NOVEL
    3532 00016fa0     0000          .word   0
    3533                    
    3534                    
    3535 00016fb0           MONTH_SIZE_TABLE
    3536 00016fb0     001f          .WORD   31,29,31,30,31,30
    3537 00017010     001f          .WORD   31,31,30,31,30,31
    3538                    
    3539 00017070           A_XPOS_TABLE
    3540 00017070     000e          .WORD   14,110,209,305
    3541                    
    3542 000170b0           JAN_XPOS_TABLE
    3543 000170b0     000d          .WORD   13,109,208,304
    3544                    
    3545 000170f0           DAY1_XPOS_TABLE
    3546 000170f0     000d          .WORD   13,109,208,304
    3547                    
    3548 00017130           PLAYER_OID_TABLE
    3549 00017130     0910          .WORD   OID_PLAYER_1,OID_PLAYER_2,OID_PLAYER_5,OID_PLAYER_6
    3550                    
    3551 00017170           PLAYER_OID2_TABLE
    3552 00017170     0301          .WORD   OID_TURBO_1,OID_TURBO_2,OID_TURBO_5,OID_TURBO_6
    3553                    
    3554 000171b0           PLAYER_OID3_TABLE
    3555 000171b0     0311          .WORD   OID_TURBOBAR_1,OID_TURBOBAR_2,OID_TURBOBAR_5,OID_TURBOBAR_6
    3556                    
    3557                    ;PLAYER_OID4_TABLE
    3558                    ;       .WORD   OID_TURBONAME_1,OID_TURBONAME_2,OID_TURBONAME_5,OID_TURBONAME_6
    3559                    
    3560                    ;PLAYER_PID_TABLE
    3561                    ;       .WORD   PID_PLAYER_1,PID_PLAYER_2,PID_PLAYER_5,PID_PLAYER_6
    3562                    
    3563                    ;PLAYER_PID2_TABLE
    3564                    ;       .WORD   PID_PLAYER_1_MESS,PID_PLAYER_2_MESS
    3565                    ;       .WORD   PID_PLAYER_5_MESS,PID_PLAYER_6_MESS
    3566                    
    3567 000171f0           ALPHA_TABLE
    3568 000171f0 00017ad0'         .LONG   A_STR,B_STR,C_STR,D_STR
    3569 00017270 00017b11'         .LONG   E_STR+1,F_STR,G_STR,H_STR
    3570 000172f0 00017b51'         .LONG   I_STR+1,J_STR,K_STR,L_STR
    3571 00017370 00017b91'         .LONG   M_STR+1,N_STR,O_STR,P_STR
    3572 000173f0 00017bd1'         .LONG   Q_STR+1,R_STR,S_STR,T_STR
    3573 00017470 00017c11'         .LONG   U_STR+1,V_STR,W_STR,X_STR
    3574 000174f0 00017c51'         .LONG   Y_STR+1,Z_STR,SP_STR,RUB_STR
    3575                    
    3576                    ;A_INIT
    3577                    ;       .long   FONT15A
    3578                    ;       .word   DMAWNZ,M_SCRNOBJ|M_NOVEL
    3579                    ;       .word   0
    3580                    
    3581 00017570           MONTH_TABLE
    3582 00017570 00017ca0'         .LONG   JAN_STR,FEB_STR,MAR_STR+1,APR_STR,MAY_STR+1,JUN_STR
    3583 00017630 00017d61'         .LONG   JUL_STR+1,AUG_STR,SEP_STR+1,OCT_STR,NOV_STR+1,DEC_STR
    3584                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   83

    3585                    
    3586 000176f0           DAY_TABLE
    3587 000176f0 00017e20'         .LONG   DAY1_STR,DAY2_STR,DAY3_STR,DAY4_STR
    3588 00017770 00017e61'         .LONG   DAY5_STR+1,DAY6_STR,DAY7_STR,DAY8_STR
    3589 000177f0 00017ea1'         .LONG   DAY9_STR+1,DAY10_STR,DAY11_STR,DAY12_STR
    3590 00017870 00017ef9'         .LONG   DAY13_STR+1,DAY14_STR,DAY15_STR,DAY16_STR
    3591 000178f0 00017f59'         .LONG   DAY17_STR+1,DAY18_STR,DAY19_STR,DAY20_STR
    3592 00017970 00017fb9'         .LONG   DAY21_STR+1,DAY22_STR,DAY23_STR,DAY24_STR
    3593 000179f0 00018019'         .LONG   DAY25_STR+1,DAY26_STR,DAY27_STR,DAY28_STR
    3594 00017a70 00018079'         .LONG   DAY29_STR+1,DAY30_STR,DAY31_STR
    3595                    
    3596 00017ad0           A_STR
    3597 00017ad0       41          .STRING "A",0
    3598 00017ae0           B_STR
    3599 00017ae0       42          .STRING "B",0
    3600 00017af0           C_STR
    3601 00017af0       43          .STRING "C",0
    3602 00017b00           D_STR
    3603 00017b00       44          .STRING "D",0
    3604 00017b10           E_STR
    3605 00017b10       45          .STRING "E",0
    3606 00017b20           F_STR
    3607 00017b20       46          .STRING "F",0
    3608 00017b30           G_STR
    3609 00017b30       47          .STRING "G",0
    3610 00017b40           H_STR
    3611 00017b40       48          .STRING "H",0
    3612 00017b50           I_STR
    3613 00017b50       49          .STRING "I",0
    3614 00017b60           J_STR
    3615 00017b60       4a          .STRING "J",0
    3616 00017b70           K_STR
    3617 00017b70       4b          .STRING "K",0
    3618 00017b80           L_STR
    3619 00017b80       4c          .STRING "L",0
    3620 00017b90           M_STR
    3621 00017b90       4d          .STRING "M",0
    3622 00017ba0           N_STR
    3623 00017ba0       4e          .STRING "N",0
    3624 00017bb0           O_STR
    3625 00017bb0       4f          .STRING "O",0
    3626 00017bc0           P_STR
    3627 00017bc0       50          .STRING "P",0
    3628 00017bd0           Q_STR
    3629 00017bd0       51          .STRING "Q",0
    3630 00017be0           R_STR
    3631 00017be0       52          .STRING "R",0
    3632 00017bf0           S_STR
    3633 00017bf0       53          .STRING "S",0
    3634 00017c00           T_STR
    3635 00017c00       54          .STRING "T",0
    3636 00017c10           U_STR
    3637 00017c10       55          .STRING "U",0
    3638 00017c20           V_STR
    3639 00017c20       56          .STRING "V",0
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   84

    3640 00017c30           W_STR
    3641 00017c30       57          .STRING "W",0
    3642 00017c40           X_STR
    3643 00017c40       58          .STRING "X",0
    3644 00017c50           Y_STR
    3645 00017c50       59          .STRING "Y",0
    3646 00017c60           Z_STR
    3647 00017c60       5a          .STRING "Z",0
    3648 00017c70           SP_STR
    3649 00017c70       5d          .BYTE   93,0
    3650 00017c80           RUB_STR
    3651 00017c80       5e          .BYTE   94,0
    3652 00017c90           SPACE_STR
    3653 00017c90       20          .STRING " ",0
    3654                    
    3655 00017ca0           JAN_STR
    3656 00017ca0       4a          .STRING "JAN",0
    3657 00017cc0           FEB_STR
    3658 00017cc0       46          .STRING "FEB",0
    3659 00017ce0           MAR_STR
    3660 00017ce0       4d          .STRING "MAR",0
    3661 00017d00           APR_STR
    3662 00017d00       41          .STRING "APR",0
    3663 00017d20           MAY_STR
    3664 00017d20       4d          .STRING "MAY",0
    3665 00017d40           JUN_STR
    3666 00017d40       4a          .STRING "JUN",0
    3667 00017d60           JUL_STR
    3668 00017d60       4a          .STRING "JUL",0
    3669 00017d80           AUG_STR
    3670 00017d80       41          .STRING "AUG",0
    3671 00017da0           SEP_STR
    3672 00017da0       53          .STRING "SEP",0
    3673 00017dc0           OCT_STR
    3674 00017dc0       4f          .STRING "OCT",0
    3675 00017de0           NOV_STR
    3676 00017de0       4e          .STRING "NOV",0
    3677 00017e00           DEC_STR
    3678 00017e00       44          .STRING "DEC",0
    3679                    
    3680 00017e20           DAY1_STR
    3681 00017e20       31          .STRING "1",0
    3682 00017e30           DAY2_STR
    3683 00017e30       32          .STRING "2",0
    3684 00017e40           DAY3_STR
    3685 00017e40       33          .STRING "3",0
    3686 00017e50           DAY4_STR
    3687 00017e50       34          .STRING "4",0
    3688 00017e60           DAY5_STR
    3689 00017e60       35          .STRING "5",0
    3690 00017e70           DAY6_STR
    3691 00017e70       36          .STRING "6",0
    3692 00017e80           DAY7_STR
    3693 00017e80       37          .STRING "7",0
    3694 00017e90           DAY8_STR
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   85

    3695 00017e90       38          .STRING "8",0
    3696 00017ea0           DAY9_STR
    3697 00017ea0       39          .STRING "9",0
    3698 00017eb0           DAY10_STR
    3699 00017eb0       31          .STRING "10",0
    3700 00017ec8           DAY11_STR
    3701 00017ec8       31          .STRING "11",0
    3702 00017ee0           DAY12_STR
    3703 00017ee0       31          .STRING "12",0
    3704 00017ef8           DAY13_STR
    3705 00017ef8       31          .STRING "13",0
    3706 00017f10           DAY14_STR
    3707 00017f10       31          .STRING "14",0
    3708 00017f28           DAY15_STR
    3709 00017f28       31          .STRING "15",0
    3710 00017f40           DAY16_STR
    3711 00017f40       31          .STRING "16",0
    3712 00017f58           DAY17_STR
    3713 00017f58       31          .STRING "17",0
    3714 00017f70           DAY18_STR
    3715 00017f70       31          .STRING "18",0
    3716 00017f88           DAY19_STR
    3717 00017f88       31          .STRING "19",0
    3718 00017fa0           DAY20_STR
    3719 00017fa0       32          .STRING "20",0
    3720 00017fb8           DAY21_STR
    3721 00017fb8       32          .STRING "21",0
    3722 00017fd0           DAY22_STR
    3723 00017fd0       32          .STRING "22",0
    3724 00017fe8           DAY23_STR
    3725 00017fe8       32          .STRING "23",0
    3726 00018000           DAY24_STR
    3727 00018000       32          .STRING "24",0
    3728 00018018           DAY25_STR
    3729 00018018       32          .STRING "25",0
    3730 00018030           DAY26_STR
    3731 00018030       32          .STRING "26",0
    3732 00018048           DAY27_STR
    3733 00018048       32          .STRING "27",0
    3734 00018060           DAY28_STR
    3735 00018060       32          .STRING "28",0
    3736 00018078           DAY29_STR
    3737 00018078       32          .STRING "29",0
    3738 00018090           DAY30_STR
    3739 00018090       33          .STRING "30",0
    3740 000180a8           DAY31_STR
    3741 000180a8       33          .STRING "31",0
    3742 000180c0                   .EVEN
    3743                    
    3744                    **************************************************************************
    3745                    *                                                                        *
    3746                    * TEAM_SELECT_PROC                                                       *
    3747                    *                                                                        *
    3748                    * PASS:                                                                  *
    3749                    * A9  = PLAYER NUMBER - 1                                                *
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   86

    3750                    *                                                                        *
    3751                    **************************************************************************
    3752                    
    3753              0100  PTEAMNAME_OBJ   EQU     PDATA                   ;UHL TEAM NAME OBJECT
    3754              0120  PLOGO_OBJ       EQU     PDATA+0020H             ;UHL LOGO OBJECT
    3755              0140  PLEFTMUG_OBJ    EQU     PDATA+0040H             ;UHL LEFT MUG SHOT OBJECT
    3756              0160  PRGHTMUG_OBJ    EQU     PDATA+0060H             ;UHL RIGHT MUG SHOT OBJECT
    3757              0180  PLEFTNAME_OBJ   EQU     PDATA+0080H             ;UHL LEFT NAME OBJECT
    3758              01a0  PRGHTNAME_OBJ   EQU     PDATA+00A0H             ;UHL RIGHT NAME OBJECT
    3759              01c0  PLEFTATTR_OBJ   EQU     PDATA+00C0H             ;UHL LEFT ATTRIBUTE HEAD OBJECT
    3760              01e0  PRGHTATTR_OBJ   EQU     PDATA+00E0H             ;UHL RIGHT ATTRIBUTE HEAD OBJECT
    3761              0200  PGBODY_OBJ      EQU     PDATA+0100H             ;UHL GOALIE BODY OBJECT
    3762              0220  PGHEAD_OBJ      EQU     PDATA+0120H             ;UHL GOALIE HEAD OBJECT
    3763                    ;PSWAP          EQU     PDATA+0140H             ;UHL SWAP INDEX COUNT
    3764              0260  PTEAMMATE       EQU     PDATA+0160H             ;UHW TEAMMATE PLAYER NUMBER - 1
    3765              0270  PARROW          EQU     PDATA+0170H             ;UHL ARROW POINTER OBJECT
    3766                    
    3767              04b0  OMUGPOS         EQU     ODATA                   ;UHL [Y,X] MUG POSITION
    3768                    
    3769 000180c0           TEAM_SELECT_PROC
    3770 000180c0     09ea          MOVI    TEAM_SELECT_LEFT_POS_TABLE,A10
         000180d0 0001a010' 
    3771 000180f0     09c0          MOVI    OID_TURBOBAR_1,A0
         00018100     0311  
    3772 00018110     09c1          MOVI    OID_TURBOBAR_2,A1
         00018120     0312  
    3773                    
    3774 00018130     05a5          MOVE    @NPLAYERS,A5,W
         00018140 00000000! 
    3775 00018160     1485          SUBK    4,A5
    3776 00018170     ca03          JRZ     TSP_CHECK_4P                    ;BR=4 PLAYER KIT
    3777                    
    3778 00018180     4d29          MOVE    A9,A9
    3779 00018190     ca0a          JRZ     TSP_GO                          ;BR=PLAYER 1
    3780 000181a0     c002          JRUC    TSP_RIGHT_TABLE                 ;PLAYER 2
    3781                    
    3782 000181b0           TSP_CHECK_4P
    3783                    
    3784 000181b0     1fc9          BTST    1,A9
    3785 000181c0     ca07          JRZ     TSP_GO                          ;BR=PLAYER 1 OR 2
    3786 000181d0           TSP_RIGHT_TABLE
    3787 000181d0     09ea          MOVI    TEAM_SELECT_RGHT_POS_TABLE,A10
         000181e0 0001a230' 
    3788 00018200     09c0          MOVI    OID_TURBOBAR_5,A0
         00018210     0315  
    3789 00018220     09c1          MOVI    OID_TURBOBAR_6,A1
         00018230     0316  
    3790                    
    3791 00018240           TSP_GO
    3792 00018240     0d5f          CALLA   KILOBJ_ALL
         00018250 00000000! 
    3793 00018270     4c20          MOVE    A1,A0
    3794 00018280     0d5f          CALLA   KILOBJ_ALL
         00018290 00000000! 
    3795                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   87

    3796 000182b0     09f0          MOVI    TEAM_NAME_INIT,B0
         000182c0 0001ac70' 
    3797 000182e0     0d5f          CALLA   EASYMAKE
         000182f0 00000000! 
    3798 00018310     b30d          MOVE    A8,*A13(PTEAMNAME_OBJ),L
         00018320     0100  
    3799 00018330     9741          MOVE    *A10+,A1,L
    3800 00018340     5642          CLR     A2
    3801 00018350     0d5f          CALLA   SET_SCRNOBJ
         00018360 00000000! 
    3802 00018380     0d5f          CALLA   INSERT_OBJ
         00018390 00000000! 
    3803                    
    3804 000183b0     09f0          MOVI    LOGO_INIT,B0
         000183c0 0001acd0' 
    3805 000183e0     0d5f          CALLA   EASYMAKE
         000183f0 00000000! 
    3806 00018410     b30d          MOVE    A8,*A13(PLOGO_OBJ),L
         00018420     0120  
    3807 00018430     9741          MOVE    *A10+,A1,L
    3808 00018440     1862          MOVK    3,A2
    3809 00018450     0d5f          CALLA   SET_SCRNOBJ
         00018460 00000000! 
    3810 00018480     0d5f          CALLA   INSERT_OBJ
         00018490 00000000! 
    3811                    
    3812 000184b0     0d3f          CALLR   SETUP_PLAYERS
         000184c0     00e2  
    3813                    
    3814 000184d0     09f0          MOVI    DUMMY_INIT,B0                   ;GOALIE BODY
         000184e0 0001af10' 
    3815 00018500     0d5f          CALLA   EASYMAKE
         00018510 00000000! 
    3816 00018530     b30d          MOVE    A8,*A13(PGBODY_OBJ),L
         00018540     0200  
    3817                    
    3818                    ;       MOVI    ANIM_GSTAND_8,A6        
    3819 00018550     09e6          MOVI    ANIM_GSWAY,A6   
         00018560 00000000! 
    3820 00018580     09e4          MOVI    DMAWNZ,A4                       
         00018590 00008002  
    3821 000185b0     0b49          CMPI    1,A9
         000185c0     fffe  
    3822 000185d0     c703          JRGT    TSP_BODY_SET_POS                ;BR=ON THE LEFT, DON'T FLIP
    3823                    ;       MOVI    ANIM_GSTAND_2,A6
    3824 000185e0     0ba4          ORI     M_FLIPH,A4                      ;ON THE RIGHT
         000185f0 00000010  
    3825 00018610           TSP_BODY_SET_POS
    3826 00018610     b088          MOVE    A4,*A8(OCTRL),W
         00018620     01f0  
    3827                    ;       MOVI    GST12F01,A1
    3828 00018630     09e1          MOVI    GST32F01,A1
         00018640 00000000! 
    3829 00018660     0d5f          CALLA   ANI
         00018670 00000000! 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   88

    3830                    
    3831 00018690     8741          MOVE    *A10,A1,L
    3832 000186a0     09c2          MOVI    -20,A2
         000186b0     ffec  
    3833 000186c0     0d5f          CALLA   SET_SCRNOBJ
         000186d0 00000000! 
    3834                    
    3835 000186f0     0d5f          CALLA   INSERT_OBJ
         00018700 00000000! 
    3836 00018720     4d07          MOVE    A8,A7                           ;SAVE "HEAD" OBJECT
    3837                    
    3838 00018730     09f0          MOVI    DUMMY_INIT,B0                   ;GOALIE HEAD
         00018740 0001af10' 
    3839 00018760     0d5f          CALLA   EASYMAKE
         00018770 00000000! 
    3840                    
    3841 00018790     b2e7          MOVE    A7,*A7(OPART1),L                ;LINK HEAD TO BODY (MULTIPART)
         000187a0     00a0  
    3842 000187b0     b2e8          MOVE    A7,*A8(OPART1),L
         000187c0     00a0  
    3843 000187d0     b307          MOVE    A8,*A7(OPARTS),L
         000187e0     00c0  
    3844                    
    3845 000187f0     b30d          MOVE    A8,*A13(PGHEAD_OBJ),L
         00018800     0220  
    3846                    
    3847 00018810     09e4          MOVI    DMAWNZ,A4                       
         00018820 00008002  
    3848 00018840     0b49          CMPI    2,A9
         00018850     fffd  
    3849 00018860     c403          JRLT    TSP_HEAD_SET_POS                ;BR=ON THE LEFT, DON'T FLIP
    3850 00018870     0ba4          ORI     M_FLIPH,A4                      ;ON THE RIGHT
         00018880 00000010  
    3851 000188a0           TSP_HEAD_SET_POS
    3852 000188a0     b088          MOVE    A4,*A8(OCTRL),W
         000188b0     01f0  
    3853 000188c0     09e1          MOVI    WARMSK2,A1
         000188d0 00000000! 
    3854 000188f0     0d5f          CALLA   ANI
         00018900 00000000! 
    3855                    
    3856 00018920     09e4          MOVI    02610261H,A4
         00018930 02610261  
    3857 00018950     b288          MOVE    A4,*A8(OSCALE),L
         00018960     02a0  
    3858 00018970     2a04          SRA     16,A4
    3859                    
    3860 00018980     b70e          MOVE    *A8(OANIOFF),A14,L              ;SCALE ANIMP
         00018990     01c0  
    3861 000189a0     4dc1          MOVE    A14,A1
    3862 000189b0     2601          SLL     16,A1
    3863 000189c0     2b01          SRA     16-8,A1
    3864 000189d0     5881          DIVS    A4,A1                           ;SCALE X ANIMP
    3865 000189e0     ec2e          MOVX    A1,A14
    3866 000189f0     4dc1          MOVE    A14,A1
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   89

    3867 00018a00     2a01          SRA     16,A1
    3868 00018a10     2501          SLL     8,A1
    3869 00018a20     5881          DIVS    A4,A1                           ;SCALE Y ANIMP
    3870 00018a30     2601          SLL     16,A1
    3871 00018a40     ee2e          MOVY    A1,A14
    3872 00018a50     b3c8          MOVE    A14,*A8(OANIOFF),L
         00018a60     01c0  
    3873 00018a70     0d5f          CALLA   A_UPDATE_SEL_HEAD_POS
         00018a80 00019e30' 
    3874                    
    3875 00018aa0     0d5f          CALLA   INSERT_OBJ
         00018ab0 00000000! 
    3876                    
    3877 00018ad0     09e1          MOVI    SELECT_HEAD_ANIM,A1
         00018ae0 00019fa0' 
    3878 00018b00     0d5f          CALLA   STRT_ANIM
         00018b10 00000000! 
    3879                    
    3880 00018b30     4cc1          MOVE    A6,A1
    3881 00018b40     4ce8          MOVE    A7,A8
    3882 00018b50     0d5f          CALLA   STRT_ANIM                       ;BODY ANIMATION
         00018b60 00000000! 
    3883                    
    3884 00018b80     1b41          MOVK    26,A1
    3885 00018b90     1882          MOVK    4,A2
    3886                    
    3887 00018ba0     09e4          MOVI    team1,A4
         00018bb0 00000000! 
    3888 00018bd0     09e6          MOVI    TEAM1_SWAP,A6
         00018be0 00000000! 
    3889                    
    3890 00018c00     4ca5          MOVE    A5,A5
    3891 00018c10     ca06          JRZ     TSP_4P                          ;BR=4 PLAYER KIT
    3892                    
    3893 00018c20     4d23          MOVE    A9,A3                           ;2 PLAYER KIT (START ON CHICAGO)
    3894 00018c30     ca0f          JRZ     TSP_PICK                        ;BR=PLAYER 1
    3895 00018c40     09e4          MOVI    team2,A4
         00018c50 00000000! 
    3896 00018c70     c004          JRUC    TSP_BOSTON                      ;PLAYER 2
    3897 00018c80           TSP_4P
    3898 00018c80     5663          CLR     A3                              ;START ON CHICAGO
    3899 00018c90     0b49          CMPI    3-1,A9
         00018ca0     fffd  
    3900 00018cb0     c407          JRLT    TSP_PICK                        ;BR=LEFT TEAM MEMBER
    3901 00018cc0           TSP_BOSTON
    3902 00018cc0     1863          MOVK    3,A3                            ;START ON BOSTON
    3903                    ;       MOVK    8,A3                            ;START ON DETROIT
    3904 00018cd0     09e4          MOVI    team2,A4
         00018ce0 00000000! 
    3905 00018d00     09e6          MOVI    TEAM2_SWAP,A6
         00018d10 00000000! 
    3906 00018d30           TSP_PICK
    3907                    
    3908 00018d30     57ce          CLR     A14
    3909 00018d40     b1cd          MOVE    A14,*A13(PSWAP),W               ;CLEAR SWAP
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   90

         00018d50     0240  
    3910                    
    3911 00018d60     05ae          MOVE    @NPLAYERS,A14,W
         00018d70 00000000! 
    3912 00018d90     148e          SUBK    4,A14
    3913 00018da0     ce05          JRN     TSP_SET_TEAMMATE                ;BR=NOT 4 PLAYER KIT
    3914                    
    3915 00018db0     182e          MOVK    1,A14
    3916 00018dc0     1fe9          BTST    0,A9
    3917 00018dd0     ca01          JRZ     TSP_OFFSET_TEAMMATE             ;BR=PLAYER ON LEFT OF TEAM
    3918 00018de0     144e          SUBK    2,A14                           ;PLAYER ON RIGHT OF TEAM
    3919 00018df0           TSP_OFFSET_TEAMMATE
    3920 00018df0     412e          ADD     A9,A14
    3921 00018e00           TSP_SET_TEAMMATE
    3922 00018e00     b1cd          MOVE    A14,*A13(PTEAMMATE),W           ;TEAMMATE PLAYER NUMBER - 1
         00018e10     0260  
    3923                    
    3924 00018e20     07ae          MOVE    @TEAM_SELECT_STARTIRQ,A14,L
         00018e30 00000240- 
    3925 00018e50     cb05          JRNZ    TSP_PICK_ENTRY                  ;BR=NOT FIRST TEAM SELECTED
    3926 00018e60     07c0          MOVE    @WAVEIRQS,@TEAM_SELECT_STARTIRQ,L
         00018e70 00000000! 
         00018e90 00000240- 
    3927 00018eb0           TSP_PICK_ENTRY
    3928 00018eb0     574a          CLR     A10
    3929 00018ec0     09eb          MOVI    TEAM_ARRAY,A11
         00018ed0 0001a450' 
    3930 00018ef0     5610          CLR     B0
    3931 00018f00     098c          MMTM    A12,A4,A6
         00018f10     0a00  
    3932 00018f20                   JSRP    PICK_ENTRY
    3933 00018f90     09ac          MMFM    A12,A4,A6
         00018fa0     0050  
    3934                    
    3935 00018fb0     07ee          MOVB    @TEAM_SELECTED_BITS,A14                 ;DISABLE SIDE SWAPPIN'
         00018fc0 00000018- 
    3936 00018fe0     0bae          ORI     010000B,A14
         00018ff0 00000010  
    3937 00019010     05ee          MOVB    A14,@TEAM_SELECTED_BITS
         00019020 00000018- 
    3938                    
    3939 00019040     2481          SLL     4,A1
    3940 00019050     0b21          ADDI    TEAM_REMAP_TABLE,A1
         00019060 0001aad0' 
    3941 00019080     8420          MOVE    *A1,A0,W
    3942 00019090     8004          MOVE    A0,*A4,W                        ;SET TEAM
    3943 000190a0     8046          MOVE    A2,*A6,W                        ;SET TEAM SWAP
    3944                    
    3945 000190b0     0b00          ADDI    AUD_BRUINS-1,A0
         000190c0     002a  
    3946 000190d0     0d5f          CALLA   AUD1
         000190e0 00000000! 
    3947                    
    3948 00019100     b7a8          MOVE    *A13(PGBODY_OBJ),A8,L
         00019110     0200  
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   91

    3949 00019120     09e1          MOVI    ANIM_GSMACK,A1
         00019130 00000000! 
    3950 00019150     0d5f          CALLA   STRT_ANIM
         00019160 00000000! 
    3951                    
    3952 00019180                   SLEEP   SELECT_FLASH_ONTIME*SELECT_FLASHES*2
    3953 000191c0                   SLEEP   15
    3954                    
    3955 00019200     182e          MOVK    1,A14                           ;FLAG PLAYER DONE
    3956 00019210     632e          SLL     A9,A14
    3957 00019220     07e0          MOVB    @TEAM_SELECTED_BITS,A0
         00019230 00000018- 
    3958 00019250     0b80          ANDI    01111B,A0                       ;TOSS OUT BIT 5
         00019260 fffffff0  
    3959 00019280     55c0          OR      A14,A0
    3960 00019290     05e0          MOVB    A0,@TEAM_SELECTED_BITS
         000192a0 00000018- 
    3961                    
    3962 000192c0                   DIE
    3963                    
    3964                    **************************************************************************
    3965                    *                                                                        *
    3966                    * SETUP_PLAYERS                                                          *
    3967                    *                                                                        *
    3968                    * PASS:                                                                  *
    3969                    * A10 = POSITION TABLE OFFSET TO LEFT MUG ENTRY                          *
    3970                    * A13 = PROCESS                                                          *
    3971                    *                                                                        *
    3972                    * RETURN:                                                                *
    3973                    * NUTIN'                                                                 *
    3974                    *                                                                        *
    3975                    **************************************************************************
    3976                    
    3977 000192f0           SETUP_PLAYERS
    3978 000192f0     09f0          MOVI    LEFT_MUG_INIT,B0                ;LEFT MUG SHOT
         00019300 0001ad30' 
    3979 00019320     0d5f          CALLA   EASYMAKE
         00019330 00000000! 
    3980 00019350     b30d          MOVE    A8,*A13(PLEFTMUG_OBJ),L
         00019360     0140  
    3981 00019370     9741          MOVE    *A10+,A1,L
    3982 00019380     b228          MOVE    A1,*A8(OMUGPOS),L
         00019390     04b0  
    3983 000193a0     1842          MOVK    2,A2
    3984 000193b0     0d5f          CALLA   SET_SCRNOBJ
         000193c0 00000000! 
    3985 000193e0     0d5f          CALLA   INSERT_OBJ
         000193f0 00000000! 
    3986                    
    3987 00019410     09f0          MOVI    RIGHT_MUG_INIT,B0               ;RIGHT MUG SHOT
         00019420 0001ad90' 
    3988 00019440     0d5f          CALLA   EASYMAKE
         00019450 00000000! 
    3989 00019470     b30d          MOVE    A8,*A13(PRGHTMUG_OBJ),L
         00019480     0160  
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   92

    3990 00019490     9741          MOVE    *A10+,A1,L
    3991 000194a0     b228          MOVE    A1,*A8(OMUGPOS),L
         000194b0     04b0  
    3992 000194c0     1842          MOVK    2,A2
    3993 000194d0     0d5f          CALLA   SET_SCRNOBJ
         000194e0 00000000! 
    3994                    ;       MOVK    8,A14
    3995                    ;       MOVE    A14,*A8(OFSET),W                ;CLIP OFF RIGHT SHOULDER
    3996 00019500     0d5f          CALLA   INSERT_OBJ
         00019510 00000000! 
    3997                    
    3998 00019530     09f0          MOVI    PLAYER_NAME_INIT,B0             ;LEFT PLAYER NAME
         00019540 0001adf0' 
    3999 00019560     0d5f          CALLA   EASYMAKE
         00019570 00000000! 
    4000 00019590     b30d          MOVE    A8,*A13(PLEFTNAME_OBJ),L
         000195a0     0180  
    4001 000195b0     9741          MOVE    *A10+,A1,L
    4002 000195c0     09c2          MOVI    -1,A2
         000195d0     ffff  
    4003 000195e0     0d5f          CALLA   SET_SCRNOBJ
         000195f0 00000000! 
    4004 00019610     0d5f          CALLA   INSERT_OBJ
         00019620 00000000! 
    4005                    
    4006 00019640     09f0          MOVI    PLAYER_NAME_INIT,B0             ;RIGHT PLAYER NAME
         00019650 0001adf0' 
    4007 00019670     0d5f          CALLA   EASYMAKE
         00019680 00000000! 
    4008 000196a0     b30d          MOVE    A8,*A13(PRGHTNAME_OBJ),L
         000196b0     01a0  
    4009 000196c0     9741          MOVE    *A10+,A1,L
    4010 000196d0     09c2          MOVI    -1,A2
         000196e0     ffff  
    4011 000196f0     0d5f          CALLA   SET_SCRNOBJ
         00019700 00000000! 
    4012 00019720     0d5f          CALLA   INSERT_OBJ
         00019730 00000000! 
    4013                    
    4014 00019750     09f0          MOVI    ATTRIBUTES_INIT,B0              ;LEFT ATTRIBUTE LIST
         00019760 0001ae50' 
    4015 00019780     0d5f          CALLA   EASYMAKE
         00019790 00000000! 
    4016 000197b0     9741          MOVE    *A10+,A1,L
    4017 000197c0     5642          CLR     A2
    4018 000197d0     0d5f          CALLA   SET_SCRNOBJ
         000197e0 00000000! 
    4019 00019800     0d5f          CALLA   INSERT_OBJ
         00019810 00000000! 
    4020                    
    4021 00019830     09f0          MOVI    ATTRIBUTES_INIT,B0              ;RIGHT ATTRIBUTE LIST
         00019840 0001ae50' 
    4022 00019860     0d5f          CALLA   EASYMAKE
         00019870 00000000! 
    4023 00019890     9741          MOVE    *A10+,A1,L
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   93

    4024 000198a0     5642          CLR     A2
    4025 000198b0     0d5f          CALLA   SET_SCRNOBJ
         000198c0 00000000! 
    4026 000198e0     0d5f          CALLA   INSERT_OBJ
         000198f0 00000000! 
    4027                    
    4028 00019910     09f0          MOVI    BAR_INIT,B0
         00019920 0001aeb0' 
    4029 00019940     0d5f          CALLA   EASYMAKE
         00019950 00000000! 
    4030 00019970     9741          MOVE    *A10+,A1,L
    4031 00019980     5642          CLR     A2
    4032 00019990     0d5f          CALLA   SET_SCRNOBJ
         000199a0 00000000! 
    4033 000199c0     0d5f          CALLA   INSERT_OBJ
         000199d0 00000000! 
    4034                    
    4035 000199f0     4d03          MOVE    A8,A3
    4036 00019a00     b26d          MOVE    A3,*A13(PLEFTATTR_OBJ),L
         00019a10     01c0  
    4037 00019a20     b268          MOVE    A3,*A8(OPART1),L
         00019a30     00a0  
    4038 00019a40     4d04          MOVE    A8,A4
    4039                    
    4040 00019a50     09f0          MOVI    BAR_INIT,B0
         00019a60 0001aeb0' 
    4041 00019a80     0d5f          CALLA   EASYMAKE
         00019a90 00000000! 
    4042 00019ab0     9741          MOVE    *A10+,A1,L
    4043 00019ac0     5642          CLR     A2
    4044 00019ad0     0d5f          CALLA   SET_SCRNOBJ
         00019ae0 00000000! 
    4045 00019b00     0d5f          CALLA   INSERT_OBJ
         00019b10 00000000! 
    4046                    
    4047 00019b30     4d06          MOVE    A8,A6
    4048 00019b40     b2cd          MOVE    A6,*A13(PRGHTATTR_OBJ),L
         00019b50     01e0  
    4049 00019b60     b2c8          MOVE    A6,*A8(OPART1),L
         00019b70     00a0  
    4050 00019b80     4d07          MOVE    A8,A7
    4051                    
    4052 00019b90     186b          MOVK    3,A11
    4053 00019ba0           PS_ATTRIBUTE_LUPE
    4054 00019ba0     09f0          MOVI    BAR_INIT,B0
         00019bb0 0001aeb0' 
    4055 00019bd0     0d5f          CALLA   EASYMAKE
         00019be0 00000000! 
    4056 00019c00     9741          MOVE    *A10+,A1,L
    4057 00019c10     5642          CLR     A2
    4058 00019c20     0d5f          CALLA   SET_SCRNOBJ
         00019c30 00000000! 
    4059 00019c50     0d5f          CALLA   INSERT_OBJ
         00019c60 00000000! 
    4060                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   94

    4061 00019c80     b268          MOVE    A3,*A8(OPART1),L
         00019c90     00a0  
    4062 00019ca0     b304          MOVE    A8,*A4(OPARTS),L
         00019cb0     00c0  
    4063 00019cc0     4d04          MOVE    A8,A4
    4064                    
    4065 00019cd0     09f0          MOVI    BAR_INIT,B0
         00019ce0 0001aeb0' 
    4066 00019d00     0d5f          CALLA   EASYMAKE
         00019d10 00000000! 
    4067 00019d30     9741          MOVE    *A10+,A1,L
    4068 00019d40     5642          CLR     A2
    4069 00019d50     0d5f          CALLA   SET_SCRNOBJ
         00019d60 00000000! 
    4070 00019d80     0d5f          CALLA   INSERT_OBJ
         00019d90 00000000! 
    4071                    
    4072 00019db0     b2c8          MOVE    A6,*A8(OPART1),L
         00019dc0     00a0  
    4073 00019dd0     b307          MOVE    A8,*A7(OPARTS),L
         00019de0     00c0  
    4074 00019df0     4d07          MOVE    A8,A7
    4075                    
    4076 00019e00     0d8b          DSJ     A11,PS_ATTRIBUTE_LUPE
         00019e10     ffd8  
    4077                    
    4078 00019e20     0960          RETS
    4079                    
    4080                    **************************************************************************
    4081                    *                                                                        *
    4082                    * A_UPDATE_SEL_HEAD_POS - UPDATE SELECT HEAD POSITION WITH RESPECT TO    *
    4083                    *                         THE BODY                                       *
    4084                    * PASS:                                                                  *
    4085                    * A8 = "HEAD" OBJECT                                                     *
    4086                    *                                                                        *
    4087                    **************************************************************************
    4088                    
    4089 00019e30           A_UPDATE_SEL_HEAD_POS
    4090 00019e30     b704          MOVE    *A8(OPART1),A4,L                        ;BODY IS HEAD OBJECT
         00019e40     00a0  
    4091 00019e50     b68e          MOVE    *A4(OIMG),A14,L
         00019e60     02c0  
    4092 00019e70     b7c3          MOVE    *A14(ICHEADX),A3,L
         00019e80     0090  
    4093                    
    4094 00019e90     b48e          MOVE    *A4(OCTRL),A14,W
         00019ea0     01f0  
    4095 00019eb0     1f6e          BTST    B_FLIPH,A14
    4096 00019ec0     ca04          JRZ     AUSHP_SET                               ;BR=NOT FLIPPED
    4097 00019ed0                   NEGX    A3
    4098 00019f10           AUSHP_SET
    4099 00019f10     b681          MOVE    *A4(ODAG),A1,L
         00019f20     0220  
    4100 00019f30     e061          ADDXY   A3,A1
    4101 00019f40     09c2          MOVI    -21,A2
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   95

         00019f50     ffeb  
    4102 00019f60     0d5f          CALLA   SET_SCRNOBJ
         00019f70 00000000! 
    4103                    
    4104 00019f90     0960          RETS
    4105                    
    4106 00019fa0           SELECT_HEAD_ANIM
    4107 00019fa0                   LWL     1,AFUNC|1,A_UPDATE_SEL_HEAD_POS
    4108 00019ff0 00000000          .long   0
    4109                    
    4110                    
    4111                    
    4112                    ;TEAM_SELECT_POS_TABLE
    4113                    ;       .LONG   TEAM NAME, LOGO
    4114                    ;       .LONG   LEFT MUG, RIGHT MUG
    4115                    ;       .LONG   LEFT NAME, RIGHT NAME
    4116                    ;       .LONG   LEFT ATTRIBUTE HEADER,RIGHT ATTRIBUTE HEADER
    4117                    ;       .LONG   LEFT ATTRIBUTE,RIGHT ATTRIBUTE
    4118                    ;       .LONG   LEFT ATTRIBUTE,RIGHT ATTRIBUTE
    4119                    ;       .LONG   LEFT ATTRIBUTE,RIGHT ATTRIBUTE
    4120                    ;       .LONG   LEFT ATTRIBUTE,RIGHT ATTRIBUTE
    4121                    ;       .LONG   GOALIE BODY
    4122                    
    4123 0001a010           TEAM_SELECT_LEFT_POS_TABLE
    4124                    ;       .LONG   [INFOBOX_Y+4,INFOBOX_XL+94],[INFOBOX_Y+49,INFOBOX_XL+88]
    4125 0001a010 00720065          .LONG   [INFOBOX_Y+3,INFOBOX_XL+88],[INFOBOX_Y+49,INFOBOX_XL+88]
    4126                    ;       .LONG   [INFOBOX_Y+78,INFOBOX_XL+40],[INFOBOX_Y+78,INFOBOX_XL+131]
    4127 0001a050 00bd0035          .LONG   [INFOBOX_Y+78,INFOBOX_XL+40],[INFOBOX_Y+78,INFOBOX_XL+138]
    4128 0001a090 00c2003e          .LONG   [INFOBOX_Y+83,INFOBOX_XL+49],[INFOBOX_Y+83,INFOBOX_XL+129]
    4129 0001a0d0 00cb001d          .LONG   [INFOBOX_Y+92,INFOBOX_XL+16],[INFOBOX_Y+92,INFOBOX_XL+96]
    4130 0001a110 00cb003a          .LONG   [INFOBOX_Y+92,INFOBOX_XL+45],[INFOBOX_Y+92,INFOBOX_XL+125]
    4131 0001a150 00d1003a          .LONG   [INFOBOX_Y+98,INFOBOX_XL+45],[INFOBOX_Y+98,INFOBOX_XL+125]
    4132 0001a190 00d7003a          .LONG   [INFOBOX_Y+104,INFOBOX_XL+45],[INFOBOX_Y+104,INFOBOX_XL+125]
    4133 0001a1d0 00dd003a          .LONG   [INFOBOX_Y+110,INFOBOX_XL+45],[INFOBOX_Y+110,INFOBOX_XL+125]
    4134 0001a210 006f0015          .LONG   [INFOBOX_Y,INFOBOX_XL+8]
    4135                    
    4136 0001a230           TEAM_SELECT_RGHT_POS_TABLE
    4137                    ;       .LONG   [INFOBOX_Y+4,INFOBOX_XR+94],[INFOBOX_Y+49,INFOBOX_XR+88]
    4138 0001a230 00720128          .LONG   [INFOBOX_Y+3,INFOBOX_XR+88],[INFOBOX_Y+49,INFOBOX_XR+88]
    4139                    ;       .LONG   [INFOBOX_Y+78,INFOBOX_XR+40],[INFOBOX_Y+78,INFOBOX_XR+131]
    4140 0001a270 00bd00f8          .LONG   [INFOBOX_Y+78,INFOBOX_XR+40],[INFOBOX_Y+78,INFOBOX_XR+138]
    4141 0001a2b0 00c20101          .LONG   [INFOBOX_Y+83,INFOBOX_XR+49],[INFOBOX_Y+83,INFOBOX_XR+129]
    4142 0001a2f0 00cb00e0          .LONG   [INFOBOX_Y+92,INFOBOX_XR+16],[INFOBOX_Y+92,INFOBOX_XR+96]
    4143 0001a330 00cb00fd          .LONG   [INFOBOX_Y+92,INFOBOX_XR+45],[INFOBOX_Y+92,INFOBOX_XR+125]
    4144 0001a370 00d100fd          .LONG   [INFOBOX_Y+98,INFOBOX_XR+45],[INFOBOX_Y+98,INFOBOX_XR+125]
    4145 0001a3b0 00d700fd          .LONG   [INFOBOX_Y+104,INFOBOX_XR+45],[INFOBOX_Y+104,INFOBOX_XR+125]
    4146 0001a3f0 00dd00fd          .LONG   [INFOBOX_Y+110,INFOBOX_XR+45],[INFOBOX_Y+110,INFOBOX_XR+125]
    4147 0001a430 006f017a          .LONG   [INFOBOX_Y,INFOBOX_XR+170]
    4148                    
    4149              001a  TTY     EQU     TEAMBOX_Y+5     ;TEAM TOP Y
    4150              000c  TYS     EQU     12              ;TEAM Y SPACING
    4151                    
    4152              002b  T1X     EQU     43      ;TEAM COLUMN 1 X
    4153              0081  T2X     EQU     106+23  ;TEAM COLUMN 2 X
    4154              00c1  T3X     EQU     193     ;TEAM COLUMN 3 X
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   96

    4155              011a  T4X     EQU     282     ;TEAM COLUMN 4 X
    4156                    
    4157 0001a450           TEAM_ARRAY
    4158 0001a450 000b0037          .LONG   [11,55],[TTY,T1X]
    4159 0001a490 000b0035          .LONG   [11,53],[TTY,T2X]
    4160 0001a4d0 000b0035          .LONG   [11,53],[TTY,T3X]
    4161 0001a510 000b0033          .LONG   [11,51],[TTY,T4X]
    4162                    
    4163 0001a550 000b0038          .LONG   [11,56],[TTY+TYS,T1X]
    4164 0001a590 000b0032          .LONG   [11,50],[TTY+TYS,T2X]
    4165 0001a5d0 000b0050          .LONG   [11,80],[TTY+TYS,T3X]
    4166 0001a610 000b0039          .LONG   [11,57],[TTY+TYS,T4X]
    4167                    
    4168 0001a650 000b0041          .LONG   [11,65],[TTY+TYS*2,T1X]
    4169 0001a690 000b0037          .LONG   [11,55],[TTY+TYS*2,T2X]
    4170 0001a6d0 000b004c          .LONG   [11,76],[TTY+TYS*2,T3X]
    4171 0001a710 000b0043          .LONG   [11,67],[TTY+TYS*2,T4X]
    4172                    
    4173 0001a750 000b0045          .LONG   [11,69],[TTY+TYS*3,T1X]
    4174 0001a790 000b0039          .LONG   [11,57],[TTY+TYS*3,T2X]
    4175 0001a7d0 000b0056          .LONG   [11,86],[TTY+TYS*3,T3X]
    4176 0001a810 000b0045          .LONG   [11,69],[TTY+TYS*3,T4X]
    4177                    
    4178 0001a850 000b0053          .LONG   [11,83],[TTY+TYS*4,T1X]
    4179 0001a890 000b003c          .LONG   [11,60],[TTY+TYS*4,T2X]
    4180 0001a8d0 000b0056          .LONG   [11,86],[TTY+TYS*4,T3X]
    4181 0001a910 000b0035          .LONG   [11,53],[TTY+TYS*4,T4X]
    4182                    
    4183 0001a950 000b003d          .LONG   [11,61],[TTY+TYS*5,T1X]
    4184 0001a990 000b003a          .LONG   [11,58],[TTY+TYS*5,T2X]
    4185 0001a9d0 000b0046          .LONG   [11,70],[TTY+TYS*5,T3X]
    4186 0001aa10 000b004b          .LONG   [11,75],[TTY+TYS*5,T4X]
    4187                    
    4188 0001aa50 000b004a          .LONG   [11,74],[TTY+TYS*6,T1X]
    4189 0001aa90 000b0050          .LONG   [11,80],[TTY+TYS*6,T3X]
    4190                    
    4191 0001aad0           TEAM_REMAP_TABLE
    4192 0001aad0     0015          .WORD   team_mighty_ducks,team_blackhawks,team_panthers,team_bruins
    4193 0001ab10     0016          .WORD   team_flames,team_stars,team_devils,team_sabres
    4194 0001ab50     0007          .WORD   team_avalanche,team_red_wings,team_rangers,team_whalers
    4195 0001ab90     0017          .WORD   team_oilers,team_blues,team_islanders,team_canadiens
    4196 0001abd0     0018          .WORD   team_kings,team_maple_leafs,team_flyers,team_senators
    4197 0001ac10     0019          .WORD   team_sharks,team_jets,team_lightning,team_penguins
    4198 0001ac50     001a          .WORD   team_canucks,team_capitals
    4199                    
    4200 0001ac70           TEAM_NAME_INIT
    4201 0001ac70 00000000!         .long   BLACKHIT
    4202 0001ac90     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOSCALE
    4203 0001acb0     0100          .word   OM_OID
    4204 0001acc0     0491          .word   OID_SELECT_2
    4205                    
    4206 0001acd0           LOGO_INIT
    4207 0001acd0 00000000!         .long   shadow3
    4208 0001acf0     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOSCALE
    4209 0001ad10     0100          .word   OM_OID
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   97

    4210 0001ad20     0491          .word   OID_SELECT_2
    4211                    
    4212 0001ad30           LEFT_MUG_INIT
    4213 0001ad30 00000000!         .long   M_CHELIOS
    4214                    ;       .word   DMAWNZ|M_LRCLIP,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    4215 0001ad50     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    4216 0001ad70     0100          .word   OM_OID
    4217 0001ad80     0491          .word   OID_SELECT_2
    4218                    
    4219 0001ad90           RIGHT_MUG_INIT
    4220 0001ad90 00000000!         .long   M_CHELIOS
    4221                    ;       .word   DMAWNZ|M_LRCLIP|M_FLIPH,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    4222 0001adb0     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    4223 0001add0     0100          .word   OM_OID
    4224 0001ade0     0491          .word   OID_SELECT_2
    4225                    
    4226 0001adf0           PLAYER_NAME_INIT
    4227 0001adf0 00000000!         .long   CHELIOS1
    4228 0001ae10     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    4229 0001ae30     0100          .word   OM_OID
    4230 0001ae40     0491          .word   OID_SELECT_2
    4231                    
    4232 0001ae50           ATTRIBUTES_INIT
    4233 0001ae50 00004ad0"         .long   ATTRIBS_HEADER
    4234 0001ae70     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    4235 0001ae90     0100          .word   OM_OID
    4236 0001aea0     0491          .word   OID_SELECT_2
    4237                    
    4238 0001aeb0           BAR_INIT
    4239 0001aeb0 00004b60"         .long   BAR0
    4240 0001aed0     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    4241 0001aef0     0100          .word   OM_OID
    4242 0001af00     0491          .word   OID_SELECT_2
    4243                    
    4244 0001af10           DUMMY_INIT
    4245 0001af10 00000000!         .long   shadow3
    4246 0001af30     8000          .word   DMAGO,M_SCRNOBJ|M_NOVEL|M_NOSCALE
    4247 0001af50     0100          .word   OM_OID
    4248 0001af60     0491          .word   OID_SELECT_2
    4249                    
    4250 0001af70           BARPAL_TABLE
    4251 0001af70 00000000!         .LONG   BARPAL0,BARPAL1,BARPAL2,BARPAL3,BARPAL4
    4252 0001b010 0001b3b0'         .LONG   BARPAL5,BARPAL6,BARPAL7,BARPAL8,BARPAL9
    4253                    
    4254 0001b0b0           BARPAL1:
    4255 0001b0b0     000b     .word   11 
    4256 0001b0c0     0000     .word   00000h,03defh,003e0h,07c00h,07c00h,07c00h,07c00h,07c00h
    4257 0001b140     7c00     .word   07c00h,07c00h,07c00h
    4258 0001b170           BARPAL2:
    4259 0001b170     000b     .word   11 
    4260 0001b180     0000     .word   00000h,03defh,003e0h,003e0h,07c00h,07c00h,07c00h,07c00h
    4261 0001b200     7c00     .word   07c00h,07c00h,07c00h
    4262 0001b230           BARPAL3:
    4263 0001b230     000b     .word   11 
    4264 0001b240     0000     .word   00000h,03defh,003e0h,003e0h,003e0h,07c00h,07c00h,07c00h
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   98

    4265 0001b2c0     7c00     .word   07c00h,07c00h,07c00h
    4266 0001b2f0           BARPAL4:
    4267 0001b2f0     000b     .word   11 
    4268 0001b300     0000     .word   00000h,03defh,003e0h,003e0h,003e0h,003e0h,07c00h,07c00h
    4269 0001b380     7c00     .word   07c00h,07c00h,07c00h
    4270 0001b3b0           BARPAL5:
    4271 0001b3b0     000b     .word   11 
    4272 0001b3c0     0000     .word   00000h,03defh,003e0h,003e0h,003e0h,003e0h,003e0h,07c00h
    4273 0001b440     7c00     .word   07c00h,07c00h,07c00h
    4274 0001b470           BARPAL6:
    4275 0001b470     000b     .word   11 
    4276 0001b480     0000     .word   00000h,03defh,003e0h,003e0h,003e0h,003e0h,003e0h,003e0h
    4277 0001b500     7c00     .word   07c00h,07c00h,07c00h
    4278 0001b530           BARPAL7:
    4279 0001b530     000b     .word   11 
    4280 0001b540     0000     .word   00000h,03defh,003e0h,003e0h,003e0h,003e0h,003e0h,003e0h
    4281 0001b5c0     03e0     .word   003e0h,07c00h,07c00h
    4282 0001b5f0           BARPAL8:
    4283 0001b5f0     000b     .word   11 
    4284 0001b600     0000     .word   00000h,03defh,003e0h,003e0h,003e0h,003e0h,003e0h,003e0h
    4285 0001b680     03e0     .word   003e0h,003e0h,07c00h
    4286 0001b6b0           BARPAL9:
    4287 0001b6b0     000b     .word   11 
    4288 0001b6c0     0000     .word   00000h,03defh,003e0h,003e0h,003e0h,003e0h,003e0h,003e0h
    4289 0001b740     03e0     .word   003e0h,003e0h,003e0h
    4290                    
    4291                    
    4292                    **************************************************************************
    4293                    *                                                                        *
    4294                    * PICK_ENTRY                                                             *
    4295                    *                                                                        *
    4296                    * PASS:                                                                  *
    4297                    * A1  = ARRAY DIMENSION                                                  *
    4298                    * A2  = ROW SIZE                                                         *
    4299                    * A3  = STARTING ENTRY                                                   *
    4300                    * A9  = PLAYER NUMBER - 1                                                *
    4301                    * A10 = [Y,X] OFFSET                                                     *
    4302                    * A11 = POSITION/SIZE ARRAY                                              *
    4303                    * B0  = STRING TABLE                                                     *
    4304                    *                                                                        *
    4305                    * RETURN:                                                                *
    4306                    * A1  = LAST SELECTED INDEX                                              *
    4307                    * A2  = SWAP INDEX                                                       *
    4308                    *                                                                        *
    4309                    **************************************************************************
    4310                    
    4311              0002  SELECT_FLASH_ONTIME     EQU     2                       ;TIME TO FLASH ON
    4312                    ;SELECT_FLASHES         EQU     5                       ;NUMBER OF FLASHES
    4313              0003  ALPHA_SELECT_FLASHES    EQU     3                       ;NUMBER OF FLASHES
    4314                    
    4315                    ;TEAM_SELECT_PRETIMEOUT EQU     20
    4316                    
    4317 0001b770           PICK_ENTRY
    4318 0001b770                   PUSH    A1
    4319 0001b780                   PUSH    B0
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE   99

    4320                    
    4321 0001b790     09f0          MOVI    PICKBOX_INIT,B0                         ;CREATE BOX
         0001b7a0 00022c50' 
    4322 0001b7c0     0d5f          CALLA   EASYMAKE
         0001b7d0 00000000! 
    4323                    
    4324 0001b7f0     4d2e          MOVE    A9,A14                                  ;SET OID
    4325 0001b800     248e          SLL     4,A14
    4326 0001b810     0b2e          ADDI    PLAYER_OID_TABLE,A14
         0001b820 00017130' 
    4327 0001b840     b9c8          MOVE    *A14(0),*A8(OID),W
         0001b850     0000  
         0001b860     0430  
    4328                    
    4329 0001b870     4f21          MOVE    A9,B1                                   ;SET OID2
    4330 0001b880     2491          SLL     4,B1
    4331 0001b890     0b31          ADDI    PLAYER_OID2_TABLE,B1
         0001b8a0 00017170' 
    4332 0001b8c0     8431          MOVE    *B1,B1,W
    4333                    
    4334 0001b8d0     09e1          MOVI    PICKBOX_NORMAL_FLASH_ANIM,A1            ;DEFAULT FLASH ANIM
         0001b8e0 00022ca0' 
    4335                    
    4336 0001b900     0b6b          CMPI    TEAM_ARRAY,A11
         0001b910 fffe5baf' 
    4337 0001b930     cb15          JRNE    PE_GET_COLOR                            ;BR=NOT TEAM SELECT
    4338                    
    4339 0001b940     09e1          MOVI    PICKBOX_TEAM_FLASH_ANIM,A1
         0001b950 00022d60' 
    4340 0001b970     194e          MOVK    10,A14                                  ;START LOOP
    4341 0001b980     adc8          MOVB    A14,*A8(ANIMLOOP)
         0001b990     0370  
    4342                    
    4343 0001b9a0     0b49          CMPI    2-1,A9
         0001b9b0     fffe  
    4344 0001b9c0     c706          JRGT    PE_DO_RED                               ;BR=RED SELECT OBJECT
    4345                    
    4346 0001b9d0     09ce          MOVI    COLOR_BLUE,A14
         0001b9e0     0303  
    4347 0001b9f0     0788          MOVE    A8,@BLUE_SELECT_OBJ,L
         0001ba00 00000180- 
    4348 0001ba20     c00c          JRUC    PE_SET_COLOR
    4349 0001ba30           PE_DO_RED
    4350 0001ba30     09ce          MOVI    COLOR_RED,A14
         0001ba40     0101  
    4351 0001ba50     0788          MOVE    A8,@RED_SELECT_OBJ,L
         0001ba60 000001c0- 
    4352 0001ba80     c006          JRUC    PE_SET_COLOR
    4353                    
    4354 0001ba90           PE_GET_COLOR
    4355 0001ba90     4d2e          MOVE    A9,A14                                  ;GET COLOR FROM TABLE
    4356 0001baa0     248e          SLL     4,A14
    4357 0001bab0     0b2e          ADDI    PLAYER_COLOR_TABLE,A14
         0001bac0 00022b80' 
    4358 0001bae0     85ce          MOVE    *A14,A14,W
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  100

    4359 0001baf0           PE_SET_COLOR
    4360 0001baf0     b1c8          MOVE    A14,*A8(OCONST),W
         0001bb00     0290  
    4361                    
    4362 0001bb10     0d5f          CALLA   STRT_ANIM
         0001bb20 00000000! 
    4363                    
    4364 0001bb40                   PULLQ   B0
    4365 0001bb50                   PULLQ   A1
    4366                    
    4367                    ;       MOVI    -1,A14
    4368 0001bb60     57ce          CLR     A14
    4369 0001bb70     b3c8          MOVE    A14,*A8(OZVAL),L
         0001bb80     0180  
    4370                    
    4371 0001bb90     4c60          MOVE    A3,A0                                   ;STARTING ENTRY
    4372 0001bba0     07ee          MOVB    @LOCKED_CHAR_BITS,A14
         0001bbb0 00000238- 
    4373 0001bbd0     0bae          ORI     010000B,A14                             ;SET LOCK OVERRIDE BIT
         0001bbe0 00000010  
    4374 0001bc00     05ee          MOVB    A14,@LOCKED_CHAR_BITS
         0001bc10 00000238- 
    4375 0001bc30     0d3f          CALLR   UPDATE_PICKBOX
         0001bc40     031d  
    4376 0001bc50     07ee          MOVB    @LOCKED_CHAR_BITS,A14
         0001bc60 00000238- 
    4377 0001bc80     0b8e          ANDI    01111B,A14                              ;CLR LOCK OVERRIDE BIT
         0001bc90 fffffff0  
    4378 0001bcb0     05ee          MOVB    A14,@LOCKED_CHAR_BITS
         0001bcc0 00000238- 
    4379                    
    4380 0001bce0     0d5f          CALLA   INSERT_OBJ
         0001bcf0 00000000! 
    4381                    
    4382                    ;       CALLR   MOVE_SOUND
    4383                    
    4384 0001bd10     0b6b          CMPI    TEAM_ARRAY,A11
         0001bd20 fffe5baf' 
    4385 0001bd40     cb3a          JRNE    PE_CHECK_KIT                            ;BR=NOT TEAM SELECT
    4386                    
    4387 0001bd50     098f          MMTM    SP,A0,A1,A2,A8
         0001bd60     e080  
    4388 0001bd70                   PUSH    B0
    4389                    
    4390 0001bd80     4d02          MOVE    A8,A2
    4391 0001bd90     09f0          MOVI    ARROW_PTR_INIT,B0                       ;CREATE ARROW POINTER
         0001bda0 00023120' 
    4392 0001bdc0     0d5f          CALLA   EASYMAKE
         0001bdd0 00000000! 
    4393 0001bdf0     b128          MOVE    A9,*A8(ODATA),W                         ;PLAYER NUMBER - 1
         0001be00     04b0  
    4394 0001be10     b248          MOVE    A2,*A8(ODATA+10H),L                     ;SELECT OBJECT
         0001be20     04c0  
    4395 0001be30     0d3f          CALLR   A_UPDATE_ARROW
         0001be40     0626  
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  101

    4396 0001be50     0d5f          CALLA   INSERT_OBJ
         0001be60 00000000! 
    4397                    
    4398 0001be80     b30d          MOVE    A8,*A13(PARROW),L
         0001be90     0270  
    4399                    
    4400 0001bea0     4d20          MOVE    A9,A0
    4401 0001beb0                   KITN    4
    4402 0001bef0     ca03          JREQ    PE_GET_ARROW_IMG                        ;BR=4 PLAYER KIT
    4403 0001bf00     4c00          MOVE    A0,A0
    4404 0001bf10     ca01          JRZ     PE_GET_ARROW_IMG                        ;BR=PLAYER 1
    4405 0001bf20     1820          MOVK    1,A0                                    ;PLAYER 2
    4406 0001bf30           PE_GET_ARROW_IMG
    4407 0001bf30     24a0          SLL     5,A0
    4408 0001bf40     0b20          ADDI    ARROW_IMG_TABLE,A0
         0001bf50 00023210' 
    4409 0001bf70     8600          MOVE    *A0,A0,L
    4410 0001bf80     b208          MOVE    A0,*A8(OIMG),L
         0001bf90     02c0  
    4411 0001bfa0     ba08          MOVE    *A0(ISAG),*A8(OSAG),L
         0001bfb0     0030  
         0001bfc0     0200  
    4412 0001bfd0     b600          MOVE    *A0(ICMAP),A0,L
         0001bfe0     0070  
    4413 0001bff0                   KITN    4
    4414 0001c030     ca05          JREQ    PE_SET_PAL                              ;BR=4 PLAYER KIT
    4415 0001c040     4d29          MOVE    A9,A9
    4416 0001c050     ca03          JRZ     PE_SET_PAL                              ;BR=PLAYER 1
    4417 0001c060     09e0          MOVI    arrg_pal,A0                             ;PLAYER 2
         0001c070 00000000! 
    4418 0001c090           PE_SET_PAL
    4419 0001c090     0d5f          CALLA   CHANGE_PAL
         0001c0a0 00000000! 
    4420                    
    4421 0001c0c0                   PULLQ   B0
    4422 0001c0d0     09af          MMFM    SP,A0,A1,A2,A8
         0001c0e0     0107  
    4423                    
    4424 0001c0f0           PE_CHECK_KIT
    4425 0001c0f0     56f7          CLR     B7
    4426 0001c100     b5ae          MOVE    *A13(PTEAMMATE),A14,W                   ;TEAMMATE PLAYER NUMBER
         0001c110     0260  
    4427 0001c120     ce05          JRN     PE_2P_KIT                               ;BR=2 PLAYER KIT
    4428 0001c130     246e          SLL     3,A14                                   ;SWITCH OFFSET
    4429 0001c140     4fce          MOVE    A14,B14
    4430 0001c150     09d7          MOVI    M_SW_T,B7
         0001c160     0040  
    4431 0001c170     63d7          SLL     B14,B7                                  ;TEAMMATE TURBO MASK
    4432 0001c180           PE_2P_KIT
    4433                    
    4434 0001c180     4d23          MOVE    A9,A3
    4435 0001c190                   KITN    4
    4436 0001c1d0     ca03          JREQ    PE_MAKE_MASKS                           ;BR=4 PLAYER KIT
    4437 0001c1e0     4c63          MOVE    A3,A3
    4438 0001c1f0     ca01          JRZ     PE_MAKE_MASKS                           ;BR=PLAYER 1
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  102

    4439 0001c200     1823          MOVK    1,A3                                    ;PLAYER 2 SWITCHES
    4440 0001c210           PE_MAKE_MASKS
    4441                    
    4442 0001c210     2463          SLL     3,A3                                    ;SWITCH OFFSET
    4443                    
    4444 0001c220     19e4          MOVK    M_SW_U|M_SW_D|M_SW_L|M_SW_R,A4
    4445 0001c230     6264          SLL     A3,A4                                   ;SWITCH JOYSTICK MASK
    4446                    
    4447 0001c240     4e63          MOVE    A3,B3
    4448 0001c250     09d4          MOVI    M_SW_S|M_SW_P|M_SW_T,B4
         0001c260     0070  
    4449 0001c270     6274          SLL     B3,B4                                   ;SWITCH BUTTON MASK
    4450                    
    4451 0001c280     07a5          MOVE    @SWITCH,A5,L
         0001c290 01860000  
    4452 0001c2b0     03e5          NOT     A5
    4453 0001c2c0     4ea8          MOVE    A5,B8
    4454 0001c2d0     50f8          AND     B7,B8                                   ;LAST TEAMMATE'S TURBO
    4455 0001c2e0     4ea5          MOVE    A5,B5
    4456 0001c2f0     5095          AND     B4,B5                                   ;LAST BUTTON SWITCH
    4457 0001c300     5085          AND     A4,A5                                   ;LAST JOYSTICK SWITCH
    4458                    
    4459 0001c310     56e7          CLR     A7                                      ;STUCK COUNT
    4460                    
    4461 0001c320           PE_READ_SWITCH
    4462 0001c320     07a6          MOVE    @SWITCH,A6,L
         0001c330 01860000  
    4463 0001c350     03e6          NOT     A6
    4464                    
    4465 0001c360     0b6b          CMPI    TEAM_ARRAY,A11
         0001c370 fffe5baf' 
    4466 0001c390     cb56          JRNE    PE_CHECK_TABLE
    4467                    
    4468 0001c3a0     4ec6          MOVE    A6,B6
    4469 0001c3b0     5096          AND     B4,B6
    4470 0001c3c0     ca3c          JRZ     PE_CHECK_TEAMMATE_PLAYER_SWAP           ;BR=NO BUTTONS
    4471                    
    4472 0001c3d0     4cde          MOVE    B6,B14
    4473 0001c3e0     56be          XOR     B5,B14
    4474                    
    4475 0001c3f0     4cd5          MOVE    B6,B5                                   ;NEW LAST BUTTONS
    4476                    
    4477 0001c400     07b9          MOVE    @TEAM_SELECT_STARTIRQ,B9,L
         0001c410 00000240- 
    4478 0001c430     07ba          MOVE    @WAVEIRQS,B10,L
         0001c440 00000000! 
    4479 0001c460     453a          SUB     B9,B10
    4480 0001c470     0bfa          SUBI    TEAM_SELECT_PRETIMEOUT,B10
         0001c480     ffeb  
    4481 0001c490     ce00          JRN     PE_NAP                                  ;BR=BUTTONS ALLOWED
         0001c4a0     0141  
    4482                    
    4483 0001c4b0     50de          AND     B6,B14
    4484                    ;       JRZ     PE_NAP                                  ;BR=BUTTON(S) STUCK
    4485 0001c4c0     ca2c          JRZ     PE_CHECK_TEAMMATE_PLAYER_SWAP
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  103

    4486                    
    4487 0001c4d0     4c7e          MOVE    B3,B14
    4488 0001c4e0     109e          ADDK    B_SW_S,B14
    4489 0001c4f0     4bd6          BTST    B14,B6
    4490 0001c500     cb00          JRNZ    PE_DONE                                 ;BR=SHOOT
         0001c510     0185  
    4491                    
    4492 0001c520     103e          INC     B14
    4493 0001c530     4bd6          BTST    B14,B6
    4494 0001c540     ca16          JRZ     PE_CHECK_TURBO                          ;BR=NOT PASS
    4495                            
    4496 0001c550     07ee          MOVB    @TEAM_SELECTED_BITS,A14
         0001c560 00000018- 
    4497 0001c580     cb00          JRNZ    PE_NAP                                  ;BR=NO SWAPPING ALLOWED
         0001c590     0132  
    4498                    
    4499 0001c5a0     0d3f          CALLR   SIDE_TOGGLE_SOUND
         0001c5b0     027e  
    4500                    
    4501 0001c5c0     4f29          MOVE    A9,B9
    4502 0001c5d0     2ff9          SRL     1,B9
    4503 0001c5e0     2499          SLL     4,B9
    4504 0001c5f0     0b39          ADDI    team1_home,B9
         0001c600 00000000! 
    4505 0001c620     853e          MOVE    *B9,B14,W                               
    4506 0001c630     0bde          XORI    1,B14                                   ;TOGGLE HOME/AWAY SIDE
         0001c640 00000001  
    4507 0001c660     81d9          MOVE    B14,*B9,W
    4508 0001c670     0d3f          CALLR   UPDATE_PICKBOX
         0001c680     0279  
    4509 0001c690     c000          JRUC    PE_NAP
         0001c6a0     0121  
    4510                    
    4511 0001c6b0           PE_CHECK_TURBO
    4512 0001c6b0     103e          INC     B14
    4513 0001c6c0     4bd6          BTST    B14,B6
    4514 0001c6d0     ca0b          JRZ     PE_CHECK_TEAMMATE_PLAYER_SWAP           ;BR=NOT TURBO
    4515 0001c6e0           PE_SWAP
    4516 0001c6e0     0d3f          CALLR   SWAP_SOUND
         0001c6f0     0262  
    4517                    
    4518 0001c700     b5ae          MOVE    *A13(PSWAP),A14,W                       ;NEXT SWAP
         0001c710     0240  
    4519 0001c720     102e          INC     A14
    4520 0001c730     b1cd          MOVE    A14,*A13(PSWAP),W
         0001c740     0240  
    4521                    
    4522 0001c750     0d3f          CALLR   UPDATE_PICKBOX
         0001c760     026b  
    4523 0001c770     c000          JRUC    PE_NAP
         0001c780     0113  
    4524                    
    4525 0001c790           PE_CHECK_TEAMMATE_PLAYER_SWAP
    4526 0001c790     4cf7          MOVE    B7,B7
    4527 0001c7a0     ca00          JRZ     PE_CHECK_JOYSTICK                       ;BR=2 PLAYER KIT
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  104

         0001c7b0     0089  
    4528                    
    4529 0001c7c0     b5ae          MOVE    *A13(PTEAMMATE),A14,W                   ;TEAMMATE PLAYER NUMBER
         0001c7d0     0260  
    4530 0001c7e0     4fce          MOVE    A14,B14
    4531 0001c7f0     05b9          MOVE    @PLAYER_BITS,B9,W
         0001c800 00000000! 
    4532 0001c820     4bd9          BTST    B14,B9
    4533 0001c830     ca00          JRZ     PE_CHECK_JOYSTICK                       ;BR=TEAMMATE NOT ACTIVE
         0001c840     0080  
    4534                    
    4535 0001c850     4ec9          MOVE    A6,B9
    4536 0001c860     50f9          AND     B7,B9
    4537 0001c870     cb02          JRNZ    PE_CHECK_TEAMMATE_TURBO                 ;BR=TURBO
    4538 0001c880     4d38          MOVE    B9,B8                                   ;NEW LAST TURBO
    4539 0001c890     c07b          JRUC    PE_CHECK_JOYSTICK
    4540 0001c8a0           PE_CHECK_TEAMMATE_TURBO
    4541 0001c8a0     4d3e          MOVE    B9,B14
    4542 0001c8b0     571e          XOR     B8,B14
    4543                    
    4544 0001c8c0     4d38          MOVE    B9,B8                                   ;NEW LAST TURBO
    4545                    
    4546 0001c8d0     513e          AND     B9,B14
    4547 0001c8e0     ca76          JRZ     PE_CHECK_JOYSTICK                       ;BR=TURBO STUCK
    4548                    
    4549 0001c8f0     c0de          JRUC    PE_SWAP
    4550                    
    4551 0001c900           PE_CHECK_TABLE
    4552 0001c900     4ec6          MOVE    A6,B6
    4553 0001c910     5096          AND     B4,B6
    4554 0001c920     ca72          JRZ     PE_CHECK_JOYSTICK                       ;BR=NO BUTTONS
    4555                    
    4556 0001c930     4cde          MOVE    B6,B14
    4557 0001c940     56be          XOR     B5,B14
    4558                    
    4559 0001c950     4cd5          MOVE    B6,B5                                   ;NEW LAST BUTTONS
    4560                    
    4561 0001c960     50de          AND     B6,B14
    4562                    ;       JRZ     PE_NAP                                  ;BR=BUTTON(S) STUCK
    4563 0001c970     ca6d          JRZ     PE_CHECK_JOYSTICK                       ;BR=BUTTON(S) STUCK
    4564                    
    4565                    ;       MOVE    B0,B0
    4566                    ;       JRZ     PE_DONE
    4567                    
    4568 0001c980     0b70          CMPI    ALPHA_TABLE,B0
         0001c990 fffe8e0f' 
    4569 0001c9b0     cb00          JRNE    PE_DONE                                 ;BR=NOT DA ALPHABET
         0001c9c0     013a  
    4570                    
    4571 0001c9d0     4cd5          MOVE    B6,B5                                   ;NEW LAST BUTTONS
    4572 0001c9e0     5086          AND     A4,A6
    4573 0001c9f0     4cc5          MOVE    A6,A5                                   ;NEW LAST JOYSTICK
    4574 0001ca00     56e7          CLR     A7                                      ;NO MORE STUCK
    4575                    
    4576 0001ca10     4fa8          MOVE    A13,B8
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  105

    4577                    
    4578 0001ca20     b519          MOVE    *B8(PINITIAL_POS),B9,W
         0001ca30     0140  
    4579                    
    4580 0001ca40     4fa7          MOVE    A13,B7
    4581 0001ca50     0b17          ADDI    PINITIAL_STRING,B7
         0001ca60     0100  
    4582                    
    4583 0001ca70     0b40          CMPI    26,A0
         0001ca80     ffe5  
    4584 0001ca90     c447          JRLT    PE_GET_INITIAL_STRING                   ;BR=NOT SPECIAL
    4585 0001caa0     09f6          MOVI    SPACE_STR,B6
         0001cab0 00017c90' 
    4586 0001cad0     0b40          CMPI    26,A0
         0001cae0     ffe5  
    4587 0001caf0     ca47          JREQ    PE_ADD_STRING                           ;BR=A "SPACE"
    4588                    
    4589 0001cb00     4d39          MOVE    B9,B9
    4590 0001cb10     ca00          JRZ     PE_NAP                                  ;BR=FIRST POSITION
         0001cb20     00d9  
    4591                    
    4592 0001cb30     1439          DEC     B9                                      ;RUB OUT LAST INITIAL
    4593 0001cb40     b138          MOVE    B9,*B8(PINITIAL_POS),W
         0001cb50     0140  
    4594 0001cb60     2479          SLL     3,B9
    4595 0001cb70     4137          ADD     B9,B7
    4596 0001cb80     57de          CLR     B14
    4597 0001cb90     8dd7          MOVB    B14,*B7
    4598                    
    4599 0001cba0     0d3f          CALLR   UPDATE_PICKBOX
         0001cbb0     0226  
    4600 0001cbc0           PE_ALPHA_FLASH
    4601 0001cbc0     05ae          MOVE    @TIMES_UP,A14,W
         0001cbd0 00000220- 
    4602 0001cbf0     cb00          JRNZ    PE_ABORT                                ;BR=TIME'S UP DUMMY!
         0001cc00     0147  
    4603                    
    4604 0001cc10     0d3f          CALLR   PICK_SOUND
         0001cc20     0207  
    4605                    
    4606 0001cc30     098c          MMTM    A12,A0,A1,A2,A3,A4,A5,A7
         0001cc40     fd00  
    4607 0001cc50     4f8e          MOVE    A12,B14
    4608 0001cc60     099e          MMTM    B14,B0,B1,B3,B4,B5
         0001cc70     dc00  
    4609 0001cc80     4fdc          MOVE    B14,A12
    4610                    
    4611 0001cc90     b908          MOVE    *A8(OCONST),*A8(ODATA),W
         0001cca0     0290  
         0001ccb0     04b0  
    4612 0001ccc0     09ce          MOVI    0B0BH,A14
         0001ccd0     0b0b  
    4613 0001cce0     b1c8          MOVE    A14,*A8(OCONST),W
         0001ccf0     0290  
    4614 0001cd00     186e          MOVK    ALPHA_SELECT_FLASHES,A14
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  106

    4615 0001cd10     adc8          MOVB    A14,*A8(ANIMLOOP)
         0001cd20     0370  
    4616 0001cd30     09e1          MOVI    PICKBOX_SELECT_FLASH_ANIM,A1
         0001cd40 00022e80' 
    4617 0001cd60     0d5f          CALLA   STRT_ANIM
         0001cd70 00000000! 
    4618                    
    4619 0001cd90                   SLEEP   SELECT_FLASH_ONTIME*ALPHA_SELECT_FLASHES*2
    4620                    
    4621 0001cdd0     b908          MOVE    *A8(ODATA),*A8(OCONST),W                ;SET PLAYER COLOR
         0001cde0     04b0  
         0001cdf0     0290  
    4622 0001ce00     0d5f          CALLA   OBJ_CONST_ALL
         0001ce10 00000000! 
    4623                    
    4624 0001ce30     09e1          MOVI    PICKBOX_NORMAL_FLASH_ANIM,A1
         0001ce40 00022ca0' 
    4625 0001ce60     0d5f          CALLA   STRT_ANIM
         0001ce70 00000000! 
    4626                    
    4627 0001ce90     4f8e          MOVE    A12,B14
    4628 0001cea0     09be          MMFM    B14,B0,B1,B3,B4,B5
         0001ceb0     003b  
    4629 0001cec0     4fdc          MOVE    B14,A12
    4630 0001ced0     09ac          MMFM    A12,A0,A1,A2,A3,A4,A5,A7
         0001cee0     00bf  
    4631 0001cef0     c000          JRUC    PE_READ_SWITCH
         0001cf00     ff41  
    4632                    
    4633 0001cf10           PE_GET_INITIAL_STRING
    4634 0001cf10     4e06          MOVE    A0,B6
    4635 0001cf20     24b6          SLL     5,B6
    4636 0001cf30     4016          ADD     B0,B6
    4637 0001cf40     86d6          MOVE    *B6,B6,L
    4638 0001cf50     2ff6          SRL     1,B6
    4639 0001cf60     2436          SLL     1,B6
    4640 0001cf70           PE_ADD_STRING
    4641 0001cf70     2479          SLL     3,B9
    4642 0001cf80     4137          ADD     B9,B7
    4643 0001cf90     2fb9          SRL     3,B9
    4644 0001cfa0     9cd7          MOVB    *B6,*B7
    4645                    
    4646 0001cfb0     0d3f          CALLR   UPDATE_PICKBOX
         0001cfc0     01e5  
    4647 0001cfd0     1039          INC     B9
    4648 0001cfe0     0b59          CMPI    3,B9
         0001cff0     fffc  
    4649 0001d000     ca00          JREQ    PE_DONE
         0001d010     00d5  
    4650                    
    4651 0001d020     b138          MOVE    B9,*B8(PINITIAL_POS),W
         0001d030     0140  
    4652 0001d040     c0b7          JRUC    PE_ALPHA_FLASH
    4653                    
    4654 0001d050           PE_CHECK_JOYSTICK
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  107

    4655 0001d050     4cd5          MOVE    B6,B5                                   ;NEW LAST BUTTONS
    4656 0001d060     5086          AND     A4,A6
    4657 0001d070     cb04          JRNZ    PE_JOYSTICK                             ;BR=JOYSTICK ON
    4658 0001d080     4cc5          MOVE    A6,A5                                   ;NEW LAST JOYSTICK
    4659 0001d090     56e7          CLR     A7                                      ;NO MORE STUCK
    4660 0001d0a0     c000          JRUC    PE_NAP
         0001d0b0     0080  
    4661 0001d0c0           PE_JOYSTICK
    4662 0001d0c0     48a6          CMP     A5,A6
    4663 0001d0d0     cb0b          JRNE    PE_NOSTUCK                              ;BR=NOT DA SAME
    4664                    
    4665 0001d0e0     1027          INC     A7
    4666 0001d0f0     0b47          CMPI    9,A7
         0001d100     fff6  
    4667                    ;       JRLT    PE_NAP                                  ;BR=DON'T REPEAT YET
    4668 0001d110     c507          JRGE    PE_NOSTUCK                              ;BR=REPEAT
    4669                    
    4670 0001d120     0b6b          CMPI    TEAM_ARRAY,A11
         0001d130 fffe5baf' 
    4671 0001d150     cb76          JRNE    PE_NAP                                  ;BR=NOT TEAM SELECT
    4672 0001d160     4a66          BTST    A3,A6
    4673 0001d170     ca74          JRZ     PE_NAP                                  ;BR=NOT UP
    4674 0001d180     c00f          JRUC    PE_UP_CHECK_RANDOM
    4675                    
    4676 0001d190           PE_NOSTUCK
    4677 0001d190     4cc5          MOVE    A6,A5                                   ;NEW LAST JOYSTICK
    4678 0001d1a0     56e7          CLR     A7                                      ;NO MORE STUCK
    4679                    
    4680 0001d1b0     4c6e          MOVE    A3,A14
    4681 0001d1c0     4bc6          BTST    A14,A6
    4682 0001d1d0     ca28          JRZ     PE_CHECK_DOWN                           ;BR=NOT UP
    4683 0001d1e0     4c0e          MOVE    A0,A14
    4684                    
    4685 0001d1f0     0b6b          CMPI    TEAM_ARRAY,A11                          ;CHECK IF TEAM ARRAY
         0001d200 fffe5baf' 
    4686 0001d220     ca03          JREQ    PE_UP_TEAM                              ;BR=YES
    4687                    
    4688 0001d230     444e          SUB     A2,A14
    4689 0001d240     ce67          JRN     PE_NAP                                  ;BR=CAN'T GO UP
    4690 0001d250     c01c          JRUC    PE_UP
    4691                    
    4692 0001d260           PE_UP_TEAM
    4693 0001d260     444e          SUB     A2,A14
    4694 0001d270     cf0e          JRNN    PE_UP_TEAM_FUDGE                        ;BR=CHECK FOR FUDGE
    4695 0001d280           PE_UP_CHECK_RANDOM
    4696 0001d280     57ce          CLR     A14
    4697 0001d290     0b49          CMPI    2,A9
         0001d2a0     fffd  
    4698 0001d2b0     c401          JRLT    PE_UP_CHECK_HOME                        ;BR=CHICAGO IS HOME
    4699 0001d2c0     186e          MOVK    3,A14                                   ;BOSTON IS HOME
    4700 0001d2d0           PE_UP_CHECK_HOME
    4701 0001d2d0     49c0          CMP     A14,A0
    4702 0001d2e0     cb5d          JRNE    PE_NAP                                  ;BR=NOT AT HOME
    4703                    
    4704 0001d2f0     07ee          MOVB    @RANDOM_ENABLE_BITS,A14
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  108

         0001d300 00000230- 
    4705 0001d320     4b2e          BTST    A9,A14
    4706 0001d330     cb00          JRNZ    PE_RANDOM                               ;BR=DO THE RANDOM THING
         0001d340     0148  
    4707                    
    4708                    ;       MOVE    B3,B14
    4709                    ;       ADDK    B_SW_P,B14
    4710                    ;       BTST    B14,B6
    4711                    ;       JRNZ    PE_RANDOM                               ;BR=PASS
    4712                    
    4713                    ;       MOVE    @COINS,B14,L                            ;GET START BUTTONS
    4714                    ;       MOVE    A9,B6
    4715                    ;       SLL     4,B6
    4716                    ;       ADDI    START_BUTTON_BIT_TABLE,B6
    4717                    ;       MOVE    *B6,B6,W
    4718                    ;       BTST    B6,B14
    4719                    ;       JRZ     PE_RANDOM                               ;BR=DO RANDOM
    4720 0001d350     c056          JRUC    PE_NAP
    4721                    
    4722 0001d360           PE_UP_TEAM_FUDGE
    4723                    ;       CMPI    TEAM_ARRAY,A11                          ;CHECK IF TEAM ARRAY
    4724                    ;       JRNE    PE_UP                                   ;BR=GO UP
    4725                    
    4726 0001d360     0b40          CMPI    24,A0                                   ;CHECK IF BOTTOM TEAM
         0001d370     ffe7  
    4727 0001d380     c409          JRLT    PE_UP                                   ;BR=DON'T FUDGE
    4728 0001d390     188e          MOVK    4,A14
    4729 0001d3a0     0b40          CMPI    24,A0
         0001d3b0     ffe7  
    4730 0001d3c0     ca01          JREQ    PE_UP_FUDGE                             ;BR=FIRST COLUMN
    4731 0001d3d0     142e          DEC     A14                                     ;THIRD COLUMN
    4732 0001d3e0           PE_UP_FUDGE
    4733 0001d3e0     45c0          SUB     A14,A0                                  ;FUDGE
    4734 0001d3f0     0d3f          CALLR   MOVE_SOUND
         0001d400     017d  
    4735 0001d410     c041          JRUC    PE_UPDATE
    4736                    
    4737                    ;       CMPI    24,A0                                   ;CHECK IF BOTTOM TEAM
    4738                    ;       JRLT    PE_UP                                   ;BR=DON'T FUDGE
    4739                    ;       SUBK    2,A0                                    ;FUDGE
    4740                    ;       CALLR   MOVE_SOUND
    4741                    ;       JRUC    PE_UPDATE
    4742 0001d420           PE_UP
    4743 0001d420     4dc0          MOVE    A14,A0
    4744 0001d430     0d3f          CALLR   MOVE_SOUND
         0001d440     0179  
    4745 0001d450     c03d          JRUC    PE_UPDATE
    4746                    
    4747 0001d460           PE_CHECK_DOWN
    4748 0001d460     102e          INC     A14
    4749 0001d470     4bc6          BTST    A14,A6
    4750 0001d480     ca27          JRZ     PE_CHECK_LEFT                           ;BR=NOT DOWN
    4751 0001d490     4c0e          MOVE    A0,A14
    4752 0001d4a0     404e          ADD     A2,A14
    4753                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  109

    4754 0001d4b0     0b6b          CMPI    TEAM_ARRAY,A11                          ;CHECK IF TEAM ARRAY
         0001d4c0 fffe5baf' 
    4755 0001d4e0     cb10          JRNE    PE_CHECK_DOWN_LIMITS                    ;BR=CHECK LIMITS
    4756                    ;       CMPI    19,A0
    4757                    ;       JRLE    PE_DOWN                                 ;BR=GO DOWN
    4758                    ;       CMPI    24,A0                                   ;CHECK IF BOTTOM TEAM
    4759                    ;       JRGE    PE_NAP                                  ;BR=CAN'T GO DOWN
    4760                    ;       CMPI    22,A0
    4761                    ;       JRLT    PE_NAP                                  ;BR=CAN'T GO DOWN
    4762                    ;       ADDK    2,A0                                    ;FUDGE
    4763                    ;       JRUC    PE_UPDATE
    4764                    
    4765 0001d4f0     0b40          CMPI    20,A0
         0001d500     ffeb  
    4766 0001d510     c41a          JRLT    PE_DOWN                                 ;BR=GO DOWN
    4767 0001d520     0b40          CMPI    21,A0                                   ;CHECK IF BOTTOM TEAM
         0001d530     ffea  
    4768 0001d540     ca37          JREQ    PE_NAP                                  ;BR=CAN'T GO DOWN
    4769 0001d550     0b40          CMPI    23,A0
         0001d560     ffe8  
    4770 0001d570     c534          JRGE    PE_NAP                                  ;BR=CAN'T GO DOWN
    4771 0001d580     188e          MOVK    4,A14
    4772 0001d590     0b40          CMPI    20,A0
         0001d5a0     ffeb  
    4773 0001d5b0     ca01          JREQ    PE_DOWN_FUDGE                           ;BR=FIRST COLUMN
    4774 0001d5c0     142e          DEC     A14                                     ;THIRD COLUMN
    4775 0001d5d0           PE_DOWN_FUDGE
    4776 0001d5d0     41c0          ADD     A14,A0                                  ;FUDGE
    4777 0001d5e0     c024          JRUC    PE_UPDATE
    4778                    
    4779 0001d5f0           PE_CHECK_DOWN_LIMITS
    4780 0001d5f0     482e          CMP     A1,A14
    4781 0001d600     c40b          JRLT    PE_DOWN                                 ;BR=GO DOWN
    4782 0001d610     0b41          CMPI    29,A1
         0001d620     ffe2  
    4783 0001d630     c428          JRLT    PE_NAP                                  ;BR=NO DAY FUDGE
    4784 0001d640     0b40          CMPI    27,A0
         0001d650     ffe4  
    4785 0001d660     c725          JRGT    PE_NAP                                  ;BR=DON'T FUDGE
    4786                    
    4787 0001d670     4c20          MOVE    A1,A0
    4788 0001d680     1420          DEC     A0                                      ;FUDGE TO LAST ENTRY
    4789 0001d690     0d3f          CALLR   MOVE_SOUND
         0001d6a0     0153  
    4790 0001d6b0     c017          JRUC    PE_UPDATE
    4791 0001d6c0           PE_DOWN
    4792 0001d6c0     4040          ADD     A2,A0
    4793 0001d6d0     0d3f          CALLR   MOVE_SOUND
         0001d6e0     014f  
    4794 0001d6f0     c013          JRUC    PE_UPDATE
    4795                    
    4796 0001d700           PE_CHECK_LEFT
    4797 0001d700     102e          INC     A14
    4798 0001d710     4bc6          BTST    A14,A6
    4799 0001d720     ca06          JRZ     PE_CHECK_RIGHT                          ;BR=NOT LEFT
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  110

    4800 0001d730     4c00          MOVE    A0,A0
    4801 0001d740     ca17          JRZ     PE_NAP                                  ;BR=CAN'T GO LEFT
    4802 0001d750     1420          DEC     A0
    4803 0001d760     0d3f          CALLR   MOVE_SOUND
         0001d770     0146  
    4804 0001d780     c00a          JRUC    PE_UPDATE
    4805                    
    4806 0001d790           PE_CHECK_RIGHT
    4807 0001d790     102e          INC     A14
    4808 0001d7a0     4bc6          BTST    A14,A6
    4809 0001d7b0     ca10          JRZ     PE_NAP                                  ;BR=NOT RIGHT
    4810 0001d7c0     4c0e          MOVE    A0,A14
    4811 0001d7d0     102e          INC     A14
    4812 0001d7e0     482e          CMP     A1,A14
    4813 0001d7f0     ca0c          JREQ    PE_NAP                                  ;BR=CAN'T GO RIGHT
    4814 0001d800     4dc0          MOVE    A14,A0
    4815 0001d810     0d3f          CALLR   MOVE_SOUND
         0001d820     013b  
    4816 0001d830           PE_UPDATE
    4817 0001d830     0b6b          CMPI    TEAM_ARRAY,A11
         0001d840 fffe5baf' 
    4818 0001d860     cb03          JRNE    PE_UPDATE_GO                            ;BR=NOT TEAM SELECT
    4819                    
    4820 0001d870     57ce          CLR     A14
    4821 0001d880     b1cd          MOVE    A14,*A13(PSWAP),W                       ;CLEAR SWAP
         0001d890     0240  
    4822 0001d8a0           PE_UPDATE_GO
    4823 0001d8a0     0d3f          CALLR   UPDATE_PICKBOX
         0001d8b0     0156  
    4824 0001d8c0           PE_NAP
    4825 0001d8c0     05ae          MOVE    @TIMES_UP,A14,W
         0001d8d0 00000220- 
    4826 0001d8f0     0b6b          CMPI    TEAM_ARRAY,A11
         0001d900 fffe5baf' 
    4827 0001d920     cb03          JRNE    PE_CHECK_ABORT                          ;BR=NOT TEAM SELECT
    4828 0001d930     4dce          MOVE    A14,A14
    4829 0001d940     cb42          JRNZ    PE_DONE                                 ;BR=TIME'S UP DUMMY!
    4830 0001d950     c002          JRUC    PE_DO_NAP
    4831 0001d960           PE_CHECK_ABORT
    4832 0001d960     4dce          MOVE    A14,A14
    4833 0001d970     cb70          JRNZ    PE_ABORT                                ;BR=TIME'S UP DUMMY!
    4834 0001d980           PE_DO_NAP
    4835 0001d980     0b6b          CMPI    TEAM_ARRAY,A11
         0001d990 fffe5baf' 
    4836 0001d9b0     cb0c          JRNE    PE_DN_NAP                               ;BR=NOT TEAM SELECT
    4837                    
    4838 0001d9c0     4d26          MOVE    A9,A6
    4839 0001d9d0     2fe6          SRL     1,A6                                    ;PLAYER TO TEAM                                 
    4840 0001d9e0     2426          SLL     1,A6                                    ;TEAM TO SHIFT
    4841 0001d9f0     186e          MOVK    011B,A14                                ;LEFT TEAM MASK
    4842 0001da00     62ce          SLL     A6,A14
    4843 0001da10     07e6          MOVB    @RANDOM_ENABLE_BITS,A6
         0001da20 00000230- 
    4844 0001da40     53c6          ANDN    A14,A6                                  ;RESET FLAGS
    4845 0001da50     05e6          MOVB    A6,@RANDOM_ENABLE_BITS
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  111

         0001da60 00000230- 
    4846 0001da80           PE_DN_NAP
    4847 0001da80     098c          MMTM    A12,A0,A1,A2,A3,A4,A5,A7
         0001da90     fd00  
    4848 0001daa0     4f8e          MOVE    A12,B14
    4849 0001dab0     099e          MMTM    B14,B0,B1,B3,B4,B5,B7,B8
         0001dac0     dd80  
    4850 0001dad0     4fdc          MOVE    B14,A12
    4851 0001dae0                   SLEEP   1
    4852 0001db20     4f8e          MOVE    A12,B14
    4853 0001db30     09be          MMFM    B14,B0,B1,B3,B4,B5,B7,B8
         0001db40     01bb  
    4854 0001db50     4fdc          MOVE    B14,A12
    4855 0001db60     09ac          MMFM    A12,A0,A1,A2,A3,A4,A5,A7
         0001db70     00bf  
    4856                    
    4857 0001db80     07ee          MOVB    @TEAM_SELECTED_BITS,A14
         0001db90 00000018- 
    4858 0001dbb0     ca00          JRZ     PE_READ_SWITCH                          ;BR=SWAPPING ALLOWED
         0001dbc0     fe75  
    4859                    
    4860 0001dbd0     05a6          MOVE    @team1_home,A6,W
         0001dbe0 00000000! 
    4861 0001dc00     05ae          MOVE    @team2_home,A14,W
         0001dc10 00000000! 
    4862 0001dc30     48ce          CMP     A6,A14
    4863 0001dc40     cb00          JRNE    PE_READ_SWITCH                          ;BR=NO SIDE CONFLICT
         0001dc50     fe6c  
    4864                    
    4865 0001dc60     0d3f          CALLR   SIDE_TOGGLE_SOUND
         0001dc70     0112  
    4866                    
    4867 0001dc80     4f29          MOVE    A9,B9
    4868 0001dc90     2ff9          SRL     1,B9
    4869 0001dca0     2499          SLL     4,B9
    4870 0001dcb0     0b39          ADDI    team1_home,B9
         0001dcc0 00000000! 
    4871 0001dce0     853e          MOVE    *B9,B14,W                               
    4872 0001dcf0     0bde          XORI    1,B14                                   ;TOGGLE HOME/AWAY SIDE
         0001dd00 00000001  
    4873 0001dd20     81d9          MOVE    B14,*B9,W
    4874 0001dd30     0d3f          CALLR   UPDATE_PICKBOX
         0001dd40     010d  
    4875 0001dd50     c000          JRUC    PE_READ_SWITCH                          ;BR=NO SIDE CONFLICT
         0001dd60     fe5b  
    4876                    
    4877                    
    4878                    ;       CMPI    TEAM_ARRAY,A11
    4879                    ;       JRNE    PE_READ_SWITCH                          ;BR=NOT TEAM SELECT
    4880                    ;
    4881                    ;       MOVE    @TIMES_UP,A14,W
    4882                    ;       JRZ     PE_READ_SWITCH                          ;BR=STILL GOT TIME
    4883                    
    4884 0001dd70           PE_DONE
    4885 0001dd70     0d3f          CALLR   PICK_SOUND
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  112

         0001dd80     00f1  
    4886                    
    4887 0001dd90     4c01          MOVE    A0,A1                                   ;RETURN SELECTED INDEX
    4888 0001dda0     b5a2          MOVE    *A13(PSWAP),A2,W                        ;RETURN SWAP INDEX
         0001ddb0     0240  
    4889                    
    4890 0001ddc0     098f          MMTM    SP,A0,A9,A10
         0001ddd0     8060  
    4891                    
    4892 0001dde0     4e39          MOVE    B1,A9                                   ;OID2
    4893 0001ddf0     b7aa          MOVE    *A13(PARROW),A10,L                      ;ARROW POINTER OBJECT
         0001de00     0270  
    4894 0001de10                   P_FORK  PE_FINAL_FLASH                          ;FINAL SELECT FLASH
    4895                    
    4896 0001de70     09af          MMFM    SP,A0,A9,A10
         0001de80     0601  
    4897                    
    4898 0001de90     0b6b          CMPI    TEAM_ARRAY,A11
         0001dea0 fffe5baf' 
    4899 0001dec0     cb1b          JRNE    PE_ABORT                                ;BR=NOT TEAM SELECT
    4900                    
    4901 0001ded0     07ee          MOVB    @TEAM_SELECTED_BITS,A14
         0001dee0 00000018- 
    4902                    ;       SLL     28,A14
    4903                    ;       SRL     28,A14
    4904 0001df00     ca17          JRZ     PE_ABORT                                ;BR=NONE SELECTED
    4905                    
    4906 0001df10     05a5          MOVE    @team1_home,A5,W
         0001df20 00000000! 
    4907 0001df40     05a6          MOVE    @team2_home,A6,W
         0001df50 00000000! 
    4908 0001df70     48a6          CMP     A5,A6
    4909 0001df80     cb0f          JRNE    PE_ABORT                                ;BR=NO SIDE CONFLICT
    4910                    
    4911 0001df90     0d3f          CALLR   SIDE_TOGGLE_SOUND
         0001dfa0     00df  
    4912                    
    4913 0001dfb0     4f29          MOVE    A9,B9
    4914 0001dfc0     2ff9          SRL     1,B9
    4915 0001dfd0     2499          SLL     4,B9
    4916 0001dfe0     0b39          ADDI    team1_home,B9
         0001dff0 00000000! 
    4917 0001e010     853e          MOVE    *B9,B14,W                               
    4918 0001e020     0bde          XORI    1,B14                                   ;TOGGLE HOME/AWAY SIDE
         0001e030 00000001  
    4919 0001e050     81d9          MOVE    B14,*B9,W
    4920 0001e060     0d3f          CALLR   UPDATE_PICKBOX
         0001e070     00da  
    4921                    
    4922 0001e080           PE_ABORT
    4923 0001e080                   RETP
    4924                    
    4925                    
    4926 0001e0b0           PE_FINAL_FLASH
    4927 0001e0b0     b50e          MOVE    *A8(OCONST),A14,W
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  113

         0001e0c0     0290  
    4928                    
    4929 0001e0d0     0b6b          CMPI    TEAM_ARRAY,A11
         0001e0e0 fffe5baf' 
    4930 0001e100     cb43          JRNE    PE_SELECT_FLASH                         ;BR=NOT TEAM SELECT
    4931                    
    4932 0001e110     4d40          MOVE    A10,A0
    4933 0001e120     0d5f          CALLA   DELOBJ                                  ;KILL DA ARROW
         0001e130 00000000! 
    4934                    
    4935 0001e150     07a0          MOVE    @BLUE_SELECT_OBJ,A0,L
         0001e160 00000180- 
    4936 0001e180     09c2          MOVI    COLOR_RED,A2
         0001e190     0101  
    4937 0001e1a0     09e3          MOVI    RED_MUG_BGND_OBJ,A3
         0001e1b0 000001e0- 
    4938 0001e1d0     4900          CMP     A8,A0
    4939 0001e1e0     cb08          JRNE    PE_CHECK_OVERLAP                        ;BR=OTHER OBJECT
    4940 0001e1f0     07a0          MOVE    @RED_SELECT_OBJ,A0,L
         0001e200 000001c0- 
    4941 0001e220     09c2          MOVI    COLOR_BLUE,A2
         0001e230     0303  
    4942 0001e240     09e3          MOVI    BLUE_MUG_BGND_OBJ,A3
         0001e250 000001a0- 
    4943 0001e270           PE_CHECK_OVERLAP
    4944                    
    4945 0001e270     4d04          MOVE    A8,A4
    4946 0001e280     8668          MOVE    *A3,A8,L                                ;FLASH MUG BACKGROUND
    4947 0001e290     09ce          MOVI    0101H,A14
         0001e2a0     0101  
    4948 0001e2b0     b1c8          MOVE    A14,*A8(OCONST),W
         0001e2c0     0290  
    4949 0001e2d0     18ae          MOVK    SELECT_FLASHES,A14
    4950 0001e2e0     adc8          MOVB    A14,*A8(ANIMLOOP)
         0001e2f0     0370  
    4951 0001e300     09e1          MOVI    MUG_BGND_FLASH_ANIM,A1
         0001e310 00022fd0' 
    4952 0001e330     0d5f          CALLA   STRT_ANIM
         0001e340 00000000! 
    4953 0001e360     4c88          MOVE    A4,A8
    4954                    
    4955 0001e370     4c4e          MOVE    A2,A14                                  ;RESULTING CONST COLOR
    4956                    
    4957 0001e380     4c00          MOVE    A0,A0
    4958 0001e390     ca1a          JRZ     PE_SELECT_FLASH                         ;BR=TEAM NOT ACTIVE
    4959                    
    4960 0001e3a0     09c2          MOVI    -1,A2                                   ;FORCE ON TOP
         0001e3b0     ffff  
    4961 0001e3c0     b248          MOVE    A2,*A8(OZVAL),L
         0001e3d0     0180  
    4962                    
    4963 0001e3e0     b702          MOVE    *A8(ODAG),A2,L
         0001e3f0     0220  
    4964 0001e400     b603          MOVE    *A0(ODAG),A3,L
         0001e410     0220  
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  114

    4965 0001e420     4843          CMP     A2,A3
    4966 0001e430     cb10          JRNE    PE_SELECT_FLASH                         ;BR=NOT OVERLAPPIN'
    4967                    
    4968 0001e440     b402          MOVE    *A0(OFLAGS),A2,W
         0001e450     0420  
    4969 0001e460     1e22          BTST    B_ANIM,A2
    4970 0001e470     ca06          JRZ     PE_SAME                                 ;BR=OTHER NOT ANIMATING
    4971                    
    4972 0001e480     b602          MOVE    *A0(ANIMSCR),A2,L
         0001e490     0340  
    4973                    
    4974 0001e4a0     0b62          CMPI    PICKBOX_SELECT_FLASH_ANIM,A2
         0001e4b0 fffdd17f' 
    4975 0001e4d0     cb06          JRNE    PE_SELECT_FLASH                         ;BR=NOT SELECT ANIMATION
    4976 0001e4e0           PE_SAME
    4977 0001e4e0     09c2          MOVI    -2,A2                                   ;FORCE ON TOP
         0001e4f0     fffe  
    4978 0001e500     b248          MOVE    A2,*A8(OZVAL),L
         0001e510     0180  
    4979                    
    4980 0001e520     09ce          MOVI    COLOR_YELLOW,A14                        ;BR=BOTH SAME TEAM
         0001e530     0505  
    4981 0001e540           PE_SELECT_FLASH
    4982 0001e540     b1c8          MOVE    A14,*A8(ODATA),W
         0001e550     04b0  
    4983                    
    4984 0001e560     09ce          MOVI    0B0BH,A14
         0001e570     0b0b  
    4985 0001e580     b1c8          MOVE    A14,*A8(OCONST),W
         0001e590     0290  
    4986 0001e5a0     18ae          MOVK    SELECT_FLASHES,A14
    4987 0001e5b0     adc8          MOVB    A14,*A8(ANIMLOOP)
         0001e5c0     0370  
    4988 0001e5d0     09e1          MOVI    PICKBOX_SELECT_FLASH_ANIM,A1
         0001e5e0 00022e80' 
    4989 0001e600     0d5f          CALLA   STRT_ANIM
         0001e610 00000000! 
    4990                    
    4991 0001e630                   SLEEP   SELECT_FLASH_ONTIME*SELECT_FLASHES*2
    4992                    
    4993 0001e670     b908          MOVE    *A8(ODATA),*A8(OCONST),W                ;SET PLAYER COLOR
         0001e680     04b0  
         0001e690     0290  
    4994 0001e6a0     0d5f          CALLA   OBJ_CONST_ALL
         0001e6b0 00000000! 
    4995                    
    4996 0001e6d0     b70e          MOVE    *A8(OZVAL),A14,L                        ;FORCE BELOW
         0001e6e0     0180  
    4997 0001e6f0     104e          ADDK    2,A14
    4998 0001e700     b3c8          MOVE    A14,*A8(OZVAL),L
         0001e710     0180  
    4999                    
    5000 0001e720                   SLEEP   15
    5001                    
    5002 0001e760     4d20          MOVE    A9,A0
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  115

    5003 0001e770     0d5f          CALLA   KILOBJ_ALL                              ;DELETE OID2 OBJECTS
         0001e780 00000000! 
    5004                    
    5005 0001e7a0                   DIE
    5006                    
    5007 0001e7d0           PE_RANDOM
    5008 0001e7d0                   PUSH    A0
    5009 0001e7e0     09c0          MOVI    AUD_RANDOM_PICKED,A0
         0001e7f0     0046  
    5010 0001e800     0d5f          CALLA   AUD1
         0001e810 00000000! 
    5011 0001e830                   PULLQ   A0
    5012                    
    5013 0001e840     07ee          MOVB    @TEAM_SELECTED_BITS,A14                 ;DISABLE SIDE SWAPPIN'
         0001e850 00000018- 
    5014 0001e870     0bae          ORI     010000B,A14                             ; BEFORE TEAM SELECTED
         0001e880 00000010  
    5015 0001e8a0     05ee          MOVB    A14,@TEAM_SELECTED_BITS
         0001e8b0 00000018- 
    5016                    
    5017 0001e8d0     19e3          MOVK    15,A3
    5018 0001e8e0           PE_R_LUPE
    5019 0001e8e0     4c02          MOVE    A0,A2
    5020 0001e8f0     4c20          MOVE    A1,A0
    5021 0001e900     0d5f          CALLA   RAND0
         0001e910 00000000! 
    5022 0001e930     4840          CMP     A2,A0
    5023 0001e940     cb04          JRNE    PE_R_UPDATE                             ;BR=NOT SAME AS LAST
    5024 0001e950     1020          INC     A0                                      ;NEXT TEAM
    5025 0001e960     4820          CMP     A1,A0
    5026 0001e970     c401          JRLT    PE_R_UPDATE                             ;BR=TEAM OKAY
    5027 0001e980     5600          CLR     A0                                      ;RESET TO FIRST TEAM
    5028 0001e990           PE_R_UPDATE
    5029                    ;       CALLR   MOVE_SOUND
    5030 0001e990     0d3f          CALLR   TOPTEN_SOUND
         0001e9a0     f6bd  
    5031                    
    5032 0001e9b0     57ce          CLR     A14
    5033 0001e9c0     142e          DEC     A14
    5034 0001e9d0     b1cd          MOVE    A14,*A13(PSWAP),W                       ;CLEAR SWAP
         0001e9e0     0240  
    5035                    
    5036 0001e9f0     0d3f          CALLR   UPDATE_PICKBOX
         0001ea00     0041  
    5037 0001ea10     098c          MMTM    A12,A0,A1,A3
         0001ea20     d000  
    5038 0001ea30     4f8e          MOVE    A12,B14
    5039 0001ea40     099e          MMTM    B14,B0,B1
         0001ea50     c000  
    5040 0001ea60     4fdc          MOVE    B14,A12
    5041 0001ea70                   SLEEP   6
    5042 0001eab0     4f8e          MOVE    A12,B14
    5043 0001eac0     09be          MMFM    B14,B0,B1
         0001ead0     0003  
    5044 0001eae0     4fdc          MOVE    B14,A12
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  116

    5045 0001eaf0     09ac          MMFM    A12,A0,A1,A3
         0001eb00     000b  
    5046                    
    5047 0001eb10     05ae          MOVE    @TIMES_UP,A14,W
         0001eb20 00000220- 
    5048 0001eb40     cb00          JRNZ    PE_DONE                                 ;BR=TIME'S UP DUMMY!
         0001eb50     ff21  
    5049                    
    5050 0001eb60     0d83          DSJ     A3,PE_R_LUPE
         0001eb70     ffd6  
    5051                    
    5052 0001eb80     c000          JRUC    PE_DONE
         0001eb90     ff1d  
    5053                    
    5054 0001eba0           START_BUTTON_BIT_TABLE
    5055 0001eba0     0022          .WORD   34,37,41,42
    5056                    
    5057 0001ebe0           MOVE_SOUND
    5058                    ;       PUSH    A4
    5059                    ;       MOVI    S_CURSOR_MOVE,A4
    5060                    ;       CALLA   do_sound
    5061                    ;       PULLQ   A4
    5062                    
    5063 0001ebe0     098f          MMTM    SP,A1,A4
         0001ebf0     4800  
    5064 0001ec00     09c1          MOVI    100,A1
         0001ec10     0064  
    5065 0001ec20     09c4          MOVI    S_CURSOR_MOVE,A4
         0001ec30     0107  
    5066 0001ec40     0d5f          CALLA   do_sound_at_volume
         0001ec50 00000000! 
    5067 0001ec70     09af          MMFM    SP,A1,A4
         0001ec80     0012  
    5068                    
    5069 0001ec90     0960          RETS
    5070                    
    5071 0001eca0           PICK_SOUND
    5072 0001eca0                   PUSH    A4
    5073 0001ecb0     09c4          MOVI    S_CURSOR_SELECT,A4
         0001ecc0     0108  
    5074 0001ecd0     0d5f          CALLA   do_sound
         0001ece0 00000000! 
    5075 0001ed00                   PULLQ   A4
    5076 0001ed10     0960          RETS
    5077                    
    5078 0001ed20           SWAP_SOUND
    5079 0001ed20                   PUSH    A4
    5080 0001ed30     09c4          MOVI    S_CURSOR_SWAP,A4
         0001ed40     0109  
    5081 0001ed50     0d5f          CALLA   do_sound
         0001ed60 00000000! 
    5082 0001ed80                   PULLQ   A4
    5083 0001ed90     0960          RETS
    5084                    
    5085 0001eda0           SIDE_TOGGLE_SOUND
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  117

    5086 0001eda0                   PUSH    A4
    5087 0001edb0     09c4          MOVI    S_SIDE_TOGGLE,A4
         0001edc0     010a  
    5088 0001edd0     0d5f          CALLA   do_sound
         0001ede0 00000000! 
    5089 0001ee00                   PULLQ   A4
    5090 0001ee10     0960          RETS
    5091                    
    5092                    
    5093                    
    5094                    **************************************************************************
    5095                    *                                                                        *
    5096                    * UPDATE_PICKBOX                                                         *
    5097                    *                                                                        *
    5098                    * PASS:                                                                  *
    5099                    * A0  = ARRAY INDEX                                                      *
    5100                    * A9  = PLAYER NUMBER - 1                                                *
    5101                    * A10 = [Y,X] OFFSET                                                     *
    5102                    * A11 = POSITION/SIZE ARRAY                                              *
    5103                    * B0  = STRING TABLE                                                     *
    5104                    * B1  = OID2                                                             *
    5105                    *                                                                        *
    5106                    **************************************************************************
    5107                    
    5108 0001ee20           UPDATE_PICKBOX
    5109 0001ee20     098f          MMTM    SP,A0,A1,A2,A3,A4,A5,A7,A8,A9,A10,A11
         0001ee30     fdf0  
    5110 0001ee40     099f          MMTM    SP,B0,B1,B3,B4,B5,B7,B8,B9
         0001ee50     ddc0  
    5111                    
    5112 0001ee60     4c0e          MOVE    A0,A14
    5113 0001ee70     24ce          SLL     6,A14
    5114 0001ee80     416e          ADD     A11,A14
    5115 0001ee90     97c1          MOVE    *A14+,A1,L
    5116                    
    5117 0001eea0     b228          MOVE    A1,*A8(OUSIZE),L
         0001eeb0     0240  
    5118 0001eec0     b228          MOVE    A1,*A8(OSIZE),L
         0001eed0     0260  
    5119                    
    5120 0001eee0     97c1          MOVE    *A14+,A1,L
    5121 0001eef0     e141          ADDXY   A10,A1
    5122                    
    5123 0001ef00     b228          MOVE    A1,*A8(ODAG),L
         0001ef10     0220  
    5124 0001ef20     b028          MOVE    A1,*A8(OXPOS),W
         0001ef30     0150  
    5125 0001ef40     2e01          SRL     16,A1
    5126 0001ef50     b028          MOVE    A1,*A8(OYPOS),W
         0001ef60     0170  
    5127                    
    5128 0001ef70     0b6b          CMPI    TEAM_ARRAY,A11
         0001ef80 fffe5baf' 
    5129 0001efa0     cb00          JRNE    UP_STRING
         0001efb0     008f  
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  118

    5130                    
    5131 0001efc0     4c02          MOVE    A0,A2
    5132 0001efd0     2482          SLL     4,A2
    5133 0001efe0     0b22          ADDI    TEAM_REMAP_TABLE,A2
         0001eff0 0001aad0' 
    5134 0001f010     8442          MOVE    *A2,A2,W
    5135 0001f020                   MOD_COL a2                      ;modify a2 based if colorado
    5136 0001f070     2542          SLL     10,A2
    5137 0001f080     0b22          ADDI    team_data,A2
         0001f090 00000000! 
    5138                    
    5139 0001f0b0     b7a8          MOVE    *A13(PTEAMNAME_OBJ),A8,L
         0001f0c0     0100  
    5140 0001f0d0     b504          MOVE    *A8(OCTRL),A4,W
         0001f0e0     01f0  
    5141 0001f0f0     b641          move    *a2(TD_ALT_NAME),a1,L
         0001f100     03a0  
    5142 0001f110     cb02          jrnz    asjj2
    5143 0001f120     b641          MOVE    *A2(TD_TEAMNAME_IMG),A1,L
         0001f130     0240  
    5144 0001f140     0d5f  asjj2   CALLA   ANI
         0001f150 00000000! 
    5145                    
    5146 0001f170     b7a8          MOVE    *A13(PLOGO_OBJ),A8,L
         0001f180     0120  
    5147 0001f190     b504          MOVE    *A8(OCTRL),A4,W
         0001f1a0     01f0  
    5148 0001f1b0     b641          MOVE    *A2(TD_TEAMLOGO_IMG),A1,L
         0001f1c0     0260  
    5149 0001f1d0     0d5f          CALLA   ANI
         0001f1e0 00000000! 
    5150 0001f200     b620          MOVE    *A1(ICMAP),A0,L
         0001f210     0070  
    5151 0001f220     0d5f          CALLA   CHANGE_PAL
         0001f230 00000000! 
    5152                    
    5153 0001f250     b7a8          MOVE    *A13(PTEAMNAME_OBJ),A8,L
         0001f260     0100  
    5154 0001f270     b504          MOVE    *A8(OCTRL),A4,W
         0001f280     01f0  
    5155                    
    5156 0001f290     b641          move    *a2(TD_ALT_NAME),a1,L
         0001f2a0     03a0  
    5157 0001f2b0     cb02          jrnz    asjj3
    5158 0001f2c0     b641          MOVE    *A2(TD_TEAMNAME_IMG),A1,L
         0001f2d0     0240  
    5159 0001f2e0     0d5f  asjj3   CALLA   ANI
         0001f2f0 00000000! 
    5160                    
    5161 0001f310     b7a8          MOVE    *A13(PGBODY_OBJ),A8,L
         0001f320     0200  
    5162 0001f330     4c40          MOVE    A2,A0
    5163 0001f340     09c1          MOVI    TD_GOALIE_HPAL,A1                       ;DEFAULT TO HOME PALETTE
         0001f350     00e0  
    5164 0001f360     4d2e          MOVE    A9,A14
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  119

    5165 0001f370     2fee          SRL     1,A14
    5166 0001f380     248e          SLL     4,A14
    5167 0001f390     0b2e          ADDI    team1_home,A14
         0001f3a0 00000000! 
    5168 0001f3c0     85ce          MOVE    *A14,A14,W
    5169 0001f3d0     cb02          JRNZ    UP_ADD_PAL_OFFSET                       ;BR=HOME TEAM   
    5170 0001f3e0     09c1          MOVI    TD_GOALIE_APAL,A1                       ;SET AWAY PALETTE
         0001f3f0     00a0  
    5171 0001f400           UP_ADD_PAL_OFFSET
    5172 0001f400     4020          ADD     A1,A0
    5173 0001f410     8600          MOVE    *A0,A0,L
    5174 0001f420     0d5f          CALLA   CHANGE_PAL
         0001f430 00000000! 
    5175                    
    5176 0001f450     b7a8          MOVE    *A13(PGHEAD_OBJ),A8,L
         0001f460     0220  
    5177                    
    5178 0001f470     b643          MOVE    *A2(TD_GOALIE_LIST),A3,L
         0001f480     0220  
    5179 0001f490     8463          MOVE    *A3,A3,W                                ;PLAYER INDEX
    5180 0001f4a0     4c60          MOVE    A3,A0
    5181 0001f4b0     24a0          SLL     5,A0
    5182 0001f4c0     0b20          ADDI    player_data,A0
         0001f4d0 00000000! 
    5183 0001f4f0     8600          MOVE    *A0,A0,L
    5184                    
    5185 0001f500     b601          MOVE    *A0(TP_HEAD_TABLE),A1,L
         0001f510     0040  
    5186 0001f520     b621          MOVE    *A1(020H+010H+010H),A1,L                ;OFFSET TO DIR 2 HEAD
         0001f530     0040  
    5187 0001f540     b504          MOVE    *A8(OCTRL),A4,W
         0001f550     01f0  
    5188 0001f560     0d5f          CALLA   ANI
         0001f570 00000000! 
    5189                    
    5190 0001f590     09e4          MOVI    02610261H,A4
         0001f5a0 02610261  
    5191 0001f5c0     0b43          CMPI    s_arturs_irbe,A3
         0001f5d0     ffb4  
    5192 0001f5e0     cb03          JRNE    UP_SET_HEAD_SCALE                       ;BR=NOT IRBE
    5193 0001f5f0     09e4          MOVI    02290229H,A4
         0001f600 02290229  
    5194 0001f620           UP_SET_HEAD_SCALE
    5195 0001f620     b288          MOVE    A4,*A8(OSCALE),L
         0001f630     02a0  
    5196 0001f640     2e04          SRL     16,A4
    5197                    
    5198 0001f650     b70e          MOVE    *A8(OANIOFF),A14,L              ;SCALE ANIMP
         0001f660     01c0  
    5199 0001f670     4dc1          MOVE    A14,A1
    5200 0001f680     2601          SLL     16,A1
    5201 0001f690     2b01          SRA     16-8,A1
    5202 0001f6a0     5881          DIVS    A4,A1                           ;SCALE X ANIMP
    5203 0001f6b0     ec2e          MOVX    A1,A14
    5204 0001f6c0     4dc1          MOVE    A14,A1
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  120

    5205 0001f6d0     2a01          SRA     16,A1
    5206 0001f6e0     2501          SLL     8,A1
    5207 0001f6f0     5881          DIVS    A4,A1                           ;SCALE Y ANIMP
    5208 0001f700     2601          SLL     16,A1
    5209 0001f710     ee2e          MOVY    A1,A14
    5210 0001f720     b3c8          MOVE    A14,*A8(OANIOFF),L
         0001f730     01c0  
    5211 0001f740                   PUSH    A2
    5212 0001f750     0d5f          CALLA   A_UPDATE_SEL_HEAD_POS
         0001f760 00019e30' 
    5213 0001f780                   PULLQ   A2
    5214                    
    5215 0001f790     b400          MOVE    *A0(TP_HELMET_TYPE),A0,W                
         0001f7a0     0160  
    5216 0001f7b0     24a0          SLL     5,A0
    5217 0001f7c0     0b20          ADDI    helmet_type_plist,A0
         0001f7d0 00000000! 
    5218 0001f7f0     8600          MOVE    *A0,A0,L
    5219 0001f800     b441          MOVE    *A2(TD_GOALIE_HELMET),A1,W
         0001f810     02a0  
    5220 0001f820     24a1          SLL     5,A1
    5221 0001f830     4020          ADD     A1,A0
    5222 0001f840     8600          MOVE    *A0,A0,L
    5223 0001f850     0d5f          CALLA   CHANGE_PAL
         0001f860 00000000! 
    5224                    
    5225 0001f880     0d3f          CALLR   UP_UPDATE_PLAYERS
         0001f890     0056  
    5226                    
    5227 0001f8a0     c050          JRUC    UP_DONE
    5228 0001f8b0           UP_STRING
    5229 0001f8b0     4c08          MOVE    A0,A8
    5230                    
    5231 0001f8c0     4e30          MOVE    B1,A0
    5232 0001f8d0     0d5f          CALLA   KILOBJ_ALL
         0001f8e0 00000000! 
    5233                    
    5234 0001f900     4d00          MOVE    A8,A0
    5235                    
    5236 0001f910     24a8          SLL     5,A8
    5237 0001f920     4e1e          MOVE    B0,A14
    5238 0001f930     41c8          ADD     A14,A8
    5239 0001f940     8708          MOVE    *A8,A8,L
    5240 0001f950     2fe8          SRL     1,A8
    5241 0001f960     2428          SLL     1,A8
    5242                    
    5243 0001f970     0b70          CMPI    ALPHA_TABLE,B0
         0001f980 fffe8e0f' 
    5244 0001f9a0     cb20          JRNE    UP_GO                                   ;BR=NOT DA ALPHABET
    5245                    
    5246 0001f9b0     0b40          CMPI    26,A0
         0001f9c0     ffe5  
    5247 0001f9d0     cb03          JRNE    UP_NOSPACE                              ;BR=NOT A "SPACE"
    5248 0001f9e0     09e8          MOVI    SPACE_STR,A8
         0001f9f0 00017c90' 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  121

    5249 0001fa10           UP_NOSPACE
    5250 0001fa10     b7a0          MOVE    *A13(PINITIAL_STRING),A0,L
         0001fa20     0100  
    5251 0001fa30     4c0e          MOVE    A0,A14
    5252 0001fa40     0b8e          ANDI    0FFH,A14
         0001fa50 ffffff00  
    5253 0001fa70     ca13          JRZ     UP_GO                                   ;BR=NO STRING
    5254                    
    5255 0001fa80     4d01          MOVE    A8,A1
    5256                    
    5257 0001fa90     4da8          MOVE    A13,A8
    5258 0001faa0     0b08          ADDI    PDISPLAY_STRING,A8
         0001fab0     0120  
    5259 0001fac0     4d0a          MOVE    A8,A10
    5260 0001fad0     8dca          MOVB    A14,*A10                                ;DISPLAY FIRST INITIAL
    5261 0001fae0     110a          ADDK    8,A10
    5262                    
    5263 0001faf0     4c0e          MOVE    A0,A14
    5264 0001fb00     2f0e          SRL     8,A14
    5265 0001fb10     0b8e          ANDI    0FFH,A14
         0001fb20 ffffff00  
    5266 0001fb40     ca02          JRZ     UP_ADD                                  ;BR=ADD ON INITIAL
    5267 0001fb50     8dca          MOVB    A14,*A10                                ;DISPLAY SECOND INITIAL
    5268 0001fb60     110a          ADDK    8,A10
    5269 0001fb70           UP_ADD
    5270 0001fb70     9c2a          MOVB    *A1,*A10                                ;SELECTED INITIAL
    5271 0001fb80     1101          ADDK    8,A1
    5272 0001fb90     110a          ADDK    8,A10
    5273 0001fba0     9c2a          MOVB    *A1,*A10                                ;NULL TERMINATOR
    5274 0001fbb0           UP_GO
    5275 0001fbb0     4d25          MOVE    A9,A5
    5276 0001fbc0     2485          SLL     4,A5
    5277 0001fbd0     0b25          ADDI    PLAYER_PAL_NUM_TABLE,A5
         0001fbe0 00007310' 
    5278 0001fc00     84a5          MOVE    *A5,A5,W                        ;[COLOR,PALETTE]
    5279                    
    5280 0001fc10     2489          SLL     4,A9
    5281 0001fc20     0b29          ADDI    INFOBOX_CENTER_XPOS_TABLE,A9
         0001fc30 00007eb0' 
    5282 0001fc50     8529          MOVE    *A9,A9,W
    5283 0001fc60     0529          ZEXT    A9,W
    5284 0001fc70     0b29          ADDI    [INFOBOX_Y+94,0],A9
         0001fc80 00cd0000  
    5285                    
    5286 0001fca0     5600          CLR     A0                              ;NO SLEEP TIL
    5287                    ;       MOVI    STRCNRMOS,A1                    ;ROUTINE
    5288                    ;       MOVI    COLOR_PWHITE,A5                 ;[COLOR,PALETTE]
    5289                    ;       MOVK    3,A10                           ;[Y,X] SPACING
    5290                    ;       MOVI    RD15FONT,A11                    ;FONT
    5291 0001fcb0     09e1          MOVI    STRCNCONV,A1                    ;ROUTINE
         0001fcc0 00000000! 
    5292                    ;       MOVI    HFPAL,A5                        ;[COLOR,PALETTE]
    5293 0001fce0     09ea          MOVI    [0,-2],A10                      ;[Y,X] SPACING
         0001fcf0 0000fffe  
    5294                    ;       MOVI    H18TFONT,A11                    ;FONT
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  122

    5295                    ;
    5296                    ;       CMPI    DAY_TABLE,B0
    5297                    ;       JRNE    UP_PRINTF                       ;BR=NOT DA NUMBERS
    5298 0001fd10     09eb          MOVI    H18FONT,A11                     ;FONT
         0001fd20 00000000! 
    5299                    ;UP_PRINTF
    5300 0001fd40                   JSRP    PRINTF
    5301 0001fdb0           UP_DONE
    5302 0001fdb0     09bf          MMFM    SP,B0,B1,B3,B4,B5,B7,B8,B9
         0001fdc0     03bb  
    5303 0001fdd0     09af          MMFM    SP,A0,A1,A2,A3,A4,A5,A7,A8,A9,A10,A11
         0001fde0     0fbf  
    5304 0001fdf0     0960          RETS
    5305                    
    5306                    **************************************************************************
    5307                    *                                                                        *
    5308                    * UP_UPDATE_PLAYERS                                                      *
    5309                    *                                                                        *
    5310                    * PASS:                                                                  *
    5311                    * A2 = TEAM DATA ADDRESS                                                 *
    5312                    * A9 = PLAYER NUMBER - 1                                                 *
    5313                    *                                                                        *
    5314                    * RETURN:                                                                *
    5315                    * NUTIN'                                                                 *
    5316                    *                                                                        *
    5317                    * TRASHES ALMOST EVERYTHING!                                             *
    5318                    *                                                                        *
    5319                    **************************************************************************
    5320                    
    5321 0001fe00           UP_UPDATE_PLAYERS
    5322 0001fe00     b640          MOVE    *A2(TD_MEMBER1_LIST),A0,L
         0001fe10     0040  
    5323 0001fe20     4c05          MOVE    A0,A5
    5324 0001fe30     4c06          MOVE    A0,A6
    5325                    
    5326 0001fe40     5663          CLR     A3
    5327 0001fe50           UP_PLAYER_COUNT
    5328 0001fe50     940e          MOVE    *A0+,A14,W
    5329 0001fe60     ca02          JRZ     UP_CHECK_SWAP
    5330 0001fe70     1023          INC     A3
    5331 0001fe80     c0fc          JRUC    UP_PLAYER_COUNT
    5332 0001fe90           UP_CHECK_SWAP
    5333 0001fe90     1443          SUBK    2,A3
    5334                            .if     DEBUG
    5335                            LOCKON  N
    5336                            .endif
    5337 0001fea0     24a3          SLL     5,A3
    5338 0001feb0     0b23          ADDI    SWAP_TABLES_TABLE,A3
         0001fec0 000221d0' 
    5339 0001fee0     8663          MOVE    *A3,A3,L
    5340 0001fef0     9460          MOVE    *A3+,A0,W
    5341                    
    5342 0001ff00     b5ae          MOVE    *A13(PSWAP),A14,W
         0001ff10     0240  
    5343 0001ff20     cf07          JRNN    UP_CHECK_SWAP_LIMIT                     ;BR=NOT RANDOM
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  123

    5344 0001ff30     0d5f          CALLA   RAND0
         0001ff40 00000000! 
    5345 0001ff60     b00d          MOVE    A0,*A13(PSWAP),W
         0001ff70     0240  
    5346 0001ff80     4c0e          MOVE    A0,A14
    5347 0001ff90     c005          JRUC    UP_GET_OFFSETS
    5348                    
    5349 0001ffa0           UP_CHECK_SWAP_LIMIT
    5350 0001ffa0     480e          CMP     A0,A14
    5351 0001ffb0     c403          JRLT    UP_GET_OFFSETS
    5352 0001ffc0     57ce          CLR     A14
    5353 0001ffd0     b1cd          MOVE    A14,*A13(PSWAP),W
         0001ffe0     0240  
    5354 0001fff0           UP_GET_OFFSETS
    5355 0001fff0     24ae          SLL     5,A14
    5356 00020000     41c3          ADD     A14,A3
    5357 00020010     9460          MOVE    *A3+,A0,W
    5358 00020020     4005          ADD     A0,A5
    5359 00020030     946e          MOVE    *A3+,A14,W
    5360 00020040     41c6          ADD     A14,A6
    5361                    
    5362 00020050     4d20          MOVE    A9,A0
    5363 00020060     0b80          ANDI    010B,A0
         00020070 fffffffd  
    5364 00020090     07ee          MOVB    @LOCKED_CHAR_BITS,A14
         000200a0 00000238- 
    5365 000200c0     4a0e          BTST    A0,A14
    5366 000200d0     ca0e          JRZ     UP_LEFT_GUY_GO                          ;BR=NO LOCKED CHARACTER
    5367                    
    5368 000200e0     1f6e          BTST    4,A14
    5369 000200f0     ca00          JRZ     UP_RIGHT_GUY                            ;BR=NO LOCK OVERRIDE
         00020100     00a7  
    5370 00020110     09ee          MOVI    PLAYER_1_BLOCK,A14
         00020120 00000000! 
    5371 00020140     1fc0          BTST    1,A0
    5372 00020150     ca03          JRZ     UP_LEFT_GET_LOCKED                      ;BR=PLAYER 1
    5373 00020160     09ee          MOVI    PLAYER_5_BLOCK,A14                      ;PLAYER 3
         00020170 00000000! 
    5374 00020190           UP_LEFT_GET_LOCKED
    5375 00020190     b5c5          MOVE    *A14(POF_LOCKED_CHAR),A5,W
         000201a0     0c40  
    5376 000201b0     c001          JRUC    UP_LEFT_GET_DATA
    5377                    
    5378 000201c0           UP_LEFT_GUY_GO
    5379 000201c0     84a5          MOVE    *A5,A5,W
    5380 000201d0           UP_LEFT_GET_DATA
    5381 000201d0     4ca0          MOVE    A5,A0
    5382 000201e0     0d5f          CALLA   get_bargraph_data
         000201f0 000218f0' 
    5383                    
    5384 00020210     24a5          SLL     5,A5
    5385 00020220     0b25          ADDI    player_data,A5
         00020230 00000000! 
    5386 00020250     86a5          MOVE    *A5,A5,L
    5387                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  124

    5388 00020260     b7a8          MOVE    *A13(PLEFTATTR_OBJ),A8,L
         00020270     01c0  
    5389 00020280     ca30          JRZ     UP_LEFT_MUG                             ;BR=JUST IN CASE
    5390                    
    5391 00020290     b4ae          MOVE    *A5(TP_SECRET_CHAR),A14,W
         000202a0     0060  
    5392 000202b0     ca03          JRZ     UP_LEFT_ATTRIBUTES                      ;BR=NOT SECRET
    5393                    
    5394 000202c0     0d3f          CALLR   SECRET_MORPH
         000202d0     0140  
    5395                    
    5396 000202e0     c02a          JRUC    UP_LEFT_MUG
    5397                    
    5398 000202f0           UP_LEFT_ATTRIBUTES
    5399 000202f0     b70e          MOVE    *A8(OIMG),A14,L
         00020300     02c0  
    5400 00020310     0b6e          CMPI    FONT18QUE,A14
         00020320 ffffffff! 
    5401 00020340     cb11          JRNE    UP_LEFT_ATTRIBUTE_LUPE                  ;BR=NOT "?"
    5402                    
    5403 00020350     b701          MOVE    *A8(ODAG),A1,L
         00020360     0220  
    5404 00020370     09ee          MOVI    QYXOFFSET,A14
         00020380 0003000c  
    5405 000203a0     e3c1          SUBXY   A14,A1
    5406 000203b0     b228          MOVE    A1,*A8(ODAG),L
         000203c0     0220  
    5407                    
    5408 000203d0     09e1          MOVI    BAR0,A1
         000203e0 00004b60" 
    5409 00020400     09e4          MOVI    DMAWNZ,A4
         00020410 00008002  
    5410 00020430     0d5f          CALLA   ANI
         00020440 00000000! 
    5411                    
    5412 00020460           UP_LEFT_ATTRIBUTE_LUPE
    5413 00020460     4c40          MOVE    A2,A0
    5414 00020470     2700          SLL     24,A0
    5415 00020480     2d00          SRL     24,A0
    5416 00020490     1420          DEC     A0
    5417 000204a0     24a0          SLL     5,A0
    5418 000204b0     0b20          ADDI    BARPAL_TABLE,A0
         000204c0 0001af70' 
    5419 000204e0     8600          MOVE    *A0,A0,L
    5420 000204f0     0d5f          CALLA   CHANGE_PAL
         00020500 00000000! 
    5421 00020520     2f02          SRL     8,A2
    5422 00020530     0d5f          CALLA   OBJ_ON
         00020540 00000000! 
    5423 00020560     b708          MOVE    *A8(OPARTS),A8,L
         00020570     00c0  
    5424 00020580     cbed          JRNZ    UP_LEFT_ATTRIBUTE_LUPE                  ;BR=NO MORE ATTRIBUTES
    5425                    
    5426 00020590           UP_LEFT_MUG
    5427 00020590     b7a8          MOVE    *A13(PLEFTMUG_OBJ),A8,L
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  125

         000205a0     0140  
    5428 000205b0     b6a1          MOVE    *A5(TP_PLYRMUG_IMG),A1,L
         000205c0     0140  
    5429                    
    5430 000205d0     b504          MOVE    *A8(OCTRL),A4,W
         000205e0     01f0  
    5431 000205f0     0b84          ANDNI   M_FLIPH,A4
         00020600 00000010  
    5432 00020620     4c2e          MOVE    A1,A14                                  ;FLAG TO M_FLIPH
    5433 00020630     27ee          SLL     31,A14
    5434 00020640     2cae          SRL     31-4,A14
    5435 00020650     55c4          OR      A14,A4
    5436 00020660     b088          MOVE    A4,*A8(OCTRL),W
         00020670     01f0  
    5437                    
    5438 00020680     2fe1          SRL     1,A1                                    ;SHIFT OUT FLAG
    5439 00020690     2421          SLL     1,A1
    5440 000206a0     b228          MOVE    A1,*A8(OIMG),L
         000206b0     02c0  
    5441 000206c0     ba28          MOVE    *A1(ISAG),*A8(OSAG),L
         000206d0     0030  
         000206e0     0200  
    5442 000206f0     b627          MOVE    *A1(ISIZE),A7,L
         00020700     0010  
    5443 00020710     b2e8          MOVE    A7,*A8(OUSIZE),L
         00020720     0240  
    5444 00020730     b2e8          MOVE    A7,*A8(OSIZE),L
         00020740     0260  
    5445                    
    5446 00020750     b622          MOVE    *A1(IANIOFF),A2,L
         00020760     0050  
    5447 00020770     b248          MOVE    A2,*A8(OUANIOFF),L
         00020780     0440  
    5448 00020790     b248          MOVE    A2,*A8(OANIOFF),L
         000207a0     01c0  
    5449                    
    5450 000207b0     1f64          BTST    B_FLIPH,A4
    5451 000207c0     ca04          JRZ     UP_GET_LPOS                             ;BR=NOT FLIPPED
    5452 000207d0                   NEGX    A2
    5453 00020810           UP_GET_LPOS
    5454 00020810     b70a          MOVE    *A8(OMUGPOS),A10,L
         00020820     04b0  
    5455 00020830     4d43          MOVE    A10,A3
    5456 00020840     e24a          SUBXY   A2,A10
    5457                    
    5458 00020850     5642          CLR     A2                                      ;DEFAULT TO NO CLIPPING
    5459                    
    5460 00020860     09ee          MOVI    [0,9-40],A14                            ;LEFT EDGE (-ANIOFFX)
         00020870 0000ffe1  
    5461                                                                            ; - LEFT MUG X OFFSET
    5462 00020890     e1c3          ADDXY   A14,A3                                  ;LEFT EDGE
    5463                    
    5464 000208a0     1f64          BTST    B_FLIPH,A4
    5465 000208b0     ca04          JRZ     UP_LCHECK                               ;BR=NOT FLIPPED
    5466 000208c0     2607          SLL     16,A7                                   ;GET X SIZE
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  126

    5467 000208d0     2a07          SRA     16,A7
    5468 000208e0     1427          DEC     A7
    5469 000208f0     e0e3          ADDXY   A7,A3                                   ;LEFT EDGE
    5470 00020900           UP_LCHECK
    5471 00020900     e343          SUBXY   A10,A3                                  ;COMPARE EDGES
    5472 00020910     cc08          JRXN    UP_LSET                                 ;BR=DON'T CLIP
    5473 00020920     4c62          MOVE    A3,A2
    5474 00020930     0502          SEXT    A2,W
    5475 00020940     0382          ABS     A2
    5476 00020950     e04a          ADDXY   A2,A10                                  ;ADJUST POSITION
    5477 00020960     1f64          BTST    B_FLIPH,A4
    5478 00020970     ca02          JRZ     UP_LSET                                 ;BR=NOT FLIPPED
    5479 00020980     e24a          SUBXY   A2,A10                                  ;RESTORE POSITION
    5480 00020990     2502          SLL     8,A2                                    ;RIGHT CLIP
    5481 000209a0           UP_LSET
    5482                    ;DISABLE CLIP
    5483                    ;       MOVE    A2,*A8(OFSET),W
    5484 000209a0     b348          MOVE    A10,*A8(ODAG),L
         000209b0     0220  
    5485 000209c0     b148          MOVE    A10,*A8(OXPOS),W
         000209d0     0150  
    5486 000209e0     2a0a          SRA     16,A10
    5487 000209f0     b148          MOVE    A10,*A8(OYPOS),W
         00020a00     0170  
    5488                    
    5489 00020a10     b620          MOVE    *A1(ICMAP),A0,L
         00020a20     0070  
    5490 00020a30     0d5f          CALLA   CHANGE_PAL
         00020a40 00000000! 
    5491                    
    5492 00020a60     098f          mmtm    sp,a4
         00020a70     0800  
    5493 00020a80     b504          move    *a8(OCTRL),a4,W
         00020a90     01f0  
    5494 00020aa0     0d5f          calla   ANI
         00020ab0 00000000! 
    5495 00020ad0     09af          mmfm    sp,a4
         00020ae0     0010  
    5496                    
    5497 00020af0     b7a8          MOVE    *A13(PLEFTNAME_OBJ),A8,L
         00020b00     0180  
    5498 00020b10     b504          MOVE    *A8(OCTRL),A4,W
         00020b20     01f0  
    5499 00020b30     b6a1          MOVE    *A5(TP_PLYRNAME_IMG),A1,L
         00020b40     0120  
    5500 00020b50     0d5f          CALLA   ANI
         00020b60 00000000! 
    5501                    
    5502 00020b80           UP_RIGHT_GUY
    5503 00020b80     4d20          MOVE    A9,A0
    5504 00020b90     0ba0          ORI     01B,A0
         00020ba0 00000001  
    5505 00020bc0     07ee          MOVB    @LOCKED_CHAR_BITS,A14
         00020bd0 00000238- 
    5506 00020bf0     4a0e          BTST    A0,A14
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  127

    5507 00020c00     ca0e          JRZ     UP_RIGHT_GUY_GO                         ;BR=NO LOCKED CHARACTER
    5508                    
    5509 00020c10     1f6e          BTST    4,A14
    5510 00020c20     ca00          JRZ     UP_UP_AND_AWAY                          ;BR=NO LOCK OVERRIDE
         00020c30     00a9  
    5511 00020c40     09ee          MOVI    PLAYER_2_BLOCK,A14
         00020c50 00000000! 
    5512 00020c70     1fc0          BTST    1,A0
    5513 00020c80     ca03          JRZ     UP_RIGHT_GET_LOCKED                     ;BR=PLAYER 2
    5514 00020c90     09ee          MOVI    PLAYER_6_BLOCK,A14                      ;PLAYER 4(2)
         00020ca0 00000000! 
    5515 00020cc0           UP_RIGHT_GET_LOCKED
    5516 00020cc0     b5c6          MOVE    *A14(POF_LOCKED_CHAR),A6,W
         00020cd0     0c40  
    5517 00020ce0     c001          JRUC    UP_RIGHT_GET_DATA
    5518                    
    5519 00020cf0           UP_RIGHT_GUY_GO
    5520 00020cf0     84c6          MOVE    *A6,A6,W
    5521 00020d00           UP_RIGHT_GET_DATA
    5522 00020d00     4cc0          MOVE    A6,A0
    5523 00020d10     0d5f          CALLA   get_bargraph_data
         00020d20 000218f0' 
    5524                    
    5525 00020d40     24a6          SLL     5,A6
    5526 00020d50     0b26          ADDI    player_data,A6
         00020d60 00000000! 
    5527 00020d80     86c6          MOVE    *A6,A6,L
    5528                    
    5529 00020d90     b7a8          MOVE    *A13(PRGHTATTR_OBJ),A8,L
         00020da0     01e0  
    5530 00020db0     ca30          JRZ     UP_RIGHT_MUG                            ;BR=JUST IN CASE
    5531                    
    5532 00020dc0     b4ce          MOVE    *A6(TP_SECRET_CHAR),A14,W
         00020dd0     0060  
    5533 00020de0     ca03          JRZ     UP_RIGHT_ATTRIBUTES                     ;BR=NOT SECRET
    5534                    
    5535 00020df0     0d3f          CALLR   SECRET_MORPH
         00020e00     008d  
    5536                    
    5537 00020e10     c02a          JRUC    UP_RIGHT_MUG
    5538                    
    5539 00020e20           UP_RIGHT_ATTRIBUTES
    5540 00020e20     b70e          MOVE    *A8(OIMG),A14,L
         00020e30     02c0  
    5541 00020e40     0b6e          CMPI    FONT18QUE,A14
         00020e50 ffffffff! 
    5542 00020e70     cb11          JRNE    UP_RIGHT_ATTRIBUTE_LUPE                 ;BR=NOT "?"
    5543                    
    5544 00020e80     b701          MOVE    *A8(ODAG),A1,L
         00020e90     0220  
    5545 00020ea0     09ee          MOVI    QYXOFFSET,A14
         00020eb0 0003000c  
    5546 00020ed0     e3c1          SUBXY   A14,A1
    5547 00020ee0     b228          MOVE    A1,*A8(ODAG),L
         00020ef0     0220  
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  128

    5548                    
    5549 00020f00     09e1          MOVI    BAR0,A1
         00020f10 00004b60" 
    5550 00020f30     09e4          MOVI    DMAWNZ,A4
         00020f40 00008002  
    5551 00020f60     0d5f          CALLA   ANI
         00020f70 00000000! 
    5552                    
    5553 00020f90           UP_RIGHT_ATTRIBUTE_LUPE
    5554 00020f90     4c40          MOVE    A2,A0
    5555 00020fa0     2700          SLL     24,A0
    5556 00020fb0     2d00          SRL     24,A0
    5557 00020fc0     1420          DEC     A0
    5558 00020fd0     24a0          SLL     5,A0
    5559 00020fe0     0b20          ADDI    BARPAL_TABLE,A0
         00020ff0 0001af70' 
    5560 00021010     8600          MOVE    *A0,A0,L
    5561 00021020     0d5f          CALLA   CHANGE_PAL
         00021030 00000000! 
    5562 00021050     2f02          SRL     8,A2
    5563 00021060     0d5f          CALLA   OBJ_ON
         00021070 00000000! 
    5564 00021090     b708          MOVE    *A8(OPARTS),A8,L
         000210a0     00c0  
    5565 000210b0     cbed          JRNZ    UP_RIGHT_ATTRIBUTE_LUPE                 ;BR=NO MORE ATTRIBUTES
    5566                    
    5567 000210c0           UP_RIGHT_MUG
    5568 000210c0     b7a8          MOVE    *A13(PRGHTMUG_OBJ),A8,L
         000210d0     0160  
    5569 000210e0     b6c1          MOVE    *A6(TP_PLYRMUG_IMG),A1,L
         000210f0     0140  
    5570                    
    5571 00021100     b504          MOVE    *A8(OCTRL),A4,W
         00021110     01f0  
    5572 00021120     0b84          ANDNI   M_FLIPH,A4
         00021130 00000010  
    5573 00021150     4c2e          MOVE    A1,A14
    5574 00021160     27ee          SLL     31,A14                                  ;FLAG TO M_FLIPH
    5575 00021170     2cae          SRL     31-4,A14
    5576 00021180     55c4          OR      A14,A4
    5577 00021190     0bc4          XORI    M_FLIPH,A4
         000211a0 00000010  
    5578 000211c0     b088          MOVE    A4,*A8(OCTRL),W
         000211d0     01f0  
    5579                    
    5580 000211e0     2fe1          SRL     1,A1                                    ;SHIFT OUT FLAG
    5581 000211f0     2421          SLL     1,A1
    5582 00021200     b228          MOVE    A1,*A8(OIMG),L
         00021210     02c0  
    5583 00021220     ba28          MOVE    *A1(ISAG),*A8(OSAG),L
         00021230     0030  
         00021240     0200  
    5584 00021250     b627          MOVE    *A1(ISIZE),A7,L
         00021260     0010  
    5585 00021270     b2e8          MOVE    A7,*A8(OUSIZE),L
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  129

         00021280     0240  
    5586 00021290     b2e8          MOVE    A7,*A8(OSIZE),L
         000212a0     0260  
    5587                    
    5588 000212b0     b622          MOVE    *A1(IANIOFF),A2,L
         000212c0     0050  
    5589 000212d0     b248          MOVE    A2,*A8(OUANIOFF),L
         000212e0     0440  
    5590 000212f0     b248          MOVE    A2,*A8(OANIOFF),L
         00021300     01c0  
    5591                    
    5592 00021310     1f64          BTST    B_FLIPH,A4
    5593 00021320     ca04          JRZ     UP_GET_RPOS                             ;BR=NOT FLIPPED
    5594 00021330                   NEGX    A2
    5595 00021370           UP_GET_RPOS
    5596 00021370     b70a          MOVE    *A8(OMUGPOS),A10,L
         00021380     04b0  
    5597 00021390     4d43          MOVE    A10,A3
    5598 000213a0     e24a          SUBXY   A2,A10                                  ;UPPER LEFT (RIGHT)
    5599                    
    5600 000213b0     5642          CLR     A2                                      ;DEFAULT TO NO CLIPPING
    5601                    
    5602 000213c0     09ce          MOVI    [0,170-139],A14                         ;RIGHT EDGE (X SIZE)
         000213d0     001f  
    5603                                                                            ; - RIGHT MUG X OFFSET
    5604 000213e0     e1c3          ADDXY   A14,A3                                  ;RIGHT EDGE
    5605                    
    5606 000213f0     1f64          BTST    B_FLIPH,A4
    5607 00021400     cb04          JRNZ    UP_RCHECK                               ;BR=FLIPPED
    5608 00021410     2607          SLL     16,A7                                   ;GET X SIZE
    5609 00021420     2a07          SRA     16,A7
    5610 00021430     1427          DEC     A7
    5611 00021440     e2e3          SUBXY   A7,A3                                   ;LEFT EDGE
    5612 00021450           UP_RCHECK
    5613 00021450     e343          SUBXY   A10,A3                                  ;COMPARE EDGES
    5614 00021460     cd08          JRXNN   UP_RSET                                 ;BR=DON'T CLIP
    5615 00021470     4c62          MOVE    A3,A2
    5616 00021480     0502          SEXT    A2,W
    5617 00021490     0382          ABS     A2
    5618 000214a0     e24a          SUBXY   A2,A10                                  ;ADJUST POSITION
    5619 000214b0     1f64          BTST    B_FLIPH,A4
    5620 000214c0     cb02          JRNZ    UP_RSET                                 ;BR=FLIPPED
    5621 000214d0     e04a          ADDXY   A2,A10                                  ;RESTORE POSITION
    5622 000214e0     2502          SLL     8,A2                                    ;RIGHT CLIP
    5623 000214f0           UP_RSET
    5624                    ;DISABLE CLIP
    5625                    ;       MOVE    A2,*A8(OFSET),W
    5626 000214f0     b348          MOVE    A10,*A8(ODAG),L
         00021500     0220  
    5627 00021510     b148          MOVE    A10,*A8(OXPOS),W
         00021520     0150  
    5628 00021530     2a0a          SRA     16,A10
    5629 00021540     b148          MOVE    A10,*A8(OYPOS),W
         00021550     0170  
    5630                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  130

    5631 00021560     b620          MOVE    *A1(ICMAP),A0,L
         00021570     0070  
    5632 00021580     0d5f          CALLA   CHANGE_PAL
         00021590 00000000! 
    5633                    
    5634 000215b0     098f          mmtm    sp,a4
         000215c0     0800  
    5635 000215d0     b504          move    *a8(OCTRL),a4,W
         000215e0     01f0  
    5636 000215f0     0d5f          calla   ANI
         00021600 00000000! 
    5637 00021620     09af          mmfm    sp,a4
         00021630     0010  
    5638                    
    5639 00021640     b7a8          MOVE    *A13(PRGHTNAME_OBJ),A8,L
         00021650     01a0  
    5640 00021660     b6c1          MOVE    *A6(TP_PLYRNAME_IMG),A1,L
         00021670     0120  
    5641 00021680     b504          MOVE    *A8(OCTRL),A4,W
         00021690     01f0  
    5642 000216a0     0d5f          CALLA   ANI
         000216b0 00000000! 
    5643 000216d0           UP_UP_AND_AWAY
    5644 000216d0     0960          RETS
    5645                    
    5646                    **************************************************************************
    5647                    *                                                                        *
    5648                    * SECRET_MORPH - PUT UP THE "?"                                          *
    5649                    *                                                                        *
    5650                    * PASS:                                                                  *
    5651                    * A8 = OBJECT                                                            *
    5652                    * RETURN:                                                                *
    5653                    * SHIT                                                                   *
    5654                    *                                                                        *
    5655                    **************************************************************************
    5656                    
    5657          0003000c  QYXOFFSET       EQU     [3,12]
    5658                    
    5659 000216e0           SECRET_MORPH
    5660 000216e0     b70e          MOVE    *A8(OIMG),A14,L
         000216f0     02c0  
    5661 00021700     0b6e          CMPI    FONT18QUE,A14
         00021710 ffffffff! 
    5662 00021730     ca1a          JREQ    SM_ABORT                                ;BR=ALREADY "?"
    5663                    
    5664 00021740     0d5f          CALLA   OBJ_OFF_MULTI
         00021750 00000000! 
    5665                    
    5666 00021770     b701          MOVE    *A8(ODAG),A1,L
         00021780     0220  
    5667 00021790     09ee          MOVI    QYXOFFSET,A14
         000217a0 0003000c  
    5668 000217c0     e1c1          ADDXY   A14,A1
    5669 000217d0     b228          MOVE    A1,*A8(ODAG),L
         000217e0     0220  
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  131

    5670                    
    5671 000217f0     09e1          MOVI    FONT18QUE,A1
         00021800 00000000! 
    5672 00021820     09e4          MOVI    DMAWNZ,A4
         00021830 00008002  
    5673 00021850     0d5f          CALLA   ANI
         00021860 00000000! 
    5674                    
    5675                    ;       MOVI    FONTGRYP,A0
    5676 00021880     09e0          MOVI    ORGTXT1P,A0
         00021890 00000000! 
    5677 000218b0     0d5f          CALLA   CHANGE_PAL
         000218c0 00000000! 
    5678 000218e0           SM_ABORT
    5679 000218e0     0960          RETS
    5680                    
    5681                    
    5682                    **************************************************************************
    5683                    *                                                                        *
    5684                    * get_bargraph_data                                                      *
    5685                    *       input   a0 = character number                                    *
    5686                    *       output  a2 = character data (bytewise CPHS)                      *
    5687                    *                S = character's skate rating (1-10)                     *
    5688                    *                    (speed+stop+corner) / 2                             *
    5689                    *                H = character's shoot rating (1-10)                     *
    5690                    *                    (3 x shoot + handle) / 2                            *
    5691                    *                P = character's pass  rating (1-10)                     *
    5692                    *                    (3 x pass + handle) / 2                             *
    5693                    *                C = character's check rating (1-10)                     *
    5694                    *                    (3 x check + faceoff) / 2                           *
    5695                    *                                                                        *
    5696                    **************************************************************************
    5697 000218f0           get_bargraph_data
    5698 000218f0     098f          mmtm    sp,a1,a3,a4,a5
         00021900     5c00  
    5699 00021910     4c05          move    a0,a5
    5700 00021920     24a5          sll     5,a5
    5701 00021930     0b25          addi    player_data,a5
         00021940 00000000! 
    5702 00021960     86a5          move    *a5,a5,L
    5703 00021970     aea1          movb    *a5(TP_SPEED),a1
         00021980     00e0  
    5704 00021990     aeae          movb    *a5(TP_STOP),a14
         000219a0     00e8  
    5705 000219b0     41c1          add     a14,a1
    5706 000219c0     aeae          movb    *a5(TP_CORNER),a14
         000219d0     00f0  
    5707 000219e0     41c1          add     a14,a1
    5708 000219f0     2be1          sra     1,a1
    5709 00021a00     aea2          movb    *a5(TP_SHOOT),a2
         00021a10     00f8  
    5710 00021a20     4c4e          move    a2,a14
    5711 00021a30     41c2          add     a14,a2
    5712 00021a40     41c2          add     a14,a2
    5713 00021a50     aeae          movb    *a5(TP_HANDLE),a14
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  132

         00021a60     0110  
    5714 00021a70     41c2          add     a14,a2
    5715 00021a80     2be2          sra     1,a2
    5716 00021a90     aea3          movb    *a5(TP_PASS),a3
         00021aa0     0100  
    5717 00021ab0     4c6e          move    a3,a14
    5718 00021ac0     41c3          add     a14,a3
    5719 00021ad0     41c3          add     a14,a3
    5720 00021ae0     aeae          movb    *a5(TP_HANDLE),a14
         00021af0     0110  
    5721 00021b00     41c3          add     a14,a3
    5722 00021b10     2be3          sra     1,a3
    5723 00021b20     aea4          movb    *a5(TP_CHECK),a4
         00021b30     0118  
    5724 00021b40     4c8e          move    a4,a14
    5725 00021b50     41c4          add     a14,a4
    5726 00021b60     41c4          add     a14,a4
    5727 00021b70     aeae          movb    *a5(TP_FACEOFF),a14
         00021b80     0108  
    5728 00021b90     41c4          add     a14,a4
    5729 00021ba0     2be4          sra     1,a4
    5730 00021bb0     2701          sll     24,a1
    5731 00021bc0     2d01          srl     24,a1
    5732 00021bd0     2702          sll     24,a2
    5733 00021be0     2e02          srl     16,a2
    5734 00021bf0     2703          sll     24,a3
    5735 00021c00     2f03          srl     8,a3
    5736 00021c10     2704          sll     24,a4
    5737 00021c20     4022          add     a1,a2
    5738 00021c30     4062          add     a3,a2
    5739 00021c40     4082          add     a4,a2
    5740 00021c50     09af          mmfm    sp,a1,a3,a4,a5
         00021c60     003a  
    5741 00021c70     0960          rets
    5742                    
    5743                    **************************************************************************
    5744                    *                                                                        *
    5745                    * A_PICKBOX_CHECK                                                        *
    5746                    *                                                                        *
    5747                    * PASS:                                                                  *
    5748                    * A8 = PICKBOX OBJECT                                                    *
    5749                    *                                                                        *
    5750                    **************************************************************************
    5751                    
    5752 00021c80           A_PICKBOX_CHECK
    5753 00021c80     af0e          MOVB    *A8(ANIMLOOP),A14
         00021c90     0370  
    5754 00021ca0     cb03          JRNZ    APC_GET_OTHER                           ;BR=IN LOOP
    5755 00021cb0     194e          MOVK    10,A14                                  ;RESTART LOOP
    5756 00021cc0     adc8          MOVB    A14,*A8(ANIMLOOP)
         00021cd0     0370  
    5757                    
    5758 00021ce0           APC_GET_OTHER
    5759 00021ce0     07a0          MOVE    @BLUE_SELECT_OBJ,A0,L
         00021cf0 00000180- 
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  133

    5760 00021d10     09c1          MOVI    COLOR_RED,A1
         00021d20     0101  
    5761 00021d30     4900          CMP     A8,A0
    5762 00021d40     cb05          JRNE    APC_GO                                  ;BR=OTHER TEAM
    5763 00021d50     07a0          MOVE    @RED_SELECT_OBJ,A0,L
         00021d60 000001c0- 
    5764 00021d80     09c1          MOVI    COLOR_BLUE,A1
         00021d90     0303  
    5765 00021da0           APC_GO
    5766 00021da0     4c00          MOVE    A0,A0
    5767 00021db0     ca80          JAZ     OBJ_CONST_ALL                           ;BR=TEAM NOT ACTIVE
         00021dc0 00000000! 
    5768                    
    5769 00021de0     b702          MOVE    *A8(ODAG),A2,L
         00021df0     0220  
    5770 00021e00     b603          MOVE    *A0(ODAG),A3,L
         00021e10     0220  
    5771 00021e20     4843          CMP     A2,A3
    5772 00021e30     cb22          JRNE    APC_DONE                                ;BR=NOT OVERLAPPIN'
    5773                    
    5774 00021e40     b40e          MOVE    *A0(OFLAGS),A14,W
         00021e50     0420  
    5775 00021e60     1e2e          BTST    B_ANIM,A14
    5776 00021e70     ca1e          JRZ     APC_DONE                                ;BR=OTHER NOT ANIMATING
    5777                    
    5778 00021e80     b702          MOVE    *A8(ANIMSCR),A2,L
         00021e90     0340  
    5779 00021ea0     b603          MOVE    *A0(ANIMSCR),A3,L
         00021eb0     0340  
    5780 00021ec0     4843          CMP     A2,A3
    5781                    ;       JRNE    APC_DONE                                ;BR=NOT SAME SCRIPTS
    5782 00021ed0     cb80          JANE    OBJ_OFF                                 ;BR=NOT SAME SCRIPTS
         00021ee0 00000000! 
    5783                    
    5784 00021f00     09c1          MOVI    COLOR_YELLOW,A1
         00021f10     0505  
    5785 00021f20     b50e          MOVE    *A8(OCONST),A14,W
         00021f30     0290  
    5786 00021f40     482e          CMP     A1,A14
    5787 00021f50     ca80          JAEQ    OBJ_CONST_ALL
         00021f60 00000000! 
    5788                    
    5789 00021f80     bb08          MOVE    *A8(ANIMSCR),*A8(ANIMFRM),L             ;RESET SCRIPT
         00021f90     0340  
         00021fa0     0320  
    5790 00021fb0     ba00          MOVE    *A0(ANIMSCR),*A0(ANIMFRM),L
         00021fc0     0340  
         00021fd0     0320  
    5791 00021fe0     bd00          MOVB    *A8(ANIMLOOP),*A0(ANIMLOOP)             ;SYNC LOOPS
         00021ff0     0370  
         00022000     0370  
    5792 00022010     bd00          MOVB    *A8(ANISLP),*A0(ANISLP)                 ;SYNC SLEEPS
         00022020     0368  
         00022030     0368  
    5793 00022040     b020          MOVE    A1,*A0(OCONST),W                        ;MAKE YELLA TOO!
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  134

         00022050     0290  
    5794 00022060           APC_DONE
    5795 00022060     b028          MOVE    A1,*A8(OCONST),W
         00022070     0290  
    5796 00022080     c080          JAUC    OBJ_CONST_ALL
         00022090 00000000! 
    5797                    
    5798                    **************************************************************************
    5799                    *                                                                        *
    5800                    * A_UPDATE_ARROW                                                         *
    5801                    *                                                                        *
    5802                    * PASS:                                                                  *
    5803                    * A8 = ARROW OBJECT                                                      *
    5804                    *                                                                        *
    5805                    **************************************************************************
    5806                    
    5807 000220b0           A_UPDATE_ARROW
    5808 000220b0     b700          MOVE    *A8(ODATA+010H),A0,L                    ;SELECT OBJECT
         000220c0     04c0  
    5809 000220d0     b601          MOVE    *A0(ODAG),A1,L
         000220e0     0220  
    5810 000220f0     57ce          CLR     A14
    5811                    
    5812 00022100     b502          MOVE    *A8(ODATA),A2,W                         ;PLAYER NUMBER - 1
         00022110     04b0  
    5813 00022120     1442          SUBK    2,A2
    5814 00022130     ce01          JRN     AUA_SET                                 ;BR=DON'T ADJUST X
    5815 00022140     132e          ADDK    [0,25],A14
    5816 00022150           AUA_SET
    5817 00022150     e1c1          ADDXY   A14,A1                                  ;ADD FUDGE
    5818 00022160     09e2          MOVI    TEXTZVAL-1,A2
         00022170 83ffffff  
    5819 00022190     0d5f          CALLA   SET_SCRNOBJ
         000221a0 00000000! 
    5820                    
    5821 000221c0     0960          RETS
    5822                    
    5823                    
    5824 000221d0           SWAP_TABLES_TABLE
    5825 000221d0 00022270'         .LONG   SWAP_2P_TABLE,SWAP_3P_TABLE,SWAP_4P_TABLE
    5826 00022230 00022520'         .long   SWAP_5P_TABLE,SWAP_6P_TABLE
    5827                    
    5828 00022270           SWAP_2P_TABLE
    5829 00022270     0002          .WORD   2
    5830 00022280 00100000          .LONG   [010H,0],[0,010H]
    5831 000222c0           SWAP_3P_TABLE
    5832 000222c0     0006          .WORD   6
    5833 000222d0 00100000          .LONG   [010H,0],[0,010H],[010H,020H],[020H,010H],[0,020H],[020H,0]
    5834 00022390           SWAP_4P_TABLE
    5835 00022390     000c          .WORD   12
    5836 000223a0 00000010          .long   [000h,010h],[010h,000h],[000h,020h],[020h,000h]
    5837 00022420 00100020          .long   [010h,020h],[020h,010h],[000h,030h],[030h,000h]
    5838 000224a0 00100030          .long   [010h,030h],[030h,010h],[020h,030h],[030h,020h]
    5839 00022520           SWAP_5P_TABLE
    5840 00022520     0014          .word   20
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  135

    5841 00022530 00000010          .long   [000h,010h],[010h,000h],[000h,020h],[020h,000h]
    5842 000225b0 00100020          .long   [010h,020h],[020h,010h],[000h,030h],[030h,000h]
    5843 00022630 00100030          .long   [010h,030h],[030h,010h],[020h,030h],[030h,020h]
    5844 000226b0 00000040          .long   [000h,040h],[040h,000h],[010h,040h],[040h,010h]
    5845 00022730 00200040          .long   [020h,040h],[040h,020h],[030h,040h],[040h,030h]
    5846 000227b0           SWAP_6P_TABLE
    5847 000227b0     001e          .word   30
    5848 000227c0 00000010          .long   [000h,010h],[010h,000h],[000h,020h],[020h,000h]
    5849 00022840 00100020          .long   [010h,020h],[020h,010h],[000h,030h],[030h,000h]
    5850 000228c0 00100030          .long   [010h,030h],[030h,010h],[020h,030h],[030h,020h]
    5851 00022940 00000040          .long   [000h,040h],[040h,000h],[010h,040h],[040h,010h]
    5852 000229c0 00200040          .long   [020h,040h],[040h,020h],[030h,040h],[040h,030h]
    5853 00022a40 00000050          .long   [000h,050h],[050h,000h],[010h,050h],[050h,010h]
    5854 00022ac0 00200050          .long   [020h,050h],[050h,020h],[030h,050h],[050h,030h]
    5855 00022b40 00400050          .long   [040h,050h],[050h,040h]
    5856                    
    5857 00022b80           PLAYER_COLOR_TABLE
    5858 00022b80     0606          .WORD   COLOR_PURPLE,COLOR_BLUE,COLOR_YELLOW,COLOR_GREEN
    5859                    
    5860                    ;PLAYER_TEAM_COLOR_TABLE
    5861                    ;       .WORD   COLOR_BLUE,COLOR_BLUE,COLOR_RED,COLOR_RED
    5862                    
    5863 00022bc0           PICKBOX
    5864 00022bc0     0000          .word   00H,21,21
    5865 00022bf0 00000000          .long   00H
    5866 00022c10     0000          .word   0,0
    5867 00022c30 00000000!         .long   T2FIXED
    5868                    
    5869 00022c50           PICKBOX_INIT
    5870 00022c50 00022bc0'         .long   PICKBOX
    5871 00022c70     800c          .word   DMACAL,M_SCRNOBJ|M_NOSCALE|M_NOVEL
    5872 00022c90     0000          .word   0
    5873                    
    5874 00022ca0           PICKBOX_NORMAL_FLASH_ANIM
    5875 00022ca0                   LWL     1,AFUNC|10,OBJ_CONST_ALL
    5876 00022cf0                   LWL     1,AFUNC|5,OBJ_OFF
    5877 00022d40 00000000          .long   0
    5878                    
    5879 00022d60           PICKBOX_TEAM_FLASH_ANIM
    5880 00022d60                   LWLL    1,AFUNC|1,A_2FUNCS+6,A_PICKBOX_CHECK
    5881 00022dd0 00000000!         .LONG   A_Anim_DSJ,PICKBOX_TEAM_FLASH_ANIM
    5882 00022e10                   LWL     1,AFUNC|5,OBJ_OFF
    5883 00022e60 00000000          .long   0
    5884                    
    5885 00022e80           PICKBOX_SELECT_FLASH_ANIM
    5886 00022e80                   LWL     1,AFUNC|SELECT_FLASH_ONTIME,OBJ_CONST_ALL
    5887 00022ed0                   LW      1,AFUNC|SELECT_FLASH_ONTIME
    5888 00022f00 00000006!         .LONG   A_2FUNCS+6,OBJ_OFF,A_Anim_DSJ,PICKBOX_SELECT_FLASH_ANIM
    5889 00022f80                   LWL     1,AFUNC|1,PULL_ANIM
    5890                    
    5891 00022fd0           MUG_BGND_FLASH_ANIM
    5892 00022fd0                   LWL     1,AFUNC|SELECT_FLASH_ONTIME,OBJ_CONST_ALL
    5893 00023020                   LW      1,AFUNC|SELECT_FLASH_ONTIME
    5894 00023050 00000006!         .LONG   A_2FUNCS+6,OBJ_ON,A_Anim_DSJ,MUG_BGND_FLASH_ANIM
    5895 000230d0                   LWL     1,AFUNC|1,PULL_ANIM
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  136

    5896                    
    5897 00023120           ARROW_PTR_INIT
    5898 00023120 00000000!         .long   arrow4t
    5899 00023140     8002          .word   DMAWNZ,M_SCRNOBJ|M_NOSCALE|M_NOVEL
    5900 00023160     0104          .word   OM_OID|OM_ANIM
    5901 00023170     07ff          .word   OID_JUNK
    5902 00023180 000231a0'         .long   ARROW_PTR_ANIM
    5903                    
    5904 000231a0           ARROW_PTR_ANIM
    5905 000231a0                   LWL     1,AFUNC|1,A_UPDATE_ARROW
    5906 000231f0 00000000          .long   0
    5907                    
    5908 00023210           ARROW_IMG_TABLE
    5909 00023210 00000000!         .LONG   arrow1t,arrow2t,arrow3t,arrow4t
    5910                    
    5911 00023290           ALPHA_ARRAY
    5912 00023290 00150012          .LONG   [21,18],[-1,-1]
    5913 000232d0 00150012          .LONG   [21,18],[-1,-1+ALPHA_X_SPACING]
    5914 00023310 00150012          .LONG   [21,18],[-1,-1+ALPHA_X_SPACING*2]
    5915 00023350 00150012          .LONG   [21,18],[-1,-1+ALPHA_X_SPACING*3]
    5916                    
    5917 00023390 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING,-1]
    5918 000233d0 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING,-1+ALPHA_X_SPACING]
    5919 00023410 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING,-1+ALPHA_X_SPACING*2]
    5920 00023450 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING,-1+ALPHA_X_SPACING*3]
    5921                    
    5922 00023490 0015000b          .LONG   [21,11],[-1+ALPHA_Y_SPACING*2,3]
    5923 000234d0 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING*2,-1+ALPHA_X_SPACING]
    5924 00023510 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING*2,-1+ALPHA_X_SPACING*2]
    5925 00023550 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING*2,-1+ALPHA_X_SPACING*3]
    5926                    
    5927 00023590 00150015          .LONG   [21,21],[-1+ALPHA_Y_SPACING*3,-2]
    5928 000235d0 00150013          .LONG   [21,19],[-1+ALPHA_Y_SPACING*3,-1+ALPHA_X_SPACING]
    5929 00023610 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING*3,-1+ALPHA_X_SPACING*2]
    5930 00023650 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING*3,-1+ALPHA_X_SPACING*3]
    5931                    
    5932 00023690 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING*4,-1]
    5933 000236d0 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING*4,-1+ALPHA_X_SPACING]
    5934 00023710 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING*4,-1+ALPHA_X_SPACING*2]
    5935 00023750 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING*4,-1+ALPHA_X_SPACING*3]
    5936                    
    5937 00023790 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING*5,-1]
    5938 000237d0 00150013          .LONG   [21,19],[-1+ALPHA_Y_SPACING*5,-1+ALPHA_X_SPACING]
    5939 00023810 00150015          .LONG   [21,21],[-1+ALPHA_Y_SPACING*5,-2+ALPHA_X_SPACING*2]
    5940 00023850 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING*5,-1+ALPHA_X_SPACING*3]
    5941                    
    5942 00023890 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING*6,-1]
    5943 000238d0 00150012          .LONG   [21,18],[-1+ALPHA_Y_SPACING*6,-1+ALPHA_X_SPACING]
    5944 00023910 00130013          .LONG   [19,19],[ALPHA_Y_SPACING*6,-1+ALPHA_X_SPACING*2]
    5945 00023950 00160011          .LONG   [22,17],[-2+ALPHA_Y_SPACING*6,ALPHA_X_SPACING*3]
    5946                    
    5947 00023990           MONTH_ARRAY
    5948 00023990 00150029          .LONG   [21,41],[-1,0]
    5949 000239d0 00150028          .LONG   [21,40],[-1,MONTH_X_SPACING]
    5950                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  137

    5951 00023a10 0015002b          .LONG   [21,43],[-1+MONTH_Y_SPACING,-1]
    5952 00023a50 00150028          .LONG   [21,40],[-1+MONTH_Y_SPACING,MONTH_X_SPACING]
    5953                    
    5954 00023a90 0015002b          .LONG   [21,43],[-1+MONTH_Y_SPACING*2,-1]
    5955 00023ad0 00150029          .LONG   [21,41],[-1+MONTH_Y_SPACING*2,MONTH_X_SPACING]
    5956                    
    5957 00023b10 00150028          .LONG   [21,40],[-1+MONTH_Y_SPACING*3,0]
    5958 00023b50 00150028          .LONG   [21,40],[-1+MONTH_Y_SPACING*3,MONTH_X_SPACING]
    5959                    
    5960 00023b90 00150028          .LONG   [21,40],[-1+MONTH_Y_SPACING*4,0]
    5961 00023bd0 00150028          .LONG   [21,40],[-1+MONTH_Y_SPACING*4,MONTH_X_SPACING]
    5962                    
    5963 00023c10 0015002a          .LONG   [21,42],[-1+MONTH_Y_SPACING*5,-1]
    5964 00023c50 00150028          .LONG   [21,40],[-1+MONTH_Y_SPACING*5,MONTH_X_SPACING]
    5965                    
    5966 00023c90           DAY_ARRAY
    5967 00023c90 0015000c          .LONG   [21,12],[-1,3]
    5968 00023cd0 0015000e          .LONG   [21,14],[-1,2+DAY_X_SPACING]
    5969 00023d10 0015000e          .LONG   [21,14],[-1,2+DAY_X_SPACING*2]
    5970 00023d50 0015000e          .LONG   [21,14],[-1,2+DAY_X_SPACING*3]
    5971                    
    5972 00023d90 0015000e          .LONG   [21,14],[-1+DAY_Y_SPACING,2]
    5973 00023dd0 0015000e          .LONG   [21,14],[-1+DAY_Y_SPACING,2+DAY_X_SPACING]
    5974 00023e10 0015000e          .LONG   [21,14],[-1+DAY_Y_SPACING,2+DAY_X_SPACING*2]
    5975 00023e50 0015000e          .LONG   [21,14],[-1+DAY_Y_SPACING,2+DAY_X_SPACING*3]
    5976                    
    5977 00023e90 0015000e          .LONG   [21,14],[-1+DAY_Y_SPACING*2,2]
    5978 00023ed0 00150014          .LONG   [21,20],[-1+DAY_Y_SPACING*2,-1+DAY_X_SPACING]
    5979 00023f10 00150012          .LONG   [21,18],[-1+DAY_Y_SPACING*2,DAY_X_SPACING*2]
    5980 00023f50 00150014          .LONG   [21,20],[-1+DAY_Y_SPACING*2,-1+DAY_X_SPACING*3]
    5981                    
    5982 00023f90 00150014          .LONG   [21,20],[-1+DAY_Y_SPACING*3,-1]
    5983 00023fd0 00150014          .LONG   [21,20],[-1+DAY_Y_SPACING*3,-1+DAY_X_SPACING]
    5984 00024010 00150014          .LONG   [21,20],[-1+DAY_Y_SPACING*3,-1+DAY_X_SPACING*2]
    5985 00024050 00150014          .LONG   [21,20],[-1+DAY_Y_SPACING*3,-1+DAY_X_SPACING*3]
    5986                    
    5987 00024090 00150014          .LONG   [21,20],[-1+DAY_Y_SPACING*4,-1]
    5988 000240d0 00150014          .LONG   [21,20],[-1+DAY_Y_SPACING*4,-1+DAY_X_SPACING]
    5989 00024110 00150014          .LONG   [21,20],[-1+DAY_Y_SPACING*4,-1+DAY_X_SPACING*2]
    5990 00024150 00150016          .LONG   [21,22],[-1+DAY_Y_SPACING*4,-2+DAY_X_SPACING*3]
    5991                    
    5992 00024190 00150014          .LONG   [21,20],[-1+DAY_Y_SPACING*5,-1]
    5993 000241d0 00150016          .LONG   [21,22],[-1+DAY_Y_SPACING*5,-2+DAY_X_SPACING]
    5994 00024210 00150016          .LONG   [21,22],[-1+DAY_Y_SPACING*5,-2+DAY_X_SPACING*2]
    5995 00024250 00150016          .LONG   [21,22],[-1+DAY_Y_SPACING*5,-2+DAY_X_SPACING*3]
    5996                    
    5997 00024290 00150016          .LONG   [21,22],[-1+DAY_Y_SPACING*6,-2]
    5998 000242d0 00150016          .LONG   [21,22],[-1+DAY_Y_SPACING*6,-2+DAY_X_SPACING]
    5999 00024310 00150016          .LONG   [21,22],[-1+DAY_Y_SPACING*6,-2+DAY_X_SPACING*2]
    6000 00024350 00150016          .LONG   [21,22],[-1+DAY_Y_SPACING*6,-2+DAY_X_SPACING*3]
    6001                    
    6002 00024390 00150016          .LONG   [21,22],[-1+DAY_Y_SPACING*7,-2]
    6003 000243d0 00150016          .LONG   [21,22],[-1+DAY_Y_SPACING*7,-2+DAY_X_SPACING]
    6004 00024410 00150014          .LONG   [21,20],[-1+DAY_Y_SPACING*7,-1+DAY_X_SPACING*2]
    6005                    
TMS340 COFF Macro Assembler Version 6.10     Wed Apr 21 11:36:35 2021
 Copyright (c) 1985-1991  Texas Instruments Incorporated 

                                                                     PAGE  138

    6006                            .end

 No Errors,  No Warnings
